(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function A0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function gb(){if(Tv)return Il;Tv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var Sv;function pb(){return Sv||(Sv=1,wd.exports=gb()),wd.exports}var Z=pb(),Rd={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function yb(){if(bv)return ke;bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,X={};function F(x,ie,Te){this.props=x,this.context=ie,this.refs=X,this.updater=Te||R}F.prototype.isReactComponent={},F.prototype.setState=function(x,ie){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ie,"setState")},F.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=F.prototype;function ee(x,ie,Te){this.props=x,this.context=ie,this.refs=X,this.updater=Te||R}var oe=ee.prototype=new $;oe.constructor=ee,k(oe,F.prototype),oe.isPureReactComponent=!0;var ye=Array.isArray,ue={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function N(x,ie,Te,fe,de,Ve){return Te=Ve.ref,{$$typeof:i,type:x,key:ie,ref:Te!==void 0?Te:null,props:Ve}}function w(x,ie){return N(x.type,ie,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function I(x){var ie={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Te){return ie[Te]})}var V=/\/+/g;function z(x,ie){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):ie.toString(36)}function O(){}function ht(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(O,O):(x.status="pending",x.then(function(ie){x.status==="pending"&&(x.status="fulfilled",x.value=ie)},function(ie){x.status==="pending"&&(x.status="rejected",x.reason=ie)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function pt(x,ie,Te,fe,de){var Ve=typeof x;(Ve==="undefined"||Ve==="boolean")&&(x=null);var Me=!1;if(x===null)Me=!0;else switch(Ve){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(x.$$typeof){case i:case e:Me=!0;break;case E:return Me=x._init,pt(Me(x._payload),ie,Te,fe,de)}}if(Me)return de=de(x),Me=fe===""?"."+z(x,0):fe,ye(de)?(Te="",Me!=null&&(Te=Me.replace(V,"$&/")+"/"),pt(de,ie,Te,"",function(bt){return bt})):de!=null&&(b(de)&&(de=w(de,Te+(de.key==null||x&&x.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+Me)),ie.push(de)),1;Me=0;var Ct=fe===""?".":fe+":";if(ye(x))for(var $e=0;$e<x.length;$e++)fe=x[$e],Ve=Ct+z(fe,$e),Me+=pt(fe,ie,Te,Ve,de);else if($e=C(x),typeof $e=="function")for(x=$e.call(x),$e=0;!(fe=x.next()).done;)fe=fe.value,Ve=Ct+z(fe,$e++),Me+=pt(fe,ie,Te,Ve,de);else if(Ve==="object"){if(typeof x.then=="function")return pt(ht(x),ie,Te,fe,de);throw ie=String(x),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(x,ie,Te){if(x==null)return x;var fe=[],de=0;return pt(x,fe,"","",function(Ve){return ie.call(Te,Ve,de++)}),fe}function le(x){if(x._status===-1){var ie=x._result;ie=ie(),ie.then(function(Te){(x._status===0||x._status===-1)&&(x._status=1,x._result=Te)},function(Te){(x._status===0||x._status===-1)&&(x._status=2,x._result=Te)}),x._status===-1&&(x._status=0,x._result=ie)}if(x._status===1)return x._result.default;throw x._result}var pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function He(){}return ke.Children={map:se,forEach:function(x,ie,Te){se(x,function(){ie.apply(this,arguments)},Te)},count:function(x){var ie=0;return se(x,function(){ie++}),ie},toArray:function(x){return se(x,function(ie){return ie})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ke.Component=F,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=ee,ke.StrictMode=a,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},ke.cache=function(x){return function(){return x.apply(null,arguments)}},ke.cloneElement=function(x,ie,Te){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var fe=k({},x.props),de=x.key,Ve=void 0;if(ie!=null)for(Me in ie.ref!==void 0&&(Ve=void 0),ie.key!==void 0&&(de=""+ie.key),ie)!U.call(ie,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ie.ref===void 0||(fe[Me]=ie[Me]);var Me=arguments.length-2;if(Me===1)fe.children=Te;else if(1<Me){for(var Ct=Array(Me),$e=0;$e<Me;$e++)Ct[$e]=arguments[$e+2];fe.children=Ct}return N(x.type,de,void 0,void 0,Ve,fe)},ke.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},ke.createElement=function(x,ie,Te){var fe,de={},Ve=null;if(ie!=null)for(fe in ie.key!==void 0&&(Ve=""+ie.key),ie)U.call(ie,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(de[fe]=ie[fe]);var Me=arguments.length-2;if(Me===1)de.children=Te;else if(1<Me){for(var Ct=Array(Me),$e=0;$e<Me;$e++)Ct[$e]=arguments[$e+2];de.children=Ct}if(x&&x.defaultProps)for(fe in Me=x.defaultProps,Me)de[fe]===void 0&&(de[fe]=Me[fe]);return N(x,Ve,void 0,void 0,null,de)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(x){return{$$typeof:m,render:x}},ke.isValidElement=b,ke.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:le}},ke.memo=function(x,ie){return{$$typeof:y,type:x,compare:ie===void 0?null:ie}},ke.startTransition=function(x){var ie=ue.T,Te={};ue.T=Te;try{var fe=x(),de=ue.S;de!==null&&de(Te,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(He,pe)}catch(Ve){pe(Ve)}finally{ue.T=ie}},ke.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},ke.use=function(x){return ue.H.use(x)},ke.useActionState=function(x,ie,Te){return ue.H.useActionState(x,ie,Te)},ke.useCallback=function(x,ie){return ue.H.useCallback(x,ie)},ke.useContext=function(x){return ue.H.useContext(x)},ke.useDebugValue=function(){},ke.useDeferredValue=function(x,ie){return ue.H.useDeferredValue(x,ie)},ke.useEffect=function(x,ie){return ue.H.useEffect(x,ie)},ke.useId=function(){return ue.H.useId()},ke.useImperativeHandle=function(x,ie,Te){return ue.H.useImperativeHandle(x,ie,Te)},ke.useInsertionEffect=function(x,ie){return ue.H.useInsertionEffect(x,ie)},ke.useLayoutEffect=function(x,ie){return ue.H.useLayoutEffect(x,ie)},ke.useMemo=function(x,ie){return ue.H.useMemo(x,ie)},ke.useOptimistic=function(x,ie){return ue.H.useOptimistic(x,ie)},ke.useReducer=function(x,ie,Te){return ue.H.useReducer(x,ie,Te)},ke.useRef=function(x){return ue.H.useRef(x)},ke.useState=function(x){return ue.H.useState(x)},ke.useSyncExternalStore=function(x,ie,Te){return ue.H.useSyncExternalStore(x,ie,Te)},ke.useTransition=function(){return ue.H.useTransition()},ke.version="19.0.0",ke}var Av;function Cm(){return Av||(Av=1,Rd.exports=yb()),Rd.exports}var q=Cm();const ya=A0(q);var Cd={exports:{}},Ol={},Dd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function vb(){return wv||(wv=1,function(i){function e(se,le){var pe=se.length;se.push(le);e:for(;0<pe;){var He=pe-1>>>1,x=se[He];if(0<o(x,le))se[He]=le,se[pe]=x,pe=He;else break e}}function n(se){return se.length===0?null:se[0]}function a(se){if(se.length===0)return null;var le=se[0],pe=se.pop();if(pe!==le){se[0]=pe;e:for(var He=0,x=se.length,ie=x>>>1;He<ie;){var Te=2*(He+1)-1,fe=se[Te],de=Te+1,Ve=se[de];if(0>o(fe,pe))de<x&&0>o(Ve,fe)?(se[He]=Ve,se[de]=pe,He=de):(se[He]=fe,se[Te]=pe,He=Te);else if(de<x&&0>o(Ve,pe))se[He]=Ve,se[de]=pe,He=de;else break e}}return le}function o(se,le){var pe=se.sortIndex-le.sortIndex;return pe!==0?pe:se.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,C=3,R=!1,k=!1,X=!1,F=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function oe(se){for(var le=n(y);le!==null;){if(le.callback===null)a(y);else if(le.startTime<=se)a(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(y)}}function ye(se){if(X=!1,oe(se),!k)if(n(g)!==null)k=!0,ht();else{var le=n(y);le!==null&&pt(ye,le.startTime-se)}}var ue=!1,U=-1,N=5,w=-1;function b(){return!(i.unstable_now()-w<N)}function I(){if(ue){var se=i.unstable_now();w=se;var le=!0;try{e:{k=!1,X&&(X=!1,$(U),U=-1),R=!0;var pe=C;try{t:{for(oe(se),A=n(g);A!==null&&!(A.expirationTime>se&&b());){var He=A.callback;if(typeof He=="function"){A.callback=null,C=A.priorityLevel;var x=He(A.expirationTime<=se);if(se=i.unstable_now(),typeof x=="function"){A.callback=x,oe(se),le=!0;break t}A===n(g)&&a(g),oe(se)}else a(g);A=n(g)}if(A!==null)le=!0;else{var ie=n(y);ie!==null&&pt(ye,ie.startTime-se),le=!1}}break e}finally{A=null,C=pe,R=!1}le=void 0}}finally{le?V():ue=!1}}}var V;if(typeof ee=="function")V=function(){ee(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,O=z.port2;z.port1.onmessage=I,V=function(){O.postMessage(null)}}else V=function(){F(I,0)};function ht(){ue||(ue=!0,V())}function pt(se,le){U=F(function(){se(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){k||R||(k=!0,ht())},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(se){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var pe=C;C=le;try{return se()}finally{C=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,le){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=C;C=se;try{return le()}finally{C=pe}},i.unstable_scheduleCallback=function(se,le,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,se){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=pe+x,se={id:E++,callback:le,priorityLevel:se,startTime:pe,expirationTime:x,sortIndex:-1},pe>He?(se.sortIndex=pe,e(y,se),n(g)===null&&se===n(y)&&(X?($(U),U=-1):X=!0,pt(ye,pe-He))):(se.sortIndex=x,e(g,se),k||R||(k=!0,ht())),se},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(se){var le=C;return function(){var pe=C;C=le;try{return se.apply(this,arguments)}finally{C=pe}}}}(Id)),Id}var Rv;function _b(){return Rv||(Rv=1,Dd.exports=vb()),Dd.exports}var Od={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function Eb(){if(Cv)return pn;Cv=1;var i=Cm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},pn.flushSync=function(g){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=E,a.d.f()}},pn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},pn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},pn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:R}):E==="script"&&a.d.X(g,{crossOrigin:A,integrity:C,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},pn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);a.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},pn.requestFormReset=function(g){a.d.r(g)},pn.unstable_batchedUpdates=function(g,y){return g(y)},pn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.0.0",pn}var Dv;function w0(){if(Dv)return Od.exports;Dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Od.exports=Eb(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function Tb(){if(Iv)return Ol;Iv=1;var i=_b(),e=Cm(),n=w0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),ye=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case X:return"Suspense";case F:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case k:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return r=t.displayName||null,r!==null?r:w(t.type)||"Memo";case ee:r=t._payload,t=t._init;try{return w(t(r))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,z;function O(t){if(V===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+z}var ht=!1;function pt(t,r){if(!t||ht)return"";ht=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var Q=J}Reflect.construct(t,[],re)}else{try{re.call()}catch(J){Q=J}t.call(re.prototype)}}else{try{throw Error()}catch(J){Q=J}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),P=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===P.length)for(l=D.length-1,h=P.length-1;1<=l&&0<=h&&D[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==P[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{ht=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?O(s):""}function se(t){switch(t.tag){case 26:case 27:case 5:return O(t.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return t=pt(t.type,!1),t;case 11:return t=pt(t.type.render,!1),t;case 1:return t=pt(t.type,!0),t;default:return""}}function le(t){try{var r="";do r+=se(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function pe(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function He(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function x(t){if(pe(t)!==t)throw Error(a(188))}function ie(t){var r=t.alternate;if(!r){if(r=pe(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return x(h),t;if(d===l)return x(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function Te(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=Te(t),r!==null)return r;t=t.sibling}return null}var fe=Array.isArray,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},Me=[],Ct=-1;function $e(t){return{current:t}}function bt(t){0>Ct||(t.current=Me[Ct],Me[Ct]=null,Ct--)}function Le(t,r){Ct++,Me[Ct]=t.current,t.current=r}var Dt=$e(null),qn=$e(null),Cn=$e(null),mn=$e(null);function wr(t,r){switch(Le(Cn,r),Le(qn,t),Le(Dt,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Xy(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=Xy(t),r=Zy(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}bt(Dt),Le(Dt,r)}function hr(){bt(Dt),bt(qn),bt(Cn)}function Oi(t){t.memoizedState!==null&&Le(mn,t);var r=Dt.current,s=Zy(r,t.type);r!==s&&(Le(qn,t),Le(Dt,s))}function Ni(t){qn.current===t&&(bt(Dt),bt(qn)),mn.current===t&&(bt(mn),Al._currentValue=Ve)}var Mi=Object.prototype.hasOwnProperty,Xr=i.unstable_scheduleCallback,xi=i.unstable_cancelCallback,fr=i.unstable_shouldYield,dr=i.unstable_requestPaint,sn=i.unstable_now,Vi=i.unstable_getCurrentPriorityLevel,ft=i.unstable_ImmediatePriority,dt=i.unstable_UserBlockingPriority,Fn=i.unstable_NormalPriority,Li=i.unstable_LowPriority,Na=i.unstable_IdlePriority,Gn=i.log,Rr=i.unstable_setDisableYieldValue,mr=null,Ft=null;function Ma(t){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(mr,t,void 0,(t.current.flags&128)===128)}catch{}}function xn(t){if(typeof Gn=="function"&&Rr(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(mr,t)}catch{}}var kt=Math.clz32?Math.clz32:As,Pi=Math.log,Ui=Math.LN2;function As(t){return t>>>=0,t===0?32:31-(Pi(t)/Ui|0)|0}var Vn=128,Cr=4194304;function Dn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function on(t,r){var s=t.pendingLanes;if(s===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=Dn(s):(d&=T,d!==0?l=Dn(d):t||(_=T&~_,_!==0&&(l=Dn(_))))):(T=s&~h,T!==0?l=Dn(T):d!==0?l=Dn(d):t||(_=s&~_,_!==0&&(l=Dn(_)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:l}function Ln(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ki(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(){var t=Vn;return Vn<<=1,(Vn&4194176)===0&&(Vn=128),t}function M(){var t=Cr;return Cr<<=1,(Cr&62914560)===0&&(Cr=4194304),t}function j(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function G(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ae(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,P=t.hiddenUpdates;for(s=_&~s;0<s;){var W=31-kt(s),re=1<<W;T[W]=0,D[W]=-1;var Q=P[W];if(Q!==null)for(P[W]=null,W=0;W<Q.length;W++){var J=Q[W];J!==null&&(J.lane&=-536870913)}s&=~re}l!==0&&me(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function me(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-kt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function Se(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-kt(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function De(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ve(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:gv(t.type))}function _e(t,r){var s=de.p;try{return de.p=t,r()}finally{de.p=s}}var he=Math.random().toString(36).slice(2),Ae="__reactFiber$"+he,Re="__reactProps$"+he,Xe="__reactContainer$"+he,Tt="__reactEvents$"+he,ut="__reactListeners$"+he,Ge="__reactHandles$"+he,St="__reactResources$"+he,Tn="__reactMarker$"+he;function Pn(t){delete t[Ae],delete t[Re],delete t[Tt],delete t[ut],delete t[Ge]}function Vt(t){var r=t[Ae];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Xe]||s[Ae]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=ev(t);t!==null;){if(s=t[Ae])return s;t=ev(t)}return r}t=s,s=t.parentNode}return null}function zt(t){if(t=t[Ae]||t[Xe]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Kn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function In(t){var r=t[St];return r||(r=t[St]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ot(t){t[Tn]=!0}var Dr=new Set,gr={};function je(t,r){lt(t,r),lt(t+"Capture",r)}function lt(t,r){for(gr[t]=r,t=0;t<r.length;t++)Dr.add(r[t])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vt={},Qn={};function Va(t){return Mi.call(Qn,t)?!0:Mi.call(vt,t)?!1:Zr.test(t)?Qn[t]=!0:(vt[t]=!0,!1)}function Ir(t,r,s){if(Va(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function zi(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Yn(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ih(t){var r=cu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function La(t){t._valueTracker||(t._valueTracker=Ih(t))}function Vo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=cu(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jr=/[\n"\\]/g;function It(t){return t.replace(Jr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ji(t,r,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Sn(r)):t.value!==""+Sn(r)&&(t.value=""+Sn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Rs(t,_,Sn(r)):s!=null?Rs(t,_,Sn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Sn(T):t.removeAttribute("name")}function Pa(t,r,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+Sn(s):"",r=r!=null?""+Sn(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Rs(t,r,s){r==="number"&&ws(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function it(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Sn(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ua(t,r,s){if(r!=null&&(r=""+Sn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Sn(s):""}function Bi(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Sn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function $n(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Oh.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function hu(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Lo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Lo(t,d,r[d])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(t){return Mh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xn=null;function Cs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wr=null,ei=null;function ti(t){var r=zt(t);if(r&&(t=r.stateNode)){var s=t[Re]||null;e:switch(t=r.stateNode,r.type){case"input":if(ji(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+It(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[Re]||null;if(!h)throw Error(a(90));ji(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Vo(l)}break e;case"textarea":Ua(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&it(t,!!s.multiple,r,!1)}}}var Uo=!1;function fu(t,r,s){if(Uo)return t(r,s);Uo=!0;try{var l=t(r);return l}finally{if(Uo=!1,(Wr!==null||ei!==null)&&(rc(),Wr&&(r=Wr,t=ei,ei=Wr=null,ti(r),t)))for(r=0;r<t.length;r++)ti(t[r])}}function ka(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Re]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Zn=!1;if(Zt)try{var za={};Object.defineProperty(za,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{Zn=!1}var Nr=null,Hi=null,ni=null;function ko(){if(ni)return ni;var t,r=Hi,s=r.length,l,h="value"in Nr?Nr.value:Nr.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return ni=h.slice(t,1<l?1-l:void 0)}function Mr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function zo(){return!1}function Jt(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xr:zo,this.isPropagationStopped=zo,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),r}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Jt(ct),ja=I({},ct,{view:0,detail:0}),du=Jt(ja),Is,Os,Vr,Ba=I({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(Is=t.screenX-Vr.screenX,Os=t.screenY-Vr.screenY):Os=Is=0,Vr=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),Jn=Jt(Ba),mu=I({},Ba,{dataTransfer:0}),xh=Jt(mu),Ha=I({},ja,{relatedTarget:0}),Ns=Jt(Ha),jo=I({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),Ms=Jt(jo),gu=I({},ct,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xs=Jt(gu),Vh=I({},ct,{data:0}),Bo=Jt(Vh),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=yu[t])?!!r[t]:!1}function Fa(){return Ho}var vu=I({},ja,{key:function(t){if(t.key){var r=qa[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(t){return t.type==="keypress"?Mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vs=Jt(vu),_u=I({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Jt(_u),ri=I({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Eu=Jt(ri),Tu=I({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=Jt(Tu),bu=I({},Ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=Jt(bu),bn=I({},ct,{newState:0,oldState:0}),Au=Jt(bn),wu=[9,13,27,32],Lr=Zt&&"CompositionEvent"in window,c=null;Zt&&"documentMode"in document&&(c=document.documentMode);var p=Zt&&"TextEvent"in window&&!c,v=Zt&&(!Lr||c&&8<c&&11>=c),S=" ",H=!1;function Y(t,r){switch(t){case"keyup":return wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ze=!1;function Gt(t,r){switch(t){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(H=!0,S);case"textInput":return t=r.data,t===S&&H?null:t;default:return null}}function Je(t,r){if(Ze)return t==="compositionend"||!Lr&&Y(t,r)?(t=ko(),ni=Hi=Nr=null,Ze=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Wt[t.type]:r==="textarea"}function ii(t,r,s,l){Wr?ei?ei.push(l):ei=[l]:Wr=l,r=lc(r,"onChange"),0<r.length&&(s=new Ds("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var ln=null,Pr=null;function Fo(t){Gy(t,0)}function Ru(t){var r=Kn(t);if(Vo(r))return t}function Eg(t,r){if(t==="change")return r}var Tg=!1;if(Zt){var Lh;if(Zt){var Ph="oninput"in document;if(!Ph){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Ph=typeof Sg.oninput=="function"}Lh=Ph}else Lh=!1;Tg=Lh&&(!document.documentMode||9<document.documentMode)}function bg(){ln&&(ln.detachEvent("onpropertychange",Ag),Pr=ln=null)}function Ag(t){if(t.propertyName==="value"&&Ru(Pr)){var r=[];ii(r,Pr,t,Cs(t)),fu(Fo,r)}}function GT(t,r,s){t==="focusin"?(bg(),ln=r,Pr=s,ln.attachEvent("onpropertychange",Ag)):t==="focusout"&&bg()}function KT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Pr)}function QT(t,r){if(t==="click")return Ru(r)}function YT(t,r){if(t==="input"||t==="change")return Ru(r)}function $T(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Un=typeof Object.is=="function"?Object.is:$T;function Go(t,r){if(Un(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Mi.call(r,h)||!Un(t[h],r[h]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,r){var s=wg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wg(s)}}function Cg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Cg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ws(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=ws(t.document)}return r}function Uh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function XT(t,r){var s=Dg(r);r=t.focusedElem;var l=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&Cg(r.ownerDocument.documentElement,r)){if(l!==null&&Uh(r)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=Rg(r,d);var _=Rg(r,l);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(t),s.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var ZT=Zt&&"documentMode"in document&&11>=document.documentMode,Ps=null,kh=null,Ko=null,zh=!1;function Ig(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||Ps==null||Ps!==ws(l)||(l=Ps,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=lc(kh,"onSelect"),0<l.length&&(r=new Ds("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Ps)))}function Ga(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Us={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},jh={},Og={};Zt&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Ka(t){if(jh[t])return jh[t];if(!Us[t])return t;var r=Us[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Og)return jh[t]=r[s];return t}var Ng=Ka("animationend"),Mg=Ka("animationiteration"),xg=Ka("animationstart"),JT=Ka("transitionrun"),WT=Ka("transitionstart"),eS=Ka("transitioncancel"),Vg=Ka("transitionend"),Lg=new Map,Pg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pr(t,r){Lg.set(t,r),je(r,[t])}var Wn=[],ks=0,Bh=0;function Cu(){for(var t=ks,r=Bh=ks=0;r<t;){var s=Wn[r];Wn[r++]=null;var l=Wn[r];Wn[r++]=null;var h=Wn[r];Wn[r++]=null;var d=Wn[r];if(Wn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ug(s,h,d)}}function Du(t,r,s,l){Wn[ks++]=t,Wn[ks++]=r,Wn[ks++]=s,Wn[ks++]=l,Bh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hh(t,r,s,l){return Du(t,r,s,l),Iu(t)}function qi(t,r){return Du(t,null,null,r),Iu(t)}function Ug(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&r!==null&&t.tag===3&&(d=t.stateNode,h=31-kt(s),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[r]:t.push(r),r.lane=s|536870912)}function Iu(t){if(50<yl)throw yl=0,$f=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var zs={},kg=new WeakMap;function er(t,r){if(typeof t=="object"&&t!==null){var s=kg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:le(r)},kg.set(t,r),r)}return{value:t,source:r,stack:le(r)}}var js=[],Bs=0,Ou=null,Nu=0,tr=[],nr=0,Qa=null,ai=1,si="";function Ya(t,r){js[Bs++]=Nu,js[Bs++]=Ou,Ou=t,Nu=r}function zg(t,r,s){tr[nr++]=ai,tr[nr++]=si,tr[nr++]=Qa,Qa=t;var l=ai;t=si;var h=32-kt(l)-1;l&=~(1<<h),s+=1;var d=32-kt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ai=1<<32-kt(r)+h|s<<h|l,si=d+t}else ai=1<<d|s<<h|l,si=t}function qh(t){t.return!==null&&(Ya(t,1),zg(t,1,0))}function Fh(t){for(;t===Ou;)Ou=js[--Bs],js[Bs]=null,Nu=js[--Bs],js[Bs]=null;for(;t===Qa;)Qa=tr[--nr],tr[nr]=null,si=tr[--nr],tr[nr]=null,ai=tr[--nr],tr[nr]=null}var An=null,un=null,at=!1,yr=null,Ur=!1,Gh=Error(a(519));function $a(t){var r=Error(a(418,""));throw $o(er(r,t)),Gh}function jg(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[Ae]=t,r[Re]=l,s){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)Ye(_l[s],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Ye("invalid",r),Pa(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),La(r);break;case"select":Ye("invalid",r);break;case"textarea":Ye("invalid",r),Bi(r,l.value,l.defaultValue,l.children),La(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||$y(r.textContent,s)?(l.popover!=null&&(Ye("beforetoggle",r),Ye("toggle",r)),l.onScroll!=null&&Ye("scroll",r),l.onScrollEnd!=null&&Ye("scrollend",r),l.onClick!=null&&(r.onclick=uc),r=!0):r=!1,r||$a(t)}function Bg(t){for(An=t.return;An;)switch(An.tag){case 3:case 27:Ur=!0;return;case 5:case 13:Ur=!1;return;default:An=An.return}}function Qo(t){if(t!==An)return!1;if(!at)return Bg(t),at=!0,!1;var r=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||fd(t.type,t.memoizedProps)),s=!s),s&&(r=!0),r&&un&&$a(t),Bg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){un=_r(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}un=null}}else un=An?_r(t.stateNode.nextSibling):null;return!0}function Yo(){un=An=null,at=!1}function $o(t){yr===null?yr=[t]:yr.push(t)}var Xo=Error(a(460)),Hg=Error(a(474)),Kh={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mu(){}function Fg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Mu,Mu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===Xo?Error(a(483)):t;default:if(typeof r.status=="string")r.then(Mu,Mu);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===Xo?Error(a(483)):t}throw Zo=r,Xo}}var Zo=null;function Gg(){if(Zo===null)throw Error(a(459));var t=Zo;return Zo=null,t}var Hs=null,Jo=0;function xu(t){var r=Jo;return Jo+=1,Hs===null&&(Hs=[]),Fg(Hs,t,r)}function Wo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Vu(t,r){throw r.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Kg(t){var r=t._init;return r(t._payload)}function Qg(t){function r(B,L){if(t){var K=B.deletions;K===null?(B.deletions=[L],B.flags|=16):K.push(L)}}function s(B,L){if(!t)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=ta(B,L),B.index=0,B.sibling=null,B}function d(B,L,K){return B.index=K,t?(K=B.alternate,K!==null?(K=K.index,K<L?(B.flags|=33554434,L):K):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=33554434),B}function T(B,L,K,te){return L===null||L.tag!==6?(L=Bf(K,B.mode,te),L.return=B,L):(L=h(L,K),L.return=B,L)}function D(B,L,K,te){var be=K.type;return be===g?W(B,L,K.props.children,te,K.key):L!==null&&(L.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Kg(be)===L.type)?(L=h(L,K.props),Wo(L,K),L.return=B,L):(L=Ju(K.type,K.key,K.props,null,B.mode,te),Wo(L,K),L.return=B,L)}function P(B,L,K,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=Hf(K,B.mode,te),L.return=B,L):(L=h(L,K.children||[]),L.return=B,L)}function W(B,L,K,te,be){return L===null||L.tag!==7?(L=as(K,B.mode,te,be),L.return=B,L):(L=h(L,K),L.return=B,L)}function re(B,L,K){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Bf(""+L,B.mode,K),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case f:return K=Ju(L.type,L.key,L.props,null,B.mode,K),Wo(K,L),K.return=B,K;case m:return L=Hf(L,B.mode,K),L.return=B,L;case ee:var te=L._init;return L=te(L._payload),re(B,L,K)}if(fe(L)||U(L))return L=as(L,B.mode,K,null),L.return=B,L;if(typeof L.then=="function")return re(B,xu(L),K);if(L.$$typeof===R)return re(B,$u(B,L),K);Vu(B,L)}return null}function Q(B,L,K,te){var be=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return be!==null?null:T(B,L,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case f:return K.key===be?D(B,L,K,te):null;case m:return K.key===be?P(B,L,K,te):null;case ee:return be=K._init,K=be(K._payload),Q(B,L,K,te)}if(fe(K)||U(K))return be!==null?null:W(B,L,K,te,null);if(typeof K.then=="function")return Q(B,L,xu(K),te);if(K.$$typeof===R)return Q(B,L,$u(B,K),te);Vu(B,K)}return null}function J(B,L,K,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(K)||null,T(L,B,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case f:return B=B.get(te.key===null?K:te.key)||null,D(L,B,te,be);case m:return B=B.get(te.key===null?K:te.key)||null,P(L,B,te,be);case ee:var qe=te._init;return te=qe(te._payload),J(B,L,K,te,be)}if(fe(te)||U(te))return B=B.get(K)||null,W(L,B,te,be,null);if(typeof te.then=="function")return J(B,L,K,xu(te),be);if(te.$$typeof===R)return J(B,L,K,$u(L,te),be);Vu(L,te)}return null}function we(B,L,K,te){for(var be=null,qe=null,Ce=L,Ie=L=0,nn=null;Ce!==null&&Ie<K.length;Ie++){Ce.index>Ie?(nn=Ce,Ce=null):nn=Ce.sibling;var st=Q(B,Ce,K[Ie],te);if(st===null){Ce===null&&(Ce=nn);break}t&&Ce&&st.alternate===null&&r(B,Ce),L=d(st,L,Ie),qe===null?be=st:qe.sibling=st,qe=st,Ce=nn}if(Ie===K.length)return s(B,Ce),at&&Ya(B,Ie),be;if(Ce===null){for(;Ie<K.length;Ie++)Ce=re(B,K[Ie],te),Ce!==null&&(L=d(Ce,L,Ie),qe===null?be=Ce:qe.sibling=Ce,qe=Ce);return at&&Ya(B,Ie),be}for(Ce=l(Ce);Ie<K.length;Ie++)nn=J(Ce,B,Ie,K[Ie],te),nn!==null&&(t&&nn.alternate!==null&&Ce.delete(nn.key===null?Ie:nn.key),L=d(nn,L,Ie),qe===null?be=nn:qe.sibling=nn,qe=nn);return t&&Ce.forEach(function(la){return r(B,la)}),at&&Ya(B,Ie),be}function Pe(B,L,K,te){if(K==null)throw Error(a(151));for(var be=null,qe=null,Ce=L,Ie=L=0,nn=null,st=K.next();Ce!==null&&!st.done;Ie++,st=K.next()){Ce.index>Ie?(nn=Ce,Ce=null):nn=Ce.sibling;var la=Q(B,Ce,st.value,te);if(la===null){Ce===null&&(Ce=nn);break}t&&Ce&&la.alternate===null&&r(B,Ce),L=d(la,L,Ie),qe===null?be=la:qe.sibling=la,qe=la,Ce=nn}if(st.done)return s(B,Ce),at&&Ya(B,Ie),be;if(Ce===null){for(;!st.done;Ie++,st=K.next())st=re(B,st.value,te),st!==null&&(L=d(st,L,Ie),qe===null?be=st:qe.sibling=st,qe=st);return at&&Ya(B,Ie),be}for(Ce=l(Ce);!st.done;Ie++,st=K.next())st=J(Ce,B,Ie,st.value,te),st!==null&&(t&&st.alternate!==null&&Ce.delete(st.key===null?Ie:st.key),L=d(st,L,Ie),qe===null?be=st:qe.sibling=st,qe=st);return t&&Ce.forEach(function(mb){return r(B,mb)}),at&&Ya(B,Ie),be}function Mt(B,L,K,te){if(typeof K=="object"&&K!==null&&K.type===g&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case f:e:{for(var be=K.key;L!==null;){if(L.key===be){if(be=K.type,be===g){if(L.tag===7){s(B,L.sibling),te=h(L,K.props.children),te.return=B,B=te;break e}}else if(L.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Kg(be)===L.type){s(B,L.sibling),te=h(L,K.props),Wo(te,K),te.return=B,B=te;break e}s(B,L);break}else r(B,L);L=L.sibling}K.type===g?(te=as(K.props.children,B.mode,te,K.key),te.return=B,B=te):(te=Ju(K.type,K.key,K.props,null,B.mode,te),Wo(te,K),te.return=B,B=te)}return _(B);case m:e:{for(be=K.key;L!==null;){if(L.key===be)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){s(B,L.sibling),te=h(L,K.children||[]),te.return=B,B=te;break e}else{s(B,L);break}else r(B,L);L=L.sibling}te=Hf(K,B.mode,te),te.return=B,B=te}return _(B);case ee:return be=K._init,K=be(K._payload),Mt(B,L,K,te)}if(fe(K))return we(B,L,K,te);if(U(K)){if(be=U(K),typeof be!="function")throw Error(a(150));return K=be.call(K),Pe(B,L,K,te)}if(typeof K.then=="function")return Mt(B,L,xu(K),te);if(K.$$typeof===R)return Mt(B,L,$u(B,K),te);Vu(B,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,L!==null&&L.tag===6?(s(B,L.sibling),te=h(L,K),te.return=B,B=te):(s(B,L),te=Bf(K,B.mode,te),te.return=B,B=te),_(B)):s(B,L)}return function(B,L,K,te){try{Jo=0;var be=Mt(B,L,K,te);return Hs=null,be}catch(Ce){if(Ce===Xo)throw Ce;var qe=sr(29,Ce,null,B.mode);return qe.lanes=te,qe.return=B,qe}finally{}}}var Xa=Qg(!0),Yg=Qg(!1),qs=$e(null),Lu=$e(0);function $g(t,r){t=yi,Le(Lu,t),Le(qs,r),yi=t|r.baseLanes}function Qh(){Le(Lu,yi),Le(qs,qs.current)}function Yh(){yi=Lu.current,bt(qs),bt(Lu)}var rr=$e(null),kr=null;function Fi(t){var r=t.alternate;Le(Qt,Qt.current&1),Le(rr,t),kr===null&&(r===null||qs.current!==null||r.memoizedState!==null)&&(kr=t)}function Xg(t){if(t.tag===22){if(Le(Qt,Qt.current),Le(rr,t),kr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(kr=t)}}else Gi()}function Gi(){Le(Qt,Qt.current),Le(rr,rr.current)}function oi(t){bt(rr),kr===t&&(kr=null),bt(Qt)}var Qt=$e(0);function Pu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},nS=i.unstable_scheduleCallback,rS=i.unstable_NormalPriority,Yt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new tS,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&nS(rS,function(){t.controller.abort()})}var tl=null,Xh=0,Fs=0,Gs=null;function iS(t,r){if(tl===null){var s=tl=[];Xh=0,Fs=rd(),Gs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xh++,r.then(Zg,Zg),r}function Zg(){if(--Xh===0&&tl!==null){Gs!==null&&(Gs.status="fulfilled");var t=tl;tl=null,Fs=0,Gs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function aS(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Jg=b.S;b.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&iS(t,r),Jg!==null&&Jg(t,r)};var Za=$e(null);function Zh(){var t=Za.current;return t!==null?t:_t.pooledCache}function Uu(t,r){r===null?Le(Za,Za.current):Le(Za,r.pool)}function Wg(){var t=Zh();return t===null?null:{parent:Yt._currentValue,pool:t}}var Ki=0,Be=null,mt=null,jt=null,ku=!1,Ks=!1,Ja=!1,zu=0,nl=0,Qs=null,sS=0;function Lt(){throw Error(a(321))}function Jh(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Un(t[s],r[s]))return!1;return!0}function Wh(t,r,s,l,h,d){return Ki=d,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=t===null||t.memoizedState===null?Wa:Qi,Ja=!1,d=s(l,h),Ja=!1,Ks&&(d=tp(r,s,l,h)),ep(t),d}function ep(t){b.H=zr;var r=mt!==null&&mt.next!==null;if(Ki=0,jt=mt=Be=null,ku=!1,nl=0,Qs=null,r)throw Error(a(300));t===null||en||(t=t.dependencies,t!==null&&Yu(t)&&(en=!0))}function tp(t,r,s,l){Be=t;var h=0;do{if(Ks&&(Qs=null),nl=0,Ks=!1,25<=h)throw Error(a(301));if(h+=1,jt=mt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=es,d=r(s,l)}while(Ks);return d}function oS(){var t=b.H,r=t.useState()[0];return r=typeof r.then=="function"?rl(r):r,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(Be.flags|=1024),r}function ef(){var t=zu!==0;return zu=0,t}function tf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function nf(t){if(ku){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ku=!1}Ki=0,jt=mt=Be=null,Ks=!1,nl=zu=0,Qs=null}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Be.memoizedState=jt=t:jt=jt.next=t,jt}function Bt(){if(mt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var r=jt===null?Be.memoizedState:jt.next;if(r!==null)jt=r,mt=t;else{if(t===null)throw Be.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},jt===null?Be.memoizedState=jt=t:jt=jt.next=t}return jt}var ju;ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function rl(t){var r=nl;return nl+=1,Qs===null&&(Qs=[]),t=Fg(Qs,t,r),r=Be,(jt===null?r.memoizedState:jt.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?Wa:Qi),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===R)return gn(t)}throw Error(a(438,String(t)))}function rf(t){var r=null,s=Be.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=ju(),Be.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=ye;return r.index++,s}function li(t,r){return typeof r=="function"?r(t):r}function Hu(t){var r=Bt();return af(r,mt,t)}function af(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,D=null,P=r,W=!1;do{var re=P.lane&-536870913;if(re!==P.lane?(We&re)===re:(Ki&re)===re){var Q=P.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),re===Fs&&(W=!0);else if((Ki&Q)===Q){P=P.next,Q===Fs&&(W=!0);continue}else re={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=re,_=d):D=D.next=re,Be.lanes|=Q,na|=Q;re=P.action,Ja&&s(d,re),d=P.hasEagerState?P.eagerState:s(d,re)}else Q={lane:re,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=Q,_=d):D=D.next=Q,Be.lanes|=re,na|=re;P=P.next}while(P!==null&&P!==r);if(D===null?_=d:D.next=T,!Un(d,t.memoizedState)&&(en=!0,W&&(s=Gs,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sf(t){var r=Bt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Un(d,r.memoizedState)||(en=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function np(t,r,s){var l=Be,h=Bt(),d=at;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!Un((mt||h).memoizedState,s);if(_&&(h.memoizedState=s,en=!0),h=h.queue,uf(ap.bind(null,l,h,t),[t]),h.getSnapshot!==r||_||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Ys(9,ip.bind(null,l,h,s,r),{destroy:void 0},null),_t===null)throw Error(a(349));d||(Ki&60)!==0||rp(l,r,s)}return s}function rp(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Be.updateQueue,r===null?(r=ju(),Be.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ip(t,r,s,l){r.value=s,r.getSnapshot=l,sp(r)&&op(t)}function ap(t,r,s){return s(function(){sp(r)&&op(t)})}function sp(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Un(t,s)}catch{return!0}}function op(t){var r=qi(t,2);r!==null&&wn(r,t,2)}function of(t){var r=On();if(typeof t=="function"){var s=t;if(t=s(),Ja){xn(!0);try{s()}finally{xn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},r}function lp(t,r,s,l){return t.baseState=s,af(t,mt,typeof l=="function"?l:li)}function lS(t,r,s,l,h){if(Gu(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};b.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,up(r,d)):(d.next=s.next,r.pending=s.next=d)}}function up(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=b.T,_={};b.T=_;try{var T=s(h,l),D=b.S;D!==null&&D(_,T),cp(t,r,T)}catch(P){lf(t,r,P)}finally{b.T=d}}else try{d=s(h,l),cp(t,r,d)}catch(P){lf(t,r,P)}}function cp(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){hp(t,r,l)},function(l){return lf(t,r,l)}):hp(t,r,s)}function hp(t,r,s){r.status="fulfilled",r.value=s,fp(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,up(t,s)))}function lf(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,fp(r),r=r.next;while(r!==l)}t.action=null}function fp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function dp(t,r){return r}function mp(t,r){if(at){var s=_t.formState;if(s!==null){e:{var l=Be;if(at){if(un){t:{for(var h=un,d=Ur;h.nodeType!==8;){if(!d){h=null;break t}if(h=_r(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){un=_r(h.nextSibling),l=h.data==="F!";break e}}$a(l)}l=!1}l&&(r=s[0])}}return s=On(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:r},s.queue=l,s=Mp.bind(null,Be,l),l.dispatch=s,l=of(!1),d=mf.bind(null,Be,!1,l.queue),l=On(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=lS.bind(null,Be,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function gp(t){var r=Bt();return pp(r,mt,t)}function pp(t,r,s){r=af(t,r,dp)[0],t=Hu(li)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?rl(r):r;var l=Bt(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Be.flags|=2048,Ys(9,uS.bind(null,h,s),{destroy:void 0},null)),[r,d,t]}function uS(t,r){t.action=r}function yp(t){var r=Bt(),s=mt;if(s!==null)return pp(r,s,t);Bt(),r=r.memoizedState,s=Bt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Ys(t,r,s,l){return t={tag:t,create:r,inst:s,deps:l,next:null},r=Be.updateQueue,r===null&&(r=ju(),Be.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function vp(){return Bt().memoizedState}function qu(t,r,s,l){var h=On();Be.flags|=t,h.memoizedState=Ys(1|r,s,{destroy:void 0},l===void 0?null:l)}function Fu(t,r,s,l){var h=Bt();l=l===void 0?null:l;var d=h.memoizedState.inst;mt!==null&&l!==null&&Jh(l,mt.memoizedState.deps)?h.memoizedState=Ys(r,s,d,l):(Be.flags|=t,h.memoizedState=Ys(1|r,s,d,l))}function _p(t,r){qu(8390656,8,t,r)}function uf(t,r){Fu(2048,8,t,r)}function Ep(t,r){return Fu(4,2,t,r)}function Tp(t,r){return Fu(4,4,t,r)}function Sp(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function bp(t,r,s){s=s!=null?s.concat([t]):null,Fu(4,4,Sp.bind(null,r,t),s)}function cf(){}function Ap(t,r){var s=Bt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Jh(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function wp(t,r){var s=Bt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Jh(r,l[1]))return l[0];if(l=t(),Ja){xn(!0);try{t()}finally{xn(!1)}}return s.memoizedState=[l,r],l}function hf(t,r,s){return s===void 0||(Ki&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=Cy(),Be.lanes|=t,na|=t,s)}function Rp(t,r,s,l){return Un(s,r)?s:qs.current!==null?(t=hf(t,s,l),Un(t,r)||(en=!0),t):(Ki&42)===0?(en=!0,t.memoizedState=s):(t=Cy(),Be.lanes|=t,na|=t,r)}function Cp(t,r,s,l,h){var d=de.p;de.p=d!==0&&8>d?d:8;var _=b.T,T={};b.T=T,mf(t,!1,r,s);try{var D=h(),P=b.S;if(P!==null&&P(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=aS(D,l);il(t,r,W,Bn(t))}else il(t,r,l,Bn(t))}catch(re){il(t,r,{then:function(){},status:"rejected",reason:re},Bn())}finally{de.p=d,b.T=_}}function cS(){}function ff(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Dp(t).queue;Cp(t,h,r,Ve,s===null?cS:function(){return Ip(t),s(l)})}function Dp(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:Ve},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ip(t){var r=Dp(t).next.queue;il(t,r,{},Bn())}function df(){return gn(Al)}function Op(){return Bt().memoizedState}function Np(){return Bt().memoizedState}function hS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Bn();t=Xi(s);var l=Zi(r,t,s);l!==null&&(wn(l,r,s),ol(l,r,s)),r={cache:$h()},t.payload=r;return}r=r.return}}function fS(t,r,s){var l=Bn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(t)?xp(r,s):(s=Hh(t,r,s,l),s!==null&&(wn(s,t,l),Vp(s,r,l)))}function Mp(t,r,s){var l=Bn();il(t,r,s,l)}function il(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))xp(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,Un(T,_))return Du(t,r,h,0),_t===null&&Cu(),!1}catch{}finally{}if(s=Hh(t,r,h,l),s!==null)return wn(s,t,l),Vp(s,r,l),!0}return!1}function mf(t,r,s,l){if(l={lane:2,revertLane:rd(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(r)throw Error(a(479))}else r=Hh(t,s,l,2),r!==null&&wn(r,t,2)}function Gu(t){var r=t.alternate;return t===Be||r!==null&&r===Be}function xp(t,r){Ks=ku=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Vp(t,r,s){if((s&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Se(t,s)}}var zr={readContext:gn,use:Bu,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt};zr.useCacheRefresh=Lt,zr.useMemoCache=Lt,zr.useHostTransitionStatus=Lt,zr.useFormState=Lt,zr.useActionState=Lt,zr.useOptimistic=Lt;var Wa={readContext:gn,use:Bu,useCallback:function(t,r){return On().memoizedState=[t,r===void 0?null:r],t},useContext:gn,useEffect:_p,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,qu(4194308,4,Sp.bind(null,r,t),s)},useLayoutEffect:function(t,r){return qu(4194308,4,t,r)},useInsertionEffect:function(t,r){qu(4,2,t,r)},useMemo:function(t,r){var s=On();r=r===void 0?null:r;var l=t();if(Ja){xn(!0);try{t()}finally{xn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=On();if(s!==void 0){var h=s(r);if(Ja){xn(!0);try{s(r)}finally{xn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=fS.bind(null,Be,t),[l.memoizedState,t]},useRef:function(t){var r=On();return t={current:t},r.memoizedState=t},useState:function(t){t=of(t);var r=t.queue,s=Mp.bind(null,Be,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:cf,useDeferredValue:function(t,r){var s=On();return hf(s,t,r)},useTransition:function(){var t=of(!1);return t=Cp.bind(null,Be,t.queue,!0,!1),On().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Be,h=On();if(at){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),_t===null)throw Error(a(349));(We&60)!==0||rp(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,_p(ap.bind(null,l,d,t),[t]),l.flags|=2048,Ys(9,ip.bind(null,l,d,s,r),{destroy:void 0},null),s},useId:function(){var t=On(),r=_t.identifierPrefix;if(at){var s=si,l=ai;s=(l&~(1<<32-kt(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=zu++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=sS++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return On().memoizedState=hS.bind(null,Be)}};Wa.useMemoCache=rf,Wa.useHostTransitionStatus=df,Wa.useFormState=mp,Wa.useActionState=mp,Wa.useOptimistic=function(t){var r=On();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=mf.bind(null,Be,!0,s),s.dispatch=r,[t,r]};var Qi={readContext:gn,use:Bu,useCallback:Ap,useContext:gn,useEffect:uf,useImperativeHandle:bp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:Hu,useRef:vp,useState:function(){return Hu(li)},useDebugValue:cf,useDeferredValue:function(t,r){var s=Bt();return Rp(s,mt.memoizedState,t,r)},useTransition:function(){var t=Hu(li)[0],r=Bt().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:np,useId:Op};Qi.useCacheRefresh=Np,Qi.useMemoCache=rf,Qi.useHostTransitionStatus=df,Qi.useFormState=gp,Qi.useActionState=gp,Qi.useOptimistic=function(t,r){var s=Bt();return lp(s,mt,t,r)};var es={readContext:gn,use:Bu,useCallback:Ap,useContext:gn,useEffect:uf,useImperativeHandle:bp,useInsertionEffect:Ep,useLayoutEffect:Tp,useMemo:wp,useReducer:sf,useRef:vp,useState:function(){return sf(li)},useDebugValue:cf,useDeferredValue:function(t,r){var s=Bt();return mt===null?hf(s,t,r):Rp(s,mt.memoizedState,t,r)},useTransition:function(){var t=sf(li)[0],r=Bt().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:np,useId:Op};es.useCacheRefresh=Np,es.useMemoCache=rf,es.useHostTransitionStatus=df,es.useFormState=yp,es.useActionState=yp,es.useOptimistic=function(t,r){var s=Bt();return mt!==null?lp(s,mt,t,r):(s.baseState=t,[t,s.queue.dispatch])};function gf(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:I({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var pf={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Bn(),h=Xi(l);h.payload=r,s!=null&&(h.callback=s),r=Zi(t,h,l),r!==null&&(wn(r,t,l),ol(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Bn(),h=Xi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Zi(t,h,l),r!==null&&(wn(r,t,l),ol(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Bn(),l=Xi(s);l.tag=2,r!=null&&(l.callback=r),r=Zi(t,l,s),r!==null&&(wn(r,t,s),ol(r,t,s))}};function Lp(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Go(s,l)||!Go(h,d):!0}function Pp(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&pf.enqueueReplaceState(r,r.state,null)}function ts(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=I({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Up(t){Ku(t)}function kp(t){console.error(t)}function zp(t){Ku(t)}function Qu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function jp(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yf(t,r,s){return s=Xi(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(t,r)},s}function Bp(t){return t=Xi(t),t.tag=3,t}function Hp(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){jp(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){jp(r,s,l),typeof h!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function dS(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&sl(r,s,h,!0),s=rr.current,s!==null){switch(s.tag){case 13:return kr===null?Jf():s.alternate===null&&Nt===0&&(Nt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Kh?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),ed(t,l,h)),!1;case 22:return s.flags|=65536,l===Kh?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),ed(t,l,h)),!1}throw Error(a(435,s.tag))}return ed(t,l,h),Jf(),!1}if(at)return r=rr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Gh&&(t=Error(a(422),{cause:l}),$o(er(t,s)))):(l!==Gh&&(r=Error(a(423),{cause:l}),$o(er(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=er(l,s),h=yf(t.stateNode,l,h),Mf(t,h),Nt!==4&&(Nt=2)),!1;var d=Error(a(520),{cause:l});if(d=er(d,s),gl===null?gl=[d]:gl.push(d),Nt!==4&&(Nt=2),r===null)return!0;l=er(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=yf(s.stateNode,l,t),Mf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ra===null||!ra.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Bp(h),Hp(h,t,s,l),Mf(s,h),!1}s=s.return}while(s!==null);return!1}var qp=Error(a(461)),en=!1;function cn(t,r,s,l){r.child=t===null?Yg(r,null,s,l):Xa(r,t.child,s,l)}function Fp(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return rs(r),l=Wh(t,r,s,_,d,h),T=ef(),t!==null&&!en?(tf(t,r,h),ui(t,r,h)):(at&&T&&qh(r),r.flags|=1,cn(t,r,l,h),r.child)}function Gp(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Kp(t,r,d,l,h)):(t=Ju(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Rf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Go,s(_,l)&&t.ref===r.ref)return ui(t,r,h)}return r.flags|=1,t=ta(d,l),t.ref=r.ref,t.return=r,r.child=t}function Kp(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===r.ref)if(en=!1,r.pendingProps=l=d,Rf(t,h))(t.flags&131072)!==0&&(en=!0);else return r.lanes=t.lanes,ui(t,r,h)}return vf(t,r,s,l,h)}function Qp(t,r,s){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(al(t,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=_!==null?_.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Yp(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(r,_!==null?_.cachePool:null),_!==null?$g(r,_):Qh(),Xg(r);else return r.lanes=r.childLanes=536870912,Yp(t,r,_!==null?_.baseLanes|s:s,s)}else _!==null?(Uu(r,_.cachePool),$g(r,_),Gi(),r.memoizedState=null):(t!==null&&Uu(r,null),Qh(),Gi());return cn(t,r,h,s),r.child}function Yp(t,r,s,l){var h=Zh();return h=h===null?null:{parent:Yt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Uu(r,null),Qh(),Xg(r),t!==null&&sl(t,r,l,!0),null}function al(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=2097664)}}function vf(t,r,s,l,h){return rs(r),s=Wh(t,r,s,l,void 0,h),l=ef(),t!==null&&!en?(tf(t,r,h),ui(t,r,h)):(at&&l&&qh(r),r.flags|=1,cn(t,r,s,h),r.child)}function $p(t,r,s,l,h,d){return rs(r),r.updateQueue=null,s=tp(r,l,s,h),ep(t),l=ef(),t!==null&&!en?(tf(t,r,d),ui(t,r,d)):(at&&l&&qh(r),r.flags|=1,cn(t,r,s,d),r.child)}function Xp(t,r,s,l,h){if(rs(r),r.stateNode===null){var d=zs,_=s.contextType;typeof _=="object"&&_!==null&&(d=gn(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Of(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?gn(_):zs,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(gf(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&pf.enqueueReplaceState(d,d.state,null),ul(r,l,d,h),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,D=ts(s,T);d.props=D;var P=d.context,W=s.contextType;_=zs,typeof W=="object"&&W!==null&&(_=gn(W));var re=s.getDerivedStateFromProps;W=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&Pp(r,d,l,_),$i=!1;var Q=r.memoizedState;d.state=Q,ul(r,l,d,h),ll(),P=r.memoizedState,T||Q!==P||$i?(typeof re=="function"&&(gf(r,s,re,l),P=r.memoizedState),(D=$i||Lp(r,s,D,l,Q,P,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=P),d.props=l,d.state=P,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Nf(t,r),_=r.memoizedProps,W=ts(s,_),d.props=W,re=r.pendingProps,Q=d.context,P=s.contextType,D=zs,typeof P=="object"&&P!==null&&(D=gn(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==re||Q!==D)&&Pp(r,d,l,D),$i=!1,Q=r.memoizedState,d.state=Q,ul(r,l,d,h),ll();var J=r.memoizedState;_!==re||Q!==J||$i||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof T=="function"&&(gf(r,s,T,l),J=r.memoizedState),(W=$i||Lp(r,s,W,l,Q,J,D)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=J),d.props=l,d.state=J,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,al(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Xa(r,t.child,null,h),r.child=Xa(r,null,s,h)):cn(t,r,s,h),r.memoizedState=d.state,t=r.child):t=ui(t,r,h),t}function Zp(t,r,s,l){return Yo(),r.flags|=256,cn(t,r,s,l),r.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function Ef(t){return{baseLanes:t,cachePool:Wg()}}function Tf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=or),t}function Jp(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(at){if(h?Fi(r):Gi(),at){var T=un,D;if(D=T){e:{for(D=T,T=Ur;D.nodeType!==8;){if(!T){T=null;break e}if(D=_r(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:Qa!==null?{id:ai,overflow:si}:null,retryLane:536870912},D=sr(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,An=r,un=null,D=!0):D=!1}D||$a(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;oi(r)}return T=l.children,l=l.fallback,h?(Gi(),h=r.mode,T=bf({mode:"hidden",children:T},h),l=as(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Ef(s),h.childLanes=Tf(t,_,s),r.memoizedState=_f,l):(Fi(r),Sf(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)r.flags&256?(Fi(r),r.flags&=-257,r=Af(t,r,s)):r.memoizedState!==null?(Gi(),r.child=t.child,r.flags|=128,r=null):(Gi(),h=l.fallback,T=r.mode,l=bf({mode:"visible",children:l.children},T),h=as(h,T,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Xa(r,t.child,null,s),l=r.child,l.memoizedState=Ef(s),l.childLanes=Tf(t,_,s),r.memoizedState=_f,r=h);else if(Fi(r),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(a(419)),l.stack="",l.digest=_,$o({value:l,source:null,stack:null}),r=Af(t,r,s)}else if(en||sl(t,r,s,!1),_=(s&t.childLanes)!==0,en||_){if(_=_t,_!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,qi(t,l),wn(_,t,l),qp}T.data==="$?"||Jf(),r=Af(t,r,s)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=DS.bind(null,t),T._reactRetry=r,r=null):(t=D.treeContext,un=_r(T.nextSibling),An=r,at=!0,yr=null,Ur=!1,t!==null&&(tr[nr++]=ai,tr[nr++]=si,tr[nr++]=Qa,ai=t.id,si=t.overflow,Qa=r),r=Sf(r,l.children),r.flags|=4096);return r}return h?(Gi(),h=l.fallback,T=r.mode,D=t.child,P=D.sibling,l=ta(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,P!==null?h=ta(P,h):(h=as(h,T,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Ef(s):(D=T.cachePool,D!==null?(P=Yt._currentValue,D=D.parent!==P?{parent:P,pool:P}:D):D=Wg(),T={baseLanes:T.baseLanes|s,cachePool:D}),h.memoizedState=T,h.childLanes=Tf(t,_,s),r.memoizedState=_f,l):(Fi(r),s=t.child,t=s.sibling,s=ta(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Sf(t,r){return r=bf({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function bf(t,r){return Ay(t,r,0,null)}function Af(t,r,s){return Xa(r,t.child,null,s),t=Sf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Wp(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Df(t.return,r,s)}function wf(t,r,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function ey(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(cn(t,r,l.children,s),l=Qt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wp(t,s,r);else if(t.tag===19)Wp(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Le(Qt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&Pu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),wf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Pu(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}wf(r,!0,s,null,d);break;case"together":wf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ui(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),na|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(sl(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=ta(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=ta(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Rf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function mS(t,r,s){switch(r.tag){case 3:wr(r,r.stateNode.containerInfo),Yi(r,Yt,t.memoizedState.cache),Yo();break;case 27:case 5:Oi(r);break;case 4:wr(r,r.stateNode.containerInfo);break;case 10:Yi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Jp(t,r,s):(Fi(r),t=ui(t,r,s),t!==null?t.sibling:null);Fi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(sl(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return ey(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Le(Qt,Qt.current),l)break;return null;case 22:case 23:return r.lanes=0,Qp(t,r,s);case 24:Yi(r,Yt,t.memoizedState.cache)}return ui(t,r,s)}function ty(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)en=!0;else{if(!Rf(t,s)&&(r.flags&128)===0)return en=!1,mS(t,r,s);en=(t.flags&131072)!==0}else en=!1,at&&(r.flags&1048576)!==0&&zg(r,Nu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")jf(l)?(t=ts(l,t),r.tag=1,r=Xp(null,r,l,t,s)):(r.tag=0,r=vf(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===k){r.tag=11,r=Fp(null,r,l,t,s);break e}else if(h===$){r.tag=14,r=Gp(null,r,l,t,s);break e}}throw r=w(l)||l,Error(a(306,r,""))}}return r;case 0:return vf(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=ts(l,r.pendingProps),Xp(t,r,l,h,s);case 3:e:{if(wr(r,r.stateNode.containerInfo),t===null)throw Error(a(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,Nf(t,r),ul(r,d,null,s);var _=r.memoizedState;if(d=_.cache,Yi(r,Yt,d),d!==h.cache&&If(r,[Yt],s,!0),ll(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Zp(t,r,d,s);break e}else if(d!==l){l=er(Error(a(424)),r),$o(l),r=Zp(t,r,d,s);break e}else for(un=_r(r.stateNode.containerInfo.firstChild),An=r,at=!0,yr=null,Ur=!0,s=Yg(r,null,d,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Yo(),d===l){r=ui(t,r,s);break e}cn(t,r,d,s)}r=r.child}return r;case 26:return al(t,r),t===null?(s=iv(r.type,null,r.pendingProps,null))?r.memoizedState=s:at||(s=r.type,t=r.pendingProps,l=cc(Cn.current).createElement(s),l[Ae]=r,l[Re]=t,hn(l,s,t),ot(l),r.stateNode=l):r.memoizedState=iv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Oi(r),t===null&&at&&(l=r.stateNode=tv(r.type,r.pendingProps,Cn.current),An=r,Ur=!0,un=_r(l.firstChild)),l=r.pendingProps.children,t!==null||at?cn(t,r,l,s):r.child=Xa(r,null,l,s),al(t,r),r.child;case 5:return t===null&&at&&((h=l=un)&&(l=FS(l,r.type,r.pendingProps,Ur),l!==null?(r.stateNode=l,An=r,un=_r(l.firstChild),Ur=!1,h=!0):h=!1),h||$a(r)),Oi(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,fd(h,d)?l=null:_!==null&&fd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Wh(t,r,oS,null,null,s),Al._currentValue=h),al(t,r),cn(t,r,l,s),r.child;case 6:return t===null&&at&&((t=s=un)&&(s=GS(s,r.pendingProps,Ur),s!==null?(r.stateNode=s,An=r,un=null,t=!0):t=!1),t||$a(r)),null;case 13:return Jp(t,r,s);case 4:return wr(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Xa(r,null,l,s):cn(t,r,l,s),r.child;case 11:return Fp(t,r,r.type,r.pendingProps,s);case 7:return cn(t,r,r.pendingProps,s),r.child;case 8:return cn(t,r,r.pendingProps.children,s),r.child;case 12:return cn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Yi(r,r.type,l.value),cn(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,rs(r),h=gn(h),l=l(h),r.flags|=1,cn(t,r,l,s),r.child;case 14:return Gp(t,r,r.type,r.pendingProps,s);case 15:return Kp(t,r,r.type,r.pendingProps,s);case 19:return ey(t,r,s);case 22:return Qp(t,r,s);case 24:return rs(r),l=gn(Yt),t===null?(h=Zh(),h===null&&(h=_t,d=$h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Of(r),Yi(r,Yt,h)):((t.lanes&s)!==0&&(Nf(t,r),ul(r,null,null,s),ll()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Yi(r,Yt,l)):(l=d.cache,Yi(r,Yt,l),l!==h.cache&&If(r,[Yt],s,!0))),cn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}var Cf=$e(null),ns=null,ci=null;function Yi(t,r,s){Le(Cf,r._currentValue),r._currentValue=s}function hi(t){t._currentValue=Cf.current,bt(Cf)}function Df(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function If(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Df(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Df(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function sl(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;Un(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===mn.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&If(r,t,s,l),r.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ns=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return ny(ns,t)}function $u(t,r){return ns===null&&rs(t),ny(t,r)}function ny(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},ci===null){if(t===null)throw Error(a(308));ci=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ci=ci.next=r;return s}var $i=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(wt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Iu(t),Ug(t,null,s),r}return Du(t,l,r,s),Iu(t)}function ol(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Se(t,s)}}function Mf(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var xf=!1;function ll(){if(xf){var t=Gs;if(t!==null)throw t}}function ul(t,r,s,l){xf=!1;var h=t.updateQueue;$i=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,P=D.next;D.next=null,_===null?d=P:_.next=P,_=D;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=P:T.next=P,W.lastBaseUpdate=D))}if(d!==null){var re=h.baseState;_=0,W=P=D=null,T=d;do{var Q=T.lane&-536870913,J=Q!==T.lane;if(J?(We&Q)===Q:(l&Q)===Q){Q!==0&&Q===Fs&&(xf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,Pe=T;Q=r;var Mt=s;switch(Pe.tag){case 1:if(we=Pe.payload,typeof we=="function"){re=we.call(Mt,re,Q);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Pe.payload,Q=typeof we=="function"?we.call(Mt,re,Q):we,Q==null)break e;re=I({},re,Q);break e;case 2:$i=!0}}Q=T.callback,Q!==null&&(t.flags|=64,J&&(t.flags|=8192),J=h.callbacks,J===null?h.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(P=W=J,D=re):W=W.next=J,_|=Q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;J=T,T=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);W===null&&(D=re),h.baseState=D,h.firstBaseUpdate=P,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),na|=_,t.lanes=_,t.memoizedState=re}}function ry(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function iy(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ry(s[t],r)}function cl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){yt(r,r.return,T)}}function Ji(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var D=s;try{T()}catch(P){yt(h,D,P)}}}l=l.next}while(l!==d)}}catch(P){yt(r,r.return,P)}}function ay(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{iy(r,s)}catch(l){yt(t,t.return,l)}}}function sy(t,r,s){s.props=ts(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){yt(t,r,l)}}function is(t,r){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?t.refCleanup=s(h):s.current=h}}catch(d){yt(t,r,d)}}function kn(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){yt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){yt(t,r,h)}else s.current=null}function oy(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){yt(t,t.return,h)}}function ly(t,r,s){try{var l=t.stateNode;zS(l,t.type,s,r),l[Re]=r}catch(h){yt(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Vf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=uc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Lf(t,r,s),t=t.sibling;t!==null;)Lf(t,r,s),t=t.sibling}function Xu(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xu(t,r,s),t=t.sibling;t!==null;)Xu(t,r,s),t=t.sibling}var fi=!1,Ot=!1,Pf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,tn=null,hy=!1;function gS(t,r){if(t=t.containerInfo,cd=pc,t=Dg(t),Uh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,D=-1,P=0,W=0,re=t,Q=null;t:for(;;){for(var J;re!==s||h!==0&&re.nodeType!==3||(T=_+h),re!==d||l!==0&&re.nodeType!==3||(D=_+l),re.nodeType===3&&(_+=re.nodeValue.length),(J=re.firstChild)!==null;)Q=re,re=J;for(;;){if(re===t)break t;if(Q===s&&++P===h&&(T=_),Q===d&&++W===l&&(D=_),(J=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=J}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:t,selectionRange:s},pc=!1,tn=r;tn!==null;)if(r=tn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,tn=t;else for(;tn!==null;){switch(r=tn,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var we=ts(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){yt(s,s.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)gd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,tn=t;break}tn=r.return}return we=hy,hy=!1,we}function fy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:mi(t,s),l&4&&cl(5,s);break;case 1:if(mi(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(T){yt(s,s.return,T)}else{var h=ts(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){yt(s,s.return,T)}}l&64&&ay(s),l&512&&is(s,s.return);break;case 3:if(mi(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{iy(l,t)}catch(T){yt(s,s.return,T)}}break;case 26:mi(t,s),l&512&&is(s,s.return);break;case 27:case 5:mi(t,s),r===null&&l&4&&oy(s),l&512&&is(s,s.return);break;case 12:mi(t,s);break;case 13:mi(t,s),l&4&&gy(t,s);break;case 22:if(h=s.memoizedState!==null||fi,!h){r=r!==null&&r.memoizedState!==null||Ot;var d=fi,_=Ot;fi=h,(Ot=r)&&!_?Wi(t,s,(s.subtreeFlags&8772)!==0):mi(t,s),fi=d,Ot=_}l&512&&(s.memoizedProps.mode==="manual"?is(s,s.return):kn(s,s.return));break;default:mi(t,s)}}function dy(t){var r=t.alternate;r!==null&&(t.alternate=null,dy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Pn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,zn=!1;function di(t,r,s){for(s=s.child;s!==null;)my(t,r,s),s=s.sibling}function my(t,r,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(mr,s)}catch{}switch(s.tag){case 26:Ot||kn(s,r),di(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||kn(s,r);var l=Ht,h=zn;for(Ht=s.stateNode,di(t,r,s),s=s.stateNode,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Pn(s),Ht=l,zn=h;break;case 5:Ot||kn(s,r);case 6:h=Ht;var d=zn;if(Ht=null,di(t,r,s),Ht=h,zn=d,Ht!==null)if(zn)try{t=Ht,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){yt(s,r,_)}else try{Ht.removeChild(s.stateNode)}catch(_){yt(s,r,_)}break;case 18:Ht!==null&&(zn?(r=Ht,s=s.stateNode,r.nodeType===8?md(r.parentNode,s):r.nodeType===1&&md(r,s),Dl(r)):md(Ht,s.stateNode));break;case 4:l=Ht,h=zn,Ht=s.stateNode.containerInfo,zn=!0,di(t,r,s),Ht=l,zn=h;break;case 0:case 11:case 14:case 15:Ot||Ji(2,s,r),Ot||Ji(4,s,r),di(t,r,s);break;case 1:Ot||(kn(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&sy(s,r,l)),di(t,r,s);break;case 21:di(t,r,s);break;case 22:Ot||kn(s,r),Ot=(l=Ot)||s.memoizedState!==null,di(t,r,s),Ot=l;break;default:di(t,r,s)}}function gy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(s){yt(r,r.return,s)}}function pS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new cy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new cy),r;default:throw Error(a(435,t.tag))}}function Uf(t,r){var s=pS(t);r.forEach(function(l){var h=IS.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function ir(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:Ht=T.stateNode,zn=!1;break e;case 3:Ht=T.stateNode.containerInfo,zn=!0;break e;case 4:Ht=T.stateNode.containerInfo,zn=!0;break e}T=T.return}if(Ht===null)throw Error(a(160));my(d,_,h),Ht=null,zn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)py(r,t),r=r.sibling}var vr=null;function py(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ir(r,t),ar(t),l&4&&(Ji(3,t,t.return),cl(3,t),Ji(5,t,t.return));break;case 1:ir(r,t),ar(t),l&512&&(Ot||s===null||kn(s,s.return)),l&64&&fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=vr;if(ir(r,t),ar(t),l&512&&(Ot||s===null||kn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Tn]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),hn(d,l,s),d[Ae]=t,ot(d),l=d;break e;case"link":var _=ov("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),hn(d,l,s),h.head.appendChild(d);break;case"meta":if(_=ov("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),hn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ae]=t,ot(d),l=d}t.stateNode=l}else lv(h,t.type,t.stateNode);else t.stateNode=sv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?lv(h,t.type,t.stateNode):sv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ly(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var D=h.firstChild;D;){var P=D.nextSibling,W=D.nodeName;D[Tn]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=P}for(var re=t.type,Q=h.attributes;Q.length;)h.removeAttributeNode(Q[0]);hn(h,re,d),h[Ae]=t,h[Re]=d}catch(we){yt(t,t.return,we)}}case 5:if(ir(r,t),ar(t),l&512&&(Ot||s===null||kn(s,s.return)),t.flags&32){h=t.stateNode;try{$n(h,"")}catch(we){yt(t,t.return,we)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ly(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Pf=!0);break;case 6:if(ir(r,t),ar(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(we){yt(t,t.return,we)}}break;case 3:if(dc=null,h=vr,vr=hc(r.containerInfo),ir(r,t),vr=h,ar(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Dl(r.containerInfo)}catch(we){yt(t,t.return,we)}Pf&&(Pf=!1,yy(t));break;case 4:l=vr,vr=hc(t.stateNode.containerInfo),ir(r,t),ar(t),vr=l;break;case 12:ir(r,t),ar(t);break;case 13:ir(r,t),ar(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Kf=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uf(t,l)));break;case 22:if(l&512&&(Ot||s===null||kn(s,s.return)),D=t.memoizedState!==null,P=s!==null&&s.memoizedState!==null,W=fi,re=Ot,fi=W||D,Ot=re||P,ir(r,t),Ot=re,fi=W,ar(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=fi||Ot,s===null||P||r||$s(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(s===null){P=s=r;try{if(h=P.stateNode,D)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,T=P.memoizedProps.style;var J=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(we){yt(P,P.return,we)}}}else if(r.tag===6){if(s===null){P=r;try{P.stateNode.nodeValue=D?"":P.memoizedProps}catch(we){yt(P,P.return,we)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Uf(t,s))));break;case 19:ir(r,t),ar(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uf(t,l)));break;case 21:break;default:ir(r,t),ar(t)}}function ar(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(uy(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=Vf(t);Xu(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&($n(_,""),l.flags&=-33);var T=Vf(t);Xu(t,T,_);break;case 3:case 4:var D=l.stateNode.containerInfo,P=Vf(t);Lf(t,P,D);break;default:throw Error(a(161))}}}catch(W){yt(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;yy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function mi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)fy(t,r.alternate,r),r=r.sibling}function $s(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ji(4,r,r.return),$s(r);break;case 1:kn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&sy(r,r.return,s),$s(r);break;case 26:case 27:case 5:kn(r,r.return),$s(r);break;case 22:kn(r,r.return),r.memoizedState===null&&$s(r);break;default:$s(r)}t=t.sibling}}function Wi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,s),cl(4,d);break;case 1:if(Wi(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){yt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)ry(D[h],T)}catch(P){yt(l,l.return,P)}}s&&_&64&&ay(d),is(d,d.return);break;case 26:case 27:case 5:Wi(h,d,s),s&&l===null&&_&4&&oy(d),is(d,d.return);break;case 12:Wi(h,d,s);break;case 13:Wi(h,d,s),s&&_&4&&gy(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,s),is(d,d.return);break;default:Wi(h,d,s)}r=r.sibling}}function kf(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&el(s))}function zf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t))}function ea(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vy(t,r,s,l),r=r.sibling}function vy(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ea(t,r,s,l),h&2048&&cl(9,r);break;case 3:ea(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){ea(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){yt(r,r.return,D)}}else ea(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?ea(t,r,s,l):hl(t,r):d._visibility&4?ea(t,r,s,l):(d._visibility|=4,Xs(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&kf(r.alternate,r);break;case 24:ea(t,r,s,l),h&2048&&zf(r.alternate,r);break;default:ea(t,r,s,l)}}function Xs(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=s,D=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:Xs(d,_,T,D,h),cl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?Xs(d,_,T,D,h):hl(d,_):(W._visibility|=4,Xs(d,_,T,D,h)),h&&P&2048&&kf(_.alternate,_);break;case 24:Xs(d,_,T,D,h),h&&P&2048&&zf(_.alternate,_);break;default:Xs(d,_,T,D,h)}r=r.sibling}}function hl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:hl(s,l),h&2048&&kf(l.alternate,l);break;case 24:hl(s,l),h&2048&&zf(l.alternate,l);break;default:hl(s,l)}r=r.sibling}}var fl=8192;function Zs(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)_y(t),t=t.sibling}function _y(t){switch(t.tag){case 26:Zs(t),t.flags&fl&&t.memoizedState!==null&&ib(vr,t.memoizedState,t.memoizedProps);break;case 5:Zs(t);break;case 3:case 4:var r=vr;vr=hc(t.stateNode.containerInfo),Zs(t),vr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=fl,fl=16777216,Zs(t),fl=r):Zs(t));break;default:Zs(t)}}function Ey(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function dl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];tn=l,Sy(l,t)}Ey(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(t),t=t.sibling}function Ty(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Ji(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Zu(t)):dl(t);break;default:dl(t)}}function Zu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];tn=l,Sy(l,t)}Ey(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ji(8,r,r.return),Zu(r);break;case 22:s=r.stateNode,s._visibility&4&&(s._visibility&=-5,Zu(r));break;default:Zu(r)}t=t.sibling}}function Sy(t,r){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:Ji(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else e:for(s=t;tn!==null;){l=tn;var h=l.sibling,d=l.return;if(dy(l),l===s){tn=null;break e}if(h!==null){h.return=d,tn=h;break e}tn=d}}}function yS(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,r,s,l){return new yS(t,r,s,l)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ta(t,r){var s=t.alternate;return s===null?(s=sr(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function by(t,r){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ju(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")jf(t)&&(_=1);else if(typeof t=="string")_=nb(t,s,Dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return as(s.children,h,d,r);case y:_=8,h|=24;break;case E:return t=sr(12,s,r,h|2),t.elementType=E,t.lanes=d,t;case X:return t=sr(13,s,r,h),t.elementType=X,t.lanes=d,t;case F:return t=sr(19,s,r,h),t.elementType=F,t.lanes=d,t;case oe:return Ay(s,h,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case R:_=10;break e;case C:_=9;break e;case k:_=11;break e;case $:_=14;break e;case ee:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=sr(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function as(t,r,s,l){return t=sr(7,t,l,r),t.lanes=s,t}function Ay(t,r,s,l){t=sr(22,t,l,r),t.elementType=oe,t.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var _=qi(d,2);_!==null&&(h._pendingVisibility|=2,wn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var _=qi(d,2);_!==null&&(h._pendingVisibility&=-3,wn(_,d,2))}}};return t.stateNode=h,t}function Bf(t,r,s){return t=sr(6,t,null,r),t.lanes=s,t}function Hf(t,r,s){return r=sr(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function gi(t){t.flags|=4}function wy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(r)){if(r=rr.current,r!==null&&((We&4194176)===We?kr!==null:(We&62914560)!==We&&(We&536870912)===0||r!==kr))throw Zo=Kh,Hg;t.flags|=8192}}function Wu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?M():536870912,t.lanes|=r,Ws|=r)}function ml(t,r){if(!at)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function At(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function vS(t,r,s){var l=r.pendingProps;switch(Fh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),hi(Yt),hr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qo(r)?gi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,yr!==null&&(Xf(yr),yr=null))),At(r),null;case 26:return s=r.memoizedState,t===null?(gi(r),s!==null?(At(r),wy(r,s)):(At(r),r.flags&=-16777217)):s?s!==t.memoizedState?(gi(r),At(r),wy(r,s)):(At(r),r.flags&=-16777217):(t.memoizedProps!==l&&gi(r),At(r),r.flags&=-16777217),null;case 27:Ni(r),s=Cn.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&gi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return At(r),null}t=Dt.current,Qo(r)?jg(r):(t=tv(h,l,s),r.stateNode=t,gi(r))}return At(r),null;case 5:if(Ni(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&gi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return At(r),null}if(t=Dt.current,Qo(r))jg(r);else{switch(h=cc(Cn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Ae]=r,t[Re]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(hn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&gi(r)}}return At(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&gi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Cn.current,Qo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=An,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ae]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(t.nodeValue,s)),t||$a(r)}else t=cc(t).createTextNode(l),t[Ae]=r,r.stateNode=t}return At(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=r}else Yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),h=!1}else yr!==null&&(Xf(yr),yr=null),h=!0;if(!h)return r.flags&256?(oi(r),r):(oi(r),null)}if(oi(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),Wu(r,r.updateQueue),At(r),null;case 4:return hr(),t===null&&od(r.stateNode.containerInfo),At(r),null;case 10:return hi(r.type),At(r),null;case 19:if(bt(Qt),h=r.memoizedState,h===null)return At(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ml(h,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Pu(t),d!==null){for(r.flags|=128,ml(h,!1),t=d.updateQueue,r.updateQueue=t,Wu(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)by(s,t),s=s.sibling;return Le(Qt,Qt.current&1|2),r.child}t=t.sibling}h.tail!==null&&sn()>ec&&(r.flags|=128,l=!0,ml(h,!1),r.lanes=4194304)}else{if(!l)if(t=Pu(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Wu(r,t),ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!at)return At(r),null}else 2*sn()-h.renderingStartTime>ec&&s!==536870912&&(r.flags|=128,l=!0,ml(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=sn(),r.sibling=null,t=Qt.current,Le(Qt,l?t&1|2:t&1),r):(At(r),null);case 22:case 23:return oi(r),Yh(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),s=r.updateQueue,s!==null&&Wu(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&bt(Za),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),hi(Yt),At(r),null;case 25:return null}throw Error(a(156,r.tag))}function _S(t,r){switch(Fh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return hi(Yt),hr(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ni(r),null;case 13:if(oi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Yo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return bt(Qt),null;case 4:return hr(),null;case 10:return hi(r.type),null;case 22:case 23:return oi(r),Yh(),t!==null&&bt(Za),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return hi(Yt),null;case 25:return null;default:return null}}function Ry(t,r){switch(Fh(r),r.tag){case 3:hi(Yt),hr();break;case 26:case 27:case 5:Ni(r);break;case 4:hr();break;case 13:oi(r);break;case 19:bt(Qt);break;case 10:hi(r.type);break;case 22:case 23:oi(r),Yh(),t!==null&&bt(Za);break;case 24:hi(Yt)}}var ES={getCacheForType:function(t){var r=gn(Yt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},TS=typeof WeakMap=="function"?WeakMap:Map,wt=0,_t=null,Fe=null,We=0,Et=0,jn=null,pi=!1,Js=!1,qf=!1,yi=0,Nt=0,na=0,ss=0,Ff=0,or=0,Ws=0,gl=null,jr=null,Gf=!1,Kf=0,ec=1/0,tc=null,ra=null,nc=!1,os=null,pl=0,Qf=0,Yf=null,yl=0,$f=null;function Bn(){if((wt&2)!==0&&We!==0)return We&-We;if(b.T!==null){var t=Fs;return t!==0?t:rd()}return ve()}function Cy(){or===0&&(or=(We&536870912)===0||at?xa():536870912);var t=rr.current;return t!==null&&(t.flags|=32),or}function wn(t,r,s){(t===_t&&Et===2||t.cancelPendingCommit!==null)&&(eo(t,0),vi(t,We,or,!1)),G(t,s),((wt&2)===0||t!==_t)&&(t===_t&&((wt&2)===0&&(ss|=s),Nt===4&&vi(t,We,or,!1)),Br(t))}function Dy(t,r,s){if((wt&6)!==0)throw Error(a(327));var l=!s&&(r&60)===0&&(r&t.expiredLanes)===0||Ln(t,r),h=l?AS(t,r):Wf(t,r,!0),d=l;do{if(h===0){Js&&!l&&vi(t,r,0,!1);break}else if(h===6)vi(t,r,0,!pi);else{if(s=t.current.alternate,d&&!SS(s)){h=Wf(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=gl;var D=T.current.memoizedState.isDehydrated;if(D&&(eo(T,_).flags|=256),_=Wf(T,_,!1),_!==2){if(qf&&!D){T.errorRecoveryDisabledLanes|=d,ss|=d,h=4;break e}d=jr,jr=h,d!==null&&Xf(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),vi(t,r,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(a(345));case 4:if((r&4194176)===r){vi(l,r,or,!pi);break e}break;case 2:jr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=r,(r&62914560)===r&&(d=Kf+300-sn(),10<d)){if(vi(l,r,or,!pi),on(l,0)!==0)break e;l.timeoutHandle=Jy(Iy.bind(null,l,s,jr,tc,Gf,r,or,ss,Ws,pi,2,-0,0),d);break e}Iy(l,s,jr,tc,Gf,r,or,ss,Ws,pi,0,-0,0)}}break}while(!0);Br(t)}function Xf(t){jr===null?jr=t:jr.push.apply(jr,t)}function Iy(t,r,s,l,h,d,_,T,D,P,W,re,Q){var J=r.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:rb},_y(r),r=ab(),r!==null)){t.cancelPendingCommit=r(Py.bind(null,t,s,l,h,_,T,D,1,re,Q)),vi(t,d,_,!P);return}Py(t,s,l,h,_,T,D,W,re,Q)}function SS(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Un(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function vi(t,r,s,l){r&=~Ff,r&=~ss,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-kt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&me(t,s,r)}function rc(){return(wt&6)===0?(vl(0),!1):!0}function Zf(){if(Fe!==null){if(Et===0)var t=Fe.return;else t=Fe,ci=ns=null,nf(t),Hs=null,Jo=0,t=Fe;for(;t!==null;)Ry(t.alternate,t),t=t.return;Fe=null}}function eo(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,BS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Zf(),_t=t,Fe=s=ta(t.current,null),We=r,Et=0,jn=null,pi=!1,Js=Ln(t,r),qf=!1,Ws=or=Ff=ss=na=Nt=0,jr=gl=null,Gf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-kt(l),d=1<<h;r|=t[h],l&=~d}return yi=r,Cu(),s}function Oy(t,r){Be=null,b.H=zr,r===Xo?(r=Gg(),Et=3):r===Hg?(r=Gg(),Et=4):Et=r===qp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Fe===null&&(Nt=1,Qu(t,er(r,t.current)))}function Ny(){var t=b.H;return b.H=zr,t===null?zr:t}function My(){var t=b.A;return b.A=ES,t}function Jf(){Nt=4,pi||(We&4194176)!==We&&rr.current!==null||(Js=!0),(na&134217727)===0&&(ss&134217727)===0||_t===null||vi(_t,We,or,!1)}function Wf(t,r,s){var l=wt;wt|=2;var h=Ny(),d=My();(_t!==t||We!==r)&&(tc=null,eo(t,r)),r=!1;var _=Nt;e:do try{if(Et!==0&&Fe!==null){var T=Fe,D=jn;switch(Et){case 8:Zf(),_=6;break e;case 3:case 2:case 6:rr.current===null&&(r=!0);var P=Et;if(Et=0,jn=null,to(t,T,D,P),s&&Js){_=0;break e}break;default:P=Et,Et=0,jn=null,to(t,T,D,P)}}bS(),_=Nt;break}catch(W){Oy(t,W)}while(!0);return r&&t.shellSuspendCounter++,ci=ns=null,wt=l,b.H=h,b.A=d,Fe===null&&(_t=null,We=0,Cu()),_}function bS(){for(;Fe!==null;)xy(Fe)}function AS(t,r){var s=wt;wt|=2;var l=Ny(),h=My();_t!==t||We!==r?(tc=null,ec=sn()+500,eo(t,r)):Js=Ln(t,r);e:do try{if(Et!==0&&Fe!==null){r=Fe;var d=jn;t:switch(Et){case 1:Et=0,jn=null,to(t,r,d,1);break;case 2:if(qg(d)){Et=0,jn=null,Vy(r);break}r=function(){Et===2&&_t===t&&(Et=7),Br(t)},d.then(r,r);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:qg(d)?(Et=0,jn=null,Vy(r)):(Et=0,jn=null,to(t,r,d,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var T=Fe;if(!_||uv(_)){Et=0,jn=null;var D=T.sibling;if(D!==null)Fe=D;else{var P=T.return;P!==null?(Fe=P,ic(P)):Fe=null}break t}}Et=0,jn=null,to(t,r,d,5);break;case 6:Et=0,jn=null,to(t,r,d,6);break;case 8:Zf(),Nt=6;break e;default:throw Error(a(462))}}wS();break}catch(W){Oy(t,W)}while(!0);return ci=ns=null,b.H=l,b.A=h,wt=s,Fe!==null?0:(_t=null,We=0,Cu(),Nt)}function wS(){for(;Fe!==null&&!fr();)xy(Fe)}function xy(t){var r=ty(t.alternate,t,yi);t.memoizedProps=t.pendingProps,r===null?ic(t):Fe=r}function Vy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=$p(s,r,r.pendingProps,r.type,void 0,We);break;case 11:r=$p(s,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:nf(r);default:Ry(s,r),r=Fe=by(r,yi),r=ty(s,r,yi)}t.memoizedProps=t.pendingProps,r===null?ic(t):Fe=r}function to(t,r,s,l){ci=ns=null,nf(r),Hs=null,Jo=0;var h=r.return;try{if(dS(t,h,r,s,We)){Nt=1,Qu(t,er(s,t.current)),Fe=null;return}}catch(d){if(h!==null)throw Fe=h,d;Nt=1,Qu(t,er(s,t.current)),Fe=null;return}r.flags&32768?(at||l===1?t=!0:Js||(We&536870912)!==0?t=!1:(pi=t=!0,(l===2||l===3||l===6)&&(l=rr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ly(r,t)):ic(r)}function ic(t){var r=t;do{if((r.flags&32768)!==0){Ly(r,pi);return}t=r.return;var s=vS(r.alternate,r,yi);if(s!==null){Fe=s;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=t}while(r!==null);Nt===0&&(Nt=5)}function Ly(t,r){do{var s=_S(t.alternate,t);if(s!==null){s.flags&=32767,Fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=s}while(t!==null);Nt=6,Fe=null}function Py(t,r,s,l,h,d,_,T,D,P){var W=b.T,re=de.p;try{de.p=2,b.T=null,RS(t,r,s,l,re,h,d,_,T,D,P)}finally{b.T=W,de.p=re}}function RS(t,r,s,l,h,d,_,T){do no();while(os!==null);if((wt&6)!==0)throw Error(a(327));var D=t.finishedWork;if(l=t.finishedLanes,D===null)return null;if(t.finishedWork=null,t.finishedLanes=0,D===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=D.lanes|D.childLanes;if(P|=Bh,ae(t,l,P,d,_,T),t===_t&&(Fe=_t=null,We=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||nc||(nc=!0,Qf=P,Yf=s,OS(Fn,function(){return no(),null})),s=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||s?(s=b.T,b.T=null,d=de.p,de.p=2,_=wt,wt|=4,gS(t,D),py(D,t),XT(hd,t.containerInfo),pc=!!cd,hd=cd=null,t.current=D,fy(t,D.alternate,D),dr(),wt=_,de.p=d,b.T=s):t.current=D,nc?(nc=!1,os=t,pl=l):Uy(t,P),P=t.pendingLanes,P===0&&(ra=null),Ma(D.stateNode),Br(t),r!==null)for(h=t.onRecoverableError,D=0;D<r.length;D++)P=r[D],h(P.value,{componentStack:P.stack});return(pl&3)!==0&&no(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===$f?yl++:(yl=0,$f=t):yl=0,vl(0),null}function Uy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,el(r)))}function no(){if(os!==null){var t=os,r=Qf;Qf=0;var s=De(pl),l=b.T,h=de.p;try{if(de.p=32>s?32:s,b.T=null,os===null)var d=!1;else{s=Yf,Yf=null;var _=os,T=pl;if(os=null,pl=0,(wt&6)!==0)throw Error(a(331));var D=wt;if(wt|=4,Ty(_.current),vy(_,_.current,T,s),wt=D,vl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(mr,_)}catch{}d=!0}return d}finally{de.p=h,b.T=l,Uy(t,r)}}return!1}function ky(t,r,s){r=er(s,r),r=yf(t.stateNode,r,2),t=Zi(t,r,2),t!==null&&(G(t,2),Br(t))}function yt(t,r,s){if(t.tag===3)ky(t,t,s);else for(;r!==null;){if(r.tag===3){ky(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))){t=er(s,t),s=Bp(2),l=Zi(r,s,2),l!==null&&(Hp(s,l,r,t),G(l,2),Br(l));break}}r=r.return}}function ed(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new TS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(qf=!0,h.add(s),t=CS.bind(null,t,r,s),r.then(t,t))}function CS(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,_t===t&&(We&s)===s&&(Nt===4||Nt===3&&(We&62914560)===We&&300>sn()-Kf?(wt&2)===0&&eo(t,0):Ff|=s,Ws===We&&(Ws=0)),Br(t)}function zy(t,r){r===0&&(r=M()),t=qi(t,r),t!==null&&(G(t,r),Br(t))}function DS(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),zy(t,s)}function IS(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),zy(t,s)}function OS(t,r){return Xr(t,r)}var ac=null,ro=null,td=!1,sc=!1,nd=!1,ls=0;function Br(t){t!==ro&&t.next===null&&(ro===null?ac=ro=t:ro=ro.next=t),sc=!0,td||(td=!0,MS(NS))}function vl(t,r){if(!nd&&sc){nd=!0;do for(var s=!1,l=ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-kt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,Hy(l,d))}else d=We,d=on(l,l===_t?d:0),(d&3)===0||Ln(l,d)||(s=!0,Hy(l,d));l=l.next}while(s);nd=!1}}function NS(){sc=td=!1;var t=0;ls!==0&&(jS()&&(t=ls),ls=0);for(var r=sn(),s=null,l=ac;l!==null;){var h=l.next,d=jy(l,r);d===0?(l.next=null,s===null?ac=h:s.next=h,h===null&&(ro=s)):(s=l,(t!==0||(d&3)!==0)&&(sc=!0)),l=h}vl(t)}function jy(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-kt(d),T=1<<_,D=h[_];D===-1?((T&s)===0||(T&l)!==0)&&(h[_]=ki(T,r)):D<=r&&(t.expiredLanes|=T),d&=~T}if(r=_t,s=We,s=on(t,t===r?s:0),l=t.callbackNode,s===0||t===r&&Et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ln(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&xi(l),De(s)){case 2:case 8:s=dt;break;case 32:s=Fn;break;case 268435456:s=Na;break;default:s=Fn}return l=By.bind(null,t),s=Xr(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&xi(l),t.callbackPriority=2,t.callbackNode=null,2}function By(t,r){var s=t.callbackNode;if(no()&&t.callbackNode!==s)return null;var l=We;return l=on(t,t===_t?l:0),l===0?null:(Dy(t,l,r),jy(t,sn()),t.callbackNode!=null&&t.callbackNode===s?By.bind(null,t):null)}function Hy(t,r){if(no())return null;Dy(t,r,!0)}function MS(t){HS(function(){(wt&6)!==0?Xr(ft,t):t()})}function rd(){return ls===0&&(ls=xa()),ls}function qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Or(""+t)}function Fy(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function xS(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=qy((h[Re]||null).action),_=l.submitter;_&&(r=(r=_[Re]||null)?qy(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new Ds("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var D=_?Fy(h,_):new FormData(h);ff(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?Fy(h,_):new FormData(h),ff(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var id=0;id<Pg.length;id++){var ad=Pg[id],VS=ad.toLowerCase(),LS=ad[0].toUpperCase()+ad.slice(1);pr(VS,"on"+LS)}pr(Ng,"onAnimationEnd"),pr(Mg,"onAnimationIteration"),pr(xg,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(JT,"onTransitionRun"),pr(WT,"onTransitionStart"),pr(eS,"onTransitionCancel"),pr(Vg,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),je("onBeforeInput",["compositionend","keypress","textInput","paste"]),je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Gy(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,P=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(W){Ku(W)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,P=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(W){Ku(W)}h.currentTarget=null,d=D}}}}function Ye(t,r){var s=r[Tt];s===void 0&&(s=r[Tt]=new Set);var l=t+"__bubble";s.has(l)||(Ky(r,t,2,!1),s.add(l))}function sd(t,r,s){var l=0;r&&(l|=4),Ky(s,t,l,r)}var oc="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[oc]){t[oc]=!0,Dr.forEach(function(s){s!=="selectionchange"&&(PS.has(s)||sd(s,!1,t),sd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[oc]||(r[oc]=!0,sd("selectionchange",!1,r))}}function Ky(t,r,s,l){switch(gv(r)){case 2:var h=lb;break;case 8:h=ub;break;default:h=Ed}s=h.bind(null,r,s,t),h=void 0,!Zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function ld(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Vt(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}fu(function(){var P=d,W=Cs(s),re=[];e:{var Q=Lg.get(t);if(Q!==void 0){var J=Ds,we=t;switch(t){case"keypress":if(Mr(s)===0)break e;case"keydown":case"keyup":J=Vs;break;case"focusin":we="focus",J=Ns;break;case"focusout":we="blur",J=Ns;break;case"beforeblur":case"afterblur":J=Ns;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Eu;break;case Ng:case Mg:case xg:J=Ms;break;case Vg:J=Su;break;case"scroll":case"scrollend":J=du;break;case"wheel":J=Ls;break;case"copy":case"cut":case"paste":J=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=qo;break;case"toggle":case"beforetoggle":J=Au}var Pe=(r&4)!==0,Mt=!Pe&&(t==="scroll"||t==="scrollend"),B=Pe?Q!==null?Q+"Capture":null:Q;Pe=[];for(var L=P,K;L!==null;){var te=L;if(K=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||K===null||B===null||(te=ka(L,B),te!=null&&Pe.push(El(L,te,K))),Mt)break;L=L.return}0<Pe.length&&(Q=new J(Q,we,null,s,W),re.push({event:Q,listeners:Pe}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",J=t==="mouseout"||t==="pointerout",Q&&s!==Xn&&(we=s.relatedTarget||s.fromElement)&&(Vt(we)||we[Xe]))break e;if((J||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(we=s.relatedTarget||s.toElement,J=P,we=we?Vt(we):null,we!==null&&(Mt=pe(we),Pe=we.tag,we!==Mt||Pe!==5&&Pe!==27&&Pe!==6)&&(we=null)):(J=null,we=P),J!==we)){if(Pe=Jn,te="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=qo,te="onPointerLeave",B="onPointerEnter",L="pointer"),Mt=J==null?Q:Kn(J),K=we==null?Q:Kn(we),Q=new Pe(te,L+"leave",J,s,W),Q.target=Mt,Q.relatedTarget=K,te=null,Vt(W)===P&&(Pe=new Pe(B,L+"enter",we,s,W),Pe.target=K,Pe.relatedTarget=Mt,te=Pe),Mt=te,J&&we)t:{for(Pe=J,B=we,L=0,K=Pe;K;K=io(K))L++;for(K=0,te=B;te;te=io(te))K++;for(;0<L-K;)Pe=io(Pe),L--;for(;0<K-L;)B=io(B),K--;for(;L--;){if(Pe===B||B!==null&&Pe===B.alternate)break t;Pe=io(Pe),B=io(B)}Pe=null}else Pe=null;J!==null&&Qy(re,Q,J,Pe,!1),we!==null&&Mt!==null&&Qy(re,Mt,we,Pe,!0)}}e:{if(Q=P?Kn(P):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var be=Eg;else if(Kt(Q))if(Tg)be=YT;else{be=KT;var qe=GT}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?P&&Po(P.elementType)&&(be=Eg):be=QT;if(be&&(be=be(t,P))){ii(re,be,s,W);break e}qe&&qe(t,Q,P),t==="focusout"&&P&&Q.type==="number"&&P.memoizedProps.value!=null&&Rs(Q,"number",Q.value)}switch(qe=P?Kn(P):window,t){case"focusin":(Kt(qe)||qe.contentEditable==="true")&&(Ps=qe,kh=P,Ko=null);break;case"focusout":Ko=kh=Ps=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Ig(re,s,W);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Ig(re,s,W)}var Ce;if(Lr)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ze?Y(t,s)&&(Ie="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(v&&s.locale!=="ko"&&(Ze||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ze&&(Ce=ko()):(Nr=W,Hi="value"in Nr?Nr.value:Nr.textContent,Ze=!0)),qe=lc(P,Ie),0<qe.length&&(Ie=new Bo(Ie,t,null,s,W),re.push({event:Ie,listeners:qe}),Ce?Ie.data=Ce:(Ce=ce(s),Ce!==null&&(Ie.data=Ce)))),(Ce=p?Gt(t,s):Je(t,s))&&(Ie=lc(P,"onBeforeInput"),0<Ie.length&&(qe=new Bo("onBeforeInput","beforeinput",null,s,W),re.push({event:qe,listeners:Ie}),qe.data=Ce)),xS(re,t,P,s,W)}Gy(re,r)})}function El(t,r,s){return{instance:t,listener:r,currentTarget:s}}function lc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ka(t,s),h!=null&&l.unshift(El(t,h,d)),h=ka(t,r),h!=null&&l.push(El(t,h,d))),t=t.return}return l}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qy(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var T=s,D=T.alternate,P=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||P===null||(D=P,h?(P=ka(s,d),P!=null&&_.unshift(El(s,P,D))):h||(P=ka(s,d),P!=null&&_.push(El(s,P,D)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var US=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(US,`
`).replace(kS,"")}function $y(t,r){return r=Yy(r),Yy(t)===r}function uc(){}function gt(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||$n(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&$n(t,""+l);break;case"className":zi(t,"class",l);break;case"tabIndex":zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(t,s,l);break;case"style":hu(t,l,d);break;case"data":if(r!=="object"){zi(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Or(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&gt(t,r,"name",h.name,h,null),gt(t,r,"formEncType",h.formEncType,h,null),gt(t,r,"formMethod",h.formMethod,h,null),gt(t,r,"formTarget",h.formTarget,h,null)):(gt(t,r,"encType",h.encType,h,null),gt(t,r,"method",h.method,h,null),gt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Or(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=uc);break;case"onScroll":l!=null&&Ye("scroll",t);break;case"onScrollEnd":l!=null&&Ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Or(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ye("beforetoggle",t),Ye("toggle",t),Ir(t,"popover",l);break;case"xlinkActuate":Yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Nh.get(s)||s,Ir(t,s,l))}}function ud(t,r,s,l,h,d){switch(s){case"style":hu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?$n(t,l):(typeof l=="number"||typeof l=="bigint")&&$n(t,""+l);break;case"onScroll":l!=null&&Ye("scroll",t);break;case"onScrollEnd":l!=null&&Ye("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[Re]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ir(t,s,l)}}}function hn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",t),Ye("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:gt(t,r,d,_,s,null)}}h&&gt(t,r,"srcSet",s.srcSet,s,null),l&&gt(t,r,"src",s.src,s,null);return;case"input":Ye("invalid",t);var T=d=_=h=null,D=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":P=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,r));break;default:gt(t,r,l,W,s,null)}}Pa(t,d,T,D,P,_,h,!1),La(t);return;case"select":Ye("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:gt(t,r,h,T,s,null)}r=d,s=_,t.multiple=!!l,r!=null?it(t,!!l,r,!1):s!=null&&it(t,!!l,s,!0);return;case"textarea":Ye("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:gt(t,r,_,T,s,null)}Bi(t,l,h,d),La(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:gt(t,r,D,l,s,null)}return;case"dialog":Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":Ye("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Ye(_l[l],t);break;case"image":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"embed":case"source":case"link":Ye("error",t),Ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:gt(t,r,P,l,s,null)}return;default:if(Po(r)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&ud(t,r,W,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&gt(t,r,T,l,s,null))}function zS(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,P=null,W=null;for(J in s){var re=s[J];if(s.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":D=re;default:l.hasOwnProperty(J)||gt(t,r,J,null,l,re)}}for(var Q in l){var J=l[Q];if(re=s[Q],l.hasOwnProperty(Q)&&(J!=null||re!=null))switch(Q){case"type":d=J;break;case"name":h=J;break;case"checked":P=J;break;case"defaultChecked":W=J;break;case"value":_=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:J!==re&&gt(t,r,Q,J,l,re)}}ji(t,_,T,D,P,W,d,h);return;case"select":J=_=T=Q=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":J=D;default:l.hasOwnProperty(d)||gt(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&gt(t,r,h,d,l,D)}r=T,s=_,l=J,Q!=null?it(t,!!s,Q,!1):!!l!=!!s&&(r!=null?it(t,!!s,r,!0):it(t,!!s,s?[]:"",!1));return;case"textarea":J=Q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:gt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Q=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&gt(t,r,_,h,l,d)}Ua(t,Q,J);return;case"option":for(var we in s)if(Q=s[we],s.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:gt(t,r,we,null,l,Q)}for(D in l)if(Q=l[D],J=s[D],l.hasOwnProperty(D)&&Q!==J&&(Q!=null||J!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:gt(t,r,D,Q,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in s)Q=s[Pe],s.hasOwnProperty(Pe)&&Q!=null&&!l.hasOwnProperty(Pe)&&gt(t,r,Pe,null,l,Q);for(P in l)if(Q=l[P],J=s[P],l.hasOwnProperty(P)&&Q!==J&&(Q!=null||J!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:gt(t,r,P,Q,l,J)}return;default:if(Po(r)){for(var Mt in s)Q=s[Mt],s.hasOwnProperty(Mt)&&Q!==void 0&&!l.hasOwnProperty(Mt)&&ud(t,r,Mt,void 0,l,Q);for(W in l)Q=l[W],J=s[W],!l.hasOwnProperty(W)||Q===J||Q===void 0&&J===void 0||ud(t,r,W,Q,l,J);return}}for(var B in s)Q=s[B],s.hasOwnProperty(B)&&Q!=null&&!l.hasOwnProperty(B)&&gt(t,r,B,null,l,Q);for(re in l)Q=l[re],J=s[re],!l.hasOwnProperty(re)||Q===J||Q==null&&J==null||gt(t,r,re,Q,l,J)}var cd=null,hd=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function Xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function fd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dd=null;function jS(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(t){return Wy.resolve(null).then(t).catch(qS)}:Jy;function qS(t){setTimeout(function(){throw t})}function md(t,r){var s=r,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){t.removeChild(h),Dl(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Dl(r)}function gd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),Pn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function FS(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Tn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=_r(t.nextSibling),t===null)break}return null}function GS(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=_r(t.nextSibling),t===null))return null;return t}function _r(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function ev(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function tv(t,r,s){switch(r=cc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var lr=new Map,nv=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var _i=de.d;de.d={f:KS,r:QS,D:YS,C:$S,L:XS,m:ZS,X:WS,S:JS,M:eb};function KS(){var t=_i.f(),r=rc();return t||r}function QS(t){var r=zt(t);r!==null&&r.tag===5&&r.type==="form"?Ip(r):_i.r(t)}var ao=typeof document>"u"?null:document;function rv(t,r,s){var l=ao;if(l&&typeof r=="string"&&r){var h=It(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),nv.has(h)||(nv.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),hn(r,"link",t),ot(r),l.head.appendChild(r)))}}function YS(t){_i.D(t),rv("dns-prefetch",t,null)}function $S(t,r){_i.C(t,r),rv("preconnect",t,r)}function XS(t,r,s){_i.L(t,r,s);var l=ao;if(l&&t&&r){var h='link[rel="preload"][as="'+It(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+It(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+It(s.imageSizes)+'"]')):h+='[href="'+It(t)+'"]';var d=h;switch(r){case"style":d=so(t);break;case"script":d=oo(t)}lr.has(d)||(t=I({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),lr.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Tl(d))||r==="script"&&l.querySelector(Sl(d))||(r=l.createElement("link"),hn(r,"link",t),ot(r),l.head.appendChild(r)))}}function ZS(t,r){_i.m(t,r);var s=ao;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!lr.has(d)&&(t=I({rel:"modulepreload",href:t},r),lr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Sl(d)))return}l=s.createElement("link"),hn(l,"link",t),ot(l),s.head.appendChild(l)}}}function JS(t,r,s){_i.S(t,r,s);var l=ao;if(l&&t){var h=In(l).hoistableStyles,d=so(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Tl(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":r},s),(s=lr.get(d))&&pd(t,s);var D=_=l.createElement("link");ot(D),hn(D,"link",t),D._p=new Promise(function(P,W){D.onload=P,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function WS(t,r){_i.X(t,r);var s=ao;if(s&&t){var l=In(s).hoistableScripts,h=oo(t),d=l.get(h);d||(d=s.querySelector(Sl(h)),d||(t=I({src:t,async:!0},r),(r=lr.get(h))&&yd(t,r),d=s.createElement("script"),ot(d),hn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eb(t,r){_i.M(t,r);var s=ao;if(s&&t){var l=In(s).hoistableScripts,h=oo(t),d=l.get(h);d||(d=s.querySelector(Sl(h)),d||(t=I({src:t,async:!0,type:"module"},r),(r=lr.get(h))&&yd(t,r),d=s.createElement("script"),ot(d),hn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iv(t,r,s,l){var h=(h=Cn.current)?hc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=so(s.href),s=In(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=so(s.href);var d=In(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Tl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),lr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},lr.set(t,s),d||tb(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=oo(s),s=In(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function so(t){return'href="'+It(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function av(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function tb(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),hn(r,"link",s),ot(r),t.head.appendChild(r))}function oo(t){return'[src="'+It(t)+'"]'}function Sl(t){return"script[async]"+t}function sv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+It(s.href)+'"]');if(l)return r.instance=l,ot(l),l;var h=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ot(l),hn(l,"style",h),fc(l,s.precedence,t),r.instance=l;case"stylesheet":h=so(s.href);var d=t.querySelector(Tl(h));if(d)return r.state.loading|=4,r.instance=d,ot(d),d;l=av(s),(h=lr.get(h))&&pd(l,h),d=(t.ownerDocument||t).createElement("link"),ot(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),hn(d,"link",l),r.state.loading|=4,fc(d,s.precedence,t),r.instance=d;case"script":return d=oo(s.src),(h=t.querySelector(Sl(d)))?(r.instance=h,ot(h),h):(l=s,(h=lr.get(d))&&(l=I({},s),yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ot(h),hn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,fc(l,s.precedence,t));return r.instance}function fc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function pd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function yd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var dc=null;function ov(t,r,s){if(dc===null){var l=new Map,h=dc=new Map;h.set(s,l)}else h=dc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Tn]||d[Ae]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function lv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function nb(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function rb(){}function ib(t,r,s){if(bl===null)throw Error(a(475));var l=bl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=so(s.href),d=t.querySelector(Tl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ot(d);return}d=t.ownerDocument||t,s=av(s),(h=lr.get(h))&&pd(s,h),d=d.createElement("link"),ot(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),hn(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=mc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function ab(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&vd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&vd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function vd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,r.forEach(sb,t),gc=null,mc.call(t))}function sb(t,r){if(!(r.state.loading&4)){var s=gc.get(t);if(s)var l=s.get(null);else{s=new Map,gc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Al={$$typeof:R,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function ob(t,r,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=j(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.hiddenUpdates=j(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function cv(t,r,s,l,h,d,_,T,D,P,W,re){return t=new ob(t,r,s,_,T,D,P,re),r=1,d===!0&&(r|=24),d=sr(3,null,null,r),t.current=d,d.stateNode=t,r=$h(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Of(d),t}function hv(t){return t?(t=zs,t):zs}function fv(t,r,s,l,h,d){h=hv(h),l.context===null?l.context=h:l.pendingContext=h,l=Xi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Zi(t,l,r),s!==null&&(wn(s,t,r),ol(s,t,r))}function dv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function _d(t,r){dv(t,r),(t=t.alternate)&&dv(t,r)}function mv(t){if(t.tag===13){var r=qi(t,67108864);r!==null&&wn(r,t,67108864),_d(t,67108864)}}var pc=!0;function lb(t,r,s,l){var h=b.T;b.T=null;var d=de.p;try{de.p=2,Ed(t,r,s,l)}finally{de.p=d,b.T=h}}function ub(t,r,s,l){var h=b.T;b.T=null;var d=de.p;try{de.p=8,Ed(t,r,s,l)}finally{de.p=d,b.T=h}}function Ed(t,r,s,l){if(pc){var h=Td(l);if(h===null)ld(t,r,l,yc,s),pv(t,l);else if(hb(h,t,r,s,l))l.stopPropagation();else if(pv(t,l),r&4&&-1<cb.indexOf(t)){for(;h!==null;){var d=zt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Dn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-kt(_);T.entanglements[1]|=D,_&=~D}Br(d),(wt&6)===0&&(ec=sn()+500,vl(0))}}break;case 13:T=qi(d,2),T!==null&&wn(T,d,2),rc(),_d(d,2)}if(d=Td(l),d===null&&ld(t,r,l,yc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else ld(t,r,l,null,s)}}function Td(t){return t=Cs(t),Sd(t)}var yc=null;function Sd(t){if(yc=null,t=Vt(t),t!==null){var r=pe(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=He(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return yc=t,null}function gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vi()){case ft:return 2;case dt:return 8;case Fn:case Li:return 32;case Na:return 268435456;default:return 32}default:return 32}}var bd=!1,ia=null,aa=null,sa=null,wl=new Map,Rl=new Map,oa=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(t,r){switch(t){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":wl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(r.pointerId)}}function Cl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=zt(r),r!==null&&mv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function hb(t,r,s,l,h){switch(r){case"focusin":return ia=Cl(ia,t,r,s,l,h),!0;case"dragenter":return aa=Cl(aa,t,r,s,l,h),!0;case"mouseover":return sa=Cl(sa,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Cl(wl.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Cl(Rl.get(d)||null,t,r,s,l,h)),!0}return!1}function yv(t){var r=Vt(t.target);if(r!==null){var s=pe(r);if(s!==null){if(r=s.tag,r===13){if(r=He(s),r!==null){t.blockedOn=r,_e(t.priority,function(){if(s.tag===13){var l=Bn(),h=qi(s,l);h!==null&&wn(h,s,l),_d(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Td(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Xn=l,s.target.dispatchEvent(l),Xn=null}else return r=zt(s),r!==null&&mv(r),t.blockedOn=s,!1;r.shift()}return!0}function vv(t,r,s){vc(t)&&s.delete(r)}function fb(){bd=!1,ia!==null&&vc(ia)&&(ia=null),aa!==null&&vc(aa)&&(aa=null),sa!==null&&vc(sa)&&(sa=null),wl.forEach(vv),Rl.forEach(vv)}function _c(t,r){t.blockedOn===r&&(t.blockedOn=null,bd||(bd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fb)))}var Ec=null;function _v(t){Ec!==t&&(Ec=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Sd(l||s)===null)continue;break}var d=zt(s);d!==null&&(t.splice(r,3),r-=3,ff(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Dl(t){function r(D){return _c(D,t)}ia!==null&&_c(ia,t),aa!==null&&_c(aa,t),sa!==null&&_c(sa,t),wl.forEach(r),Rl.forEach(r);for(var s=0;s<oa.length;s++){var l=oa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<oa.length&&(s=oa[0],s.blockedOn===null);)yv(s),s.blockedOn===null&&oa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Re]||null;if(typeof d=="function")_||_v(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Re]||null)T=_.formAction;else if(Sd(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),_v(s)}}}function Ad(t){this._internalRoot=t}Tc.prototype.render=Ad.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Bn();fv(s,l,t,r,null,null)},Tc.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&no(),fv(t.current,2,null,t,null,null),rc(),r[Xe]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ve();t={blockedOn:null,target:t,priority:r};for(var s=0;s<oa.length&&r!==0&&r<oa[s].priority;s++);oa.splice(s,0,t),s===0&&yv(t)}};var Ev=e.version;if(Ev!=="19.0.0")throw Error(a(527,Ev,"19.0.0"));de.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=ie(r),t=t!==null?Te(t):null,t=t===null?null:t.stateNode,t};var db={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Vt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{mr=Sc.inject(db),Ft=Sc}catch{}}return Ol.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=Up,d=kp,_=zp,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=cv(t,1,!1,null,null,s,l,h,d,_,T,null),t[Xe]=r.current,od(t.nodeType===8?t.parentNode:t),new Ad(r)},Ol.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Up,_=kp,T=zp,D=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),r=cv(t,1,!0,r,s??null,l,h,d,_,T,D,P),r.context=hv(null),s=r.current,l=Bn(),h=Xi(l),h.callback=null,Zi(s,h,l),r.current.lanes=l,G(r,l),Br(r),t[Xe]=r.current,od(t),new Tc(r)},Ol.version="19.0.0",Ol}var Ov;function Sb(){if(Ov)return Cd.exports;Ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cd.exports=Tb(),Cd.exports}var bb=Sb();const Ab=A0(bb);var Nl={},Nv;function wb(){if(Nv)return Nl;Nv=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=f,Nl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,R){const k=new u,X=C.length;if(X<2)return k;const F=(R==null?void 0:R.decode)||E;let $=0;do{const ee=C.indexOf("=",$);if(ee===-1)break;const oe=C.indexOf(";",$),ye=oe===-1?X:oe;if(ee>ye){$=C.lastIndexOf(";",ee-1)+1;continue}const ue=m(C,$,ee),U=g(C,ee,ue),N=C.slice(ue,U);if(k[N]===void 0){let w=m(C,ee+1,ye),b=g(C,ye,w);const I=F(C.slice(w,b));k[N]=I}$=ye+1}while($<X);return k}function m(C,R,k){do{const X=C.charCodeAt(R);if(X!==32&&X!==9)return R}while(++R<k);return k}function g(C,R,k){for(;R>k;){const X=C.charCodeAt(--R);if(X!==32&&X!==9)return R+1}return k}function y(C,R,k){const X=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(C))throw new TypeError(`argument name is invalid: ${C}`);const F=X(R);if(!e.test(F))throw new TypeError(`argument val is invalid: ${R}`);let $=C+"="+F;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!a.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!A(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function A(C){return o.call(C)==="[object Date]"}return Nl}wb();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Mv="popstate";function Rb(i={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return Fl("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Sa(o)}return Db(e,n,null,i)}function Qe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function an(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cb(){return Math.random().toString(36).substring(2,10)}function xv(i,e){return{usr:i.state,key:i.key,idx:e}}function Fl(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ia(e):e,state:n,key:e&&e.key||a||Cb()}}function Sa({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ia(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function Db(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let F=E(),$=F==null?null:F-y;y=F,g&&g({action:m,location:X.location,delta:$})}function C(F,$){m="PUSH";let ee=Fl(X.location,F,$);y=E()+1;let oe=xv(ee,y),ye=X.createHref(ee);try{f.pushState(oe,"",ye)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ye)}u&&g&&g({action:m,location:X.location,delta:1})}function R(F,$){m="REPLACE";let ee=Fl(X.location,F,$);y=E();let oe=xv(ee,y),ye=X.createHref(ee);f.replaceState(oe,"",ye),u&&g&&g({action:m,location:X.location,delta:0})}function k(F){let $=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof F=="string"?F:Sa(F);return ee=ee.replace(/ $/,"%20"),Qe($,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,$)}let X={get action(){return m},get location(){return i(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,A),g=F,()=>{o.removeEventListener(Mv,A),g=null}},createHref(F){return e(o,F)},createURL:k,encodeLocation(F){let $=k(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:R,go(F){return f.go(F)}};return X}var Ib=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ob(i){return i.index===!0}function Hc(i,e,n=[],a={}){return i.map((o,u)=>{let f=[...n,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if(Qe(o.index!==!0||!o.children,"Cannot specify children on an index route"),Qe(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),Ob(o)){let g={...o,...e(o),id:m};return a[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return a[m]=g,o.children&&(g.children=Hc(o.children,e,f,a)),g}})}function ha(i,e,n="/"){return Nc(i,e,n,!1)}function Nc(i,e,n,a){let o=typeof e=="string"?Ia(e):e,u=br(o.pathname||"/",n);if(u==null)return null;let f=R0(i);Mb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=qb(u);m=Bb(f[g],y,a)}return m}function Nb(i,e){let{route:n,pathname:a,params:o}=i;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function R0(i,e=[],n=[],a=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Qe(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=Fr([a,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),R0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:zb(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of C0(u.path))o(u,f,g)}),e}function C0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=C0(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Mb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:jb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var xb=/^:[\w-]+$/,Vb=3,Lb=2,Pb=1,Ub=10,kb=-2,Vv=i=>i==="*";function zb(i,e){let n=i.split("/"),a=n.length;return n.some(Vv)&&(a+=kb),e&&(a+=Lb),n.filter(o=>!Vv(o)).reduce((o,u)=>o+(xb.test(u)?Vb:u===""?Pb:Ub),a)}function jb(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Bb(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),C=g.route;if(!A&&y&&n&&!a[a.length-1].route.index&&(A=qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Fr([u,A.pathname]),pathnameBase:Kb(Fr([u,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(u=Fr([u,A.pathnameBase]))}return f}function qc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=Hb(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:A},C)=>{if(E==="*"){let k=m[C]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const R=m[C];return A&&!R?y[E]=void 0:y[E]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function Hb(i,e=!1,n=!0){an(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function qb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return an(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function br(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Fb(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Ia(i):i;return{pathname:n?n.startsWith("/")?n:Gb(n,e):e,search:Qb(a),hash:Yb(o)}}function Gb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ch(i){let e=D0(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function hh(i,e,n,a=!1){let o;typeof i=="string"?o=Ia(i):(o={...i},Qe(!o.pathname||!o.pathname.includes("?"),Nd("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),Nd("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),Nd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!a&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}m=A>=0?e[A]:"/"}let g=Fb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Fr=i=>i.join("/").replace(/\/\/+/g,"/"),Kb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Qb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Yb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Fc=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Gl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var I0=["POST","PUT","PATCH","DELETE"],$b=new Set(I0),Xb=["GET",...I0],Zb=new Set(Xb),Jb=new Set([301,302,303,307,308]),Wb=new Set([307,308]),Md={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ml={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Dm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tA=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),O0="remix-router-transitions",N0=Symbol("ResetLoaderData");function nA(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=i.mapRouteProperties||tA,o={},u=Hc(i.routes,a,void 0,o),f,m=i.basename||"/",g=i.dataStrategy||oA,y=i.patchRoutesOnNavigation,E={...i.future},A=null,C=new Set,R=null,k=null,X=null,F=i.hydrationData!=null,$=ha(u,i.history.location,m),ee=!1,oe=null;if($==null&&!y){let M=ur(404,{pathname:i.history.location.pathname}),{matches:j,route:G}=Gv(u);$=j,oe={[G.id]:M}}$&&!i.hydrationData&&on($,u,i.history.location.pathname).active&&($=null);let ye;if($)if($.some(M=>M.route.lazy))ye=!1;else if(!$.some(M=>M.route.loader))ye=!0;else{let M=i.hydrationData?i.hydrationData.loaderData:null,j=i.hydrationData?i.hydrationData.errors:null;if(j){let G=$.findIndex(ae=>j[ae.route.id]!==void 0);ye=$.slice(0,G+1).every(ae=>!$d(ae.route,M,j))}else ye=$.every(G=>!$d(G.route,M,j))}else{ye=!1,$=[];let M=on(null,u,i.history.location.pathname);M.active&&M.matches&&(ee=!0,$=M.matches)}let ue,U={historyAction:i.history.action,location:i.history.location,matches:$,initialized:ye,navigation:Md,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||oe,fetchers:new Map,blockers:new Map},N="POP",w=!1,b,I=!1,V=new Map,z=null,O=!1,ht=!1,pt=new Set,se=new Map,le=0,pe=-1,He=new Map,x=new Set,ie=new Map,Te=new Map,fe=new Set,de=new Map,Ve,Me=null;function Ct(){if(A=i.history.listen(({action:M,location:j,delta:G})=>{if(Ve){Ve(),Ve=void 0;return}an(de.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Pi({currentLocation:U.location,nextLocation:j,historyAction:M});if(ae&&G!=null){let me=new Promise(Se=>{Ve=Se});i.history.go(G*-1),kt(ae,{state:"blocked",location:j,proceed(){kt(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),me.then(()=>i.history.go(G))},reset(){let Se=new Map(U.blockers);Se.set(ae,Ml),Le({blockers:Se})}});return}return mn(M,j)}),n){vA(e,V);let M=()=>_A(e,V);e.addEventListener("pagehide",M),z=()=>e.removeEventListener("pagehide",M)}return U.initialized||mn("POP",U.location,{initialHydration:!0}),ue}function $e(){A&&A(),z&&z(),C.clear(),b&&b.abort(),U.fetchers.forEach((M,j)=>Li(j)),U.blockers.forEach((M,j)=>xn(j))}function bt(M){return C.add(M),()=>C.delete(M)}function Le(M,j={}){U={...U,...M};let G=[],ae=[];U.fetchers.forEach((me,Se)=>{me.state==="idle"&&(fe.has(Se)?G.push(Se):ae.push(Se))}),fe.forEach(me=>{!U.fetchers.has(me)&&!se.has(me)&&G.push(me)}),[...C].forEach(me=>me(U,{deletedFetchers:G,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),G.forEach(me=>Li(me)),ae.forEach(me=>U.fetchers.delete(me))}function Dt(M,j,{flushSync:G}={}){var he,Ae;let ae=U.actionData!=null&&U.navigation.formMethod!=null&&Er(U.navigation.formMethod)&&U.navigation.state==="loading"&&((he=M.state)==null?void 0:he._isRedirect)!==!0,me;j.actionData?Object.keys(j.actionData).length>0?me=j.actionData:me=null:ae?me=U.actionData:me=null;let Se=j.loaderData?qv(U.loaderData,j.loaderData,j.matches||[],j.errors):U.loaderData,De=U.blockers;De.size>0&&(De=new Map(De),De.forEach((Re,Xe)=>De.set(Xe,Ml)));let ve=w===!0||U.navigation.formMethod!=null&&Er(U.navigation.formMethod)&&((Ae=M.state)==null?void 0:Ae._isRedirect)!==!0;f&&(u=f,f=void 0),O||N==="POP"||(N==="PUSH"?i.history.push(M,M.state):N==="REPLACE"&&i.history.replace(M,M.state));let _e;if(N==="POP"){let Re=V.get(U.location.pathname);Re&&Re.has(M.pathname)?_e={currentLocation:U.location,nextLocation:M}:V.has(M.pathname)&&(_e={currentLocation:M,nextLocation:U.location})}else if(I){let Re=V.get(U.location.pathname);Re?Re.add(M.pathname):(Re=new Set([M.pathname]),V.set(U.location.pathname,Re)),_e={currentLocation:U.location,nextLocation:M}}Le({...j,actionData:me,loaderData:Se,historyAction:N,location:M,initialized:!0,navigation:Md,revalidation:"idle",restoreScrollPosition:Dn(M,j.matches||U.matches),preventScrollReset:ve,blockers:De},{viewTransitionOpts:_e,flushSync:G===!0}),N="POP",w=!1,I=!1,O=!1,ht=!1,Me==null||Me.resolve(),Me=null}async function qn(M,j){if(typeof M=="number"){i.history.go(M);return}let G=Yd(U.location,U.matches,m,M,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:ae,submission:me,error:Se}=Lv(!1,G,j),De=U.location,ve=Fl(U.location,ae,j&&j.state);ve={...ve,...i.history.encodeLocation(ve)};let _e=j&&j.replace!=null?j.replace:void 0,he="PUSH";_e===!0?he="REPLACE":_e===!1||me!=null&&Er(me.formMethod)&&me.formAction===U.location.pathname+U.location.search&&(he="REPLACE");let Ae=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Re=(j&&j.flushSync)===!0,Xe=Pi({currentLocation:De,nextLocation:ve,historyAction:he});if(Xe){kt(Xe,{state:"blocked",location:ve,proceed(){kt(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),qn(M,j)},reset(){let Tt=new Map(U.blockers);Tt.set(Xe,Ml),Le({blockers:Tt})}});return}await mn(he,ve,{submission:me,pendingError:Se,preventScrollReset:Ae,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Re})}function Cn(){Me||(Me=EA()),Vi(),Le({revalidation:"loading"});let M=Me.promise;return U.navigation.state==="submitting"?M:U.navigation.state==="idle"?(mn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),M):(mn(N||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:I===!0}),M)}async function mn(M,j,G){b&&b.abort(),b=null,N=M,O=(G&&G.startUninterruptedRevalidation)===!0,Cr(U.location,U.matches),w=(G&&G.preventScrollReset)===!0,I=(G&&G.enableViewTransition)===!0;let ae=f||u,me=G&&G.overrideNavigation,Se=G!=null&&G.initialHydration&&U.matches&&U.matches.length>0&&!ee?U.matches:ha(ae,j,m),De=(G&&G.flushSync)===!0;if(Se&&U.initialized&&!ht&&dA(U.location,j)&&!(G&&G.submission&&Er(G.submission.formMethod))){Dt(j,{matches:Se},{flushSync:De});return}let ve=on(Se,ae,j.pathname);if(ve.active&&ve.matches&&(Se=ve.matches),!Se){let{error:ut,notFoundMatches:Ge,route:St}=Ui(j.pathname);Dt(j,{matches:Ge,loaderData:{},errors:{[St.id]:ut}},{flushSync:De});return}b=new AbortController;let _e=lo(i.history,j,b.signal,G&&G.submission),he;if(G&&G.pendingError)he=[cs(Se).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Er(G.submission.formMethod)){let ut=await wr(_e,j,G.submission,Se,ve.active,{replace:G.replace,flushSync:De});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[Ge,St]=ut.pendingActionResult;if(Hn(St)&&Gl(St.error)&&St.error.status===404){b=null,Dt(j,{matches:ut.matches,loaderData:{},errors:{[Ge]:St.error}});return}}Se=ut.matches||Se,he=ut.pendingActionResult,me=xd(j,G.submission),De=!1,ve.active=!1,_e=lo(i.history,_e.url,_e.signal)}let{shortCircuited:Ae,matches:Re,loaderData:Xe,errors:Tt}=await hr(_e,j,Se,ve.active,me,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,De,he);Ae||(b=null,Dt(j,{matches:Re||Se,...Fv(he),loaderData:Xe,errors:Tt}))}async function wr(M,j,G,ae,me,Se={}){Vi();let De=pA(j,G);if(Le({navigation:De},{flushSync:Se.flushSync===!0}),me){let he=await Ln(ae,j.pathname,M.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let Ae=cs(he.partialMatches).route.id;return{matches:he.partialMatches,pendingActionResult:[Ae,{type:"error",error:he.error}]}}else if(he.matches)ae=he.matches;else{let{notFoundMatches:Ae,error:Re,route:Xe}=Ui(j.pathname);return{matches:Ae,pendingActionResult:[Xe.id,{type:"error",error:Re}]}}}let ve,_e=Ll(ae,j);if(!_e.route.action&&!_e.route.lazy)ve={type:"error",error:ur(405,{method:M.method,pathname:j.pathname,routeId:_e.route.id})};else if(ve=(await dr("action",U,M,[_e],ae,null))[_e.route.id],M.signal.aborted)return{shortCircuited:!0};if(hs(ve)){let he;return Se&&Se.replace!=null?he=Se.replace:he=jv(ve.response.headers.get("Location"),new URL(M.url),m)===U.location.pathname+U.location.search,await fr(M,ve,!0,{submission:G,replace:he}),{shortCircuited:!0}}if(Hn(ve)){let he=cs(ae,_e.route.id);return(Se&&Se.replace)!==!0&&(N="PUSH"),{matches:ae,pendingActionResult:[he.route.id,ve]}}return{matches:ae,pendingActionResult:[_e.route.id,ve]}}async function hr(M,j,G,ae,me,Se,De,ve,_e,he,Ae){let Re=me||xd(j,Se),Xe=Se||De||Qv(Re),Tt=!O&&!_e;if(ae){if(Tt){let lt=Oi(Ae);Le({navigation:Re,...lt!==void 0?{actionData:lt}:{}},{flushSync:he})}let je=await Ln(G,j.pathname,M.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){let lt=cs(je.partialMatches).route.id;return{matches:je.partialMatches,loaderData:{},errors:{[lt]:je.error}}}else if(je.matches)G=je.matches;else{let{error:lt,notFoundMatches:Zt,route:Zr}=Ui(j.pathname);return{matches:Zt,loaderData:{},errors:{[Zr.id]:lt}}}}let ut=f||u,[Ge,St]=Uv(i.history,U,G,Xe,j,_e===!0,ht,pt,fe,ie,x,ut,m,Ae);if(pe=++le,Ge.length===0&&St.length===0){let je=mr();return Dt(j,{matches:G,loaderData:{},errors:Ae&&Hn(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...Fv(Ae),...je?{fetchers:new Map(U.fetchers)}:{}},{flushSync:he}),{shortCircuited:!0}}if(Tt){let je={};if(!ae){je.navigation=Re;let lt=Oi(Ae);lt!==void 0&&(je.actionData=lt)}St.length>0&&(je.fetchers=Ni(St)),Le(je,{flushSync:he})}St.forEach(je=>{Gn(je.key),je.controller&&se.set(je.key,je.controller)});let Tn=()=>St.forEach(je=>Gn(je.key));b&&b.signal.addEventListener("abort",Tn);let{loaderResults:Pn,fetcherResults:Vt}=await sn(U,G,Ge,St,M);if(M.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",Tn),St.forEach(je=>se.delete(je.key));let zt=bc(Pn);if(zt)return await fr(M,zt.result,!0,{replace:ve}),{shortCircuited:!0};if(zt=bc(Vt),zt)return x.add(zt.key),await fr(M,zt.result,!0,{replace:ve}),{shortCircuited:!0};let{loaderData:Kn,errors:In}=Hv(U,G,Pn,Ae,St,Vt);_e&&U.errors&&(In={...U.errors,...In});let ot=mr(),Dr=Ft(pe),gr=ot||Dr||St.length>0;return{matches:G,loaderData:Kn,errors:In,...gr?{fetchers:new Map(U.fetchers)}:{}}}function Oi(M){if(M&&!Hn(M[1]))return{[M[0]]:M[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Ni(M){return M.forEach(j=>{let G=U.fetchers.get(j.key),ae=xl(void 0,G?G.data:void 0);U.fetchers.set(j.key,ae)}),new Map(U.fetchers)}async function Mi(M,j,G,ae){Gn(M);let me=(ae&&ae.flushSync)===!0,Se=f||u,De=Yd(U.location,U.matches,m,G,j,ae==null?void 0:ae.relative),ve=ha(Se,De,m),_e=on(ve,Se,De);if(_e.active&&_e.matches&&(ve=_e.matches),!ve){dt(M,j,ur(404,{pathname:De}),{flushSync:me});return}let{path:he,submission:Ae,error:Re}=Lv(!0,De,ae);if(Re){dt(M,j,Re,{flushSync:me});return}let Xe=Ll(ve,he),Tt=(ae&&ae.preventScrollReset)===!0;if(Ae&&Er(Ae.formMethod)){await Xr(M,j,he,Xe,ve,_e.active,me,Tt,Ae);return}ie.set(M,{routeId:j,path:he}),await xi(M,j,he,Xe,ve,_e.active,me,Tt,Ae)}async function Xr(M,j,G,ae,me,Se,De,ve,_e){Vi(),ie.delete(M);function he(vt){if(!vt.route.action&&!vt.route.lazy){let Qn=ur(405,{method:_e.formMethod,pathname:G,routeId:j});return dt(M,j,Qn,{flushSync:De}),!0}return!1}if(!Se&&he(ae))return;let Ae=U.fetchers.get(M);ft(M,yA(_e,Ae),{flushSync:De});let Re=new AbortController,Xe=lo(i.history,G,Re.signal,_e);if(Se){let vt=await Ln(me,G,Xe.signal);if(vt.type==="aborted")return;if(vt.type==="error"){dt(M,j,vt.error,{flushSync:De});return}else if(vt.matches){if(me=vt.matches,ae=Ll(me,G),he(ae))return}else{dt(M,j,ur(404,{pathname:G}),{flushSync:De});return}}se.set(M,Re);let Tt=le,Ge=(await dr("action",U,Xe,[ae],me,M))[ae.route.id];if(Xe.signal.aborted){se.get(M)===Re&&se.delete(M);return}if(fe.has(M)){if(hs(Ge)||Hn(Ge)){ft(M,ca(void 0));return}}else{if(hs(Ge))if(se.delete(M),pe>Tt){ft(M,ca(void 0));return}else return x.add(M),ft(M,xl(_e)),fr(Xe,Ge,!1,{fetcherSubmission:_e,preventScrollReset:ve});if(Hn(Ge)){dt(M,j,Ge.error);return}}let St=U.navigation.location||U.location,Tn=lo(i.history,St,Re.signal),Pn=f||u,Vt=U.navigation.state!=="idle"?ha(Pn,U.navigation.location,m):U.matches;Qe(Vt,"Didn't find any matches after fetcher action");let zt=++le;He.set(M,zt);let Kn=xl(_e,Ge.data);U.fetchers.set(M,Kn);let[In,ot]=Uv(i.history,U,Vt,_e,St,!1,ht,pt,fe,ie,x,Pn,m,[ae.route.id,Ge]);ot.filter(vt=>vt.key!==M).forEach(vt=>{let Qn=vt.key,Va=U.fetchers.get(Qn),Ir=xl(void 0,Va?Va.data:void 0);U.fetchers.set(Qn,Ir),Gn(Qn),vt.controller&&se.set(Qn,vt.controller)}),Le({fetchers:new Map(U.fetchers)});let Dr=()=>ot.forEach(vt=>Gn(vt.key));Re.signal.addEventListener("abort",Dr);let{loaderResults:gr,fetcherResults:je}=await sn(U,Vt,In,ot,Tn);if(Re.signal.aborted)return;Re.signal.removeEventListener("abort",Dr),He.delete(M),se.delete(M),ot.forEach(vt=>se.delete(vt.key));let lt=bc(gr);if(lt)return fr(Tn,lt.result,!1,{preventScrollReset:ve});if(lt=bc(je),lt)return x.add(lt.key),fr(Tn,lt.result,!1,{preventScrollReset:ve});let{loaderData:Zt,errors:Zr}=Hv(U,Vt,gr,void 0,ot,je);if(U.fetchers.has(M)){let vt=ca(Ge.data);U.fetchers.set(M,vt)}Ft(zt),U.navigation.state==="loading"&&zt>pe?(Qe(N,"Expected pending action"),b&&b.abort(),Dt(U.navigation.location,{matches:Vt,loaderData:Zt,errors:Zr,fetchers:new Map(U.fetchers)})):(Le({errors:Zr,loaderData:qv(U.loaderData,Zt,Vt,Zr),fetchers:new Map(U.fetchers)}),ht=!1)}async function xi(M,j,G,ae,me,Se,De,ve,_e){let he=U.fetchers.get(M);ft(M,xl(_e,he?he.data:void 0),{flushSync:De});let Ae=new AbortController,Re=lo(i.history,G,Ae.signal);if(Se){let Ge=await Ln(me,G,Re.signal);if(Ge.type==="aborted")return;if(Ge.type==="error"){dt(M,j,Ge.error,{flushSync:De});return}else if(Ge.matches)me=Ge.matches,ae=Ll(me,G);else{dt(M,j,ur(404,{pathname:G}),{flushSync:De});return}}se.set(M,Ae);let Xe=le,ut=(await dr("loader",U,Re,[ae],me,M))[ae.route.id];if(se.get(M)===Ae&&se.delete(M),!Re.signal.aborted){if(fe.has(M)){ft(M,ca(void 0));return}if(hs(ut))if(pe>Xe){ft(M,ca(void 0));return}else{x.add(M),await fr(Re,ut,!1,{preventScrollReset:ve});return}if(Hn(ut)){dt(M,j,ut.error);return}ft(M,ca(ut.data))}}async function fr(M,j,G,{submission:ae,fetcherSubmission:me,preventScrollReset:Se,replace:De}={}){j.response.headers.has("X-Remix-Revalidate")&&(ht=!0);let ve=j.response.headers.get("Location");Qe(ve,"Expected a Location header on the redirect Response"),ve=jv(ve,new URL(M.url),m);let _e=Fl(U.location,ve,{_isRedirect:!0});if(n){let ut=!1;if(j.response.headers.has("X-Remix-Reload-Document"))ut=!0;else if(Dm.test(ve)){const Ge=i.history.createURL(ve);ut=Ge.origin!==e.location.origin||br(Ge.pathname,m)==null}if(ut){De?e.location.replace(ve):e.location.assign(ve);return}}b=null;let he=De===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ae,formAction:Re,formEncType:Xe}=U.navigation;!ae&&!me&&Ae&&Re&&Xe&&(ae=Qv(U.navigation));let Tt=ae||me;if(Wb.has(j.response.status)&&Tt&&Er(Tt.formMethod))await mn(he,_e,{submission:{...Tt,formAction:ve},preventScrollReset:Se||w,enableViewTransition:G?I:void 0});else{let ut=xd(_e,ae);await mn(he,_e,{overrideNavigation:ut,fetcherSubmission:me,preventScrollReset:Se||w,enableViewTransition:G?I:void 0})}}async function dr(M,j,G,ae,me,Se){let De,ve={};try{De=await lA(g,M,j,G,ae,me,Se,o,a)}catch(_e){return ae.forEach(he=>{ve[he.route.id]={type:"error",error:_e}}),ve}for(let[_e,he]of Object.entries(De))if(mA(he)){let Ae=he.result;ve[_e]={type:"redirect",response:hA(Ae,G,_e,me,m)}}else ve[_e]=await cA(he);return ve}async function sn(M,j,G,ae,me){let Se=dr("loader",M,me,G,j,null),De=Promise.all(ae.map(async he=>{if(he.matches&&he.match&&he.controller){let Re=(await dr("loader",M,lo(i.history,he.path,he.controller.signal),[he.match],he.matches,he.key))[he.match.route.id];return{[he.key]:Re}}else return Promise.resolve({[he.key]:{type:"error",error:ur(404,{pathname:he.path})}})})),ve=await Se,_e=(await De).reduce((he,Ae)=>Object.assign(he,Ae),{});return{loaderResults:ve,fetcherResults:_e}}function Vi(){ht=!0,ie.forEach((M,j)=>{se.has(j)&&pt.add(j),Gn(j)})}function ft(M,j,G={}){U.fetchers.set(M,j),Le({fetchers:new Map(U.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function dt(M,j,G,ae={}){let me=cs(U.matches,j);Li(M),Le({errors:{[me.route.id]:G},fetchers:new Map(U.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Fn(M){return Te.set(M,(Te.get(M)||0)+1),fe.has(M)&&fe.delete(M),U.fetchers.get(M)||eA}function Li(M){let j=U.fetchers.get(M);se.has(M)&&!(j&&j.state==="loading"&&He.has(M))&&Gn(M),ie.delete(M),He.delete(M),x.delete(M),fe.delete(M),pt.delete(M),U.fetchers.delete(M)}function Na(M){let j=(Te.get(M)||0)-1;j<=0?(Te.delete(M),fe.add(M)):Te.set(M,j),Le({fetchers:new Map(U.fetchers)})}function Gn(M){let j=se.get(M);j&&(j.abort(),se.delete(M))}function Rr(M){for(let j of M){let G=Fn(j),ae=ca(G.data);U.fetchers.set(j,ae)}}function mr(){let M=[],j=!1;for(let G of x){let ae=U.fetchers.get(G);Qe(ae,`Expected fetcher: ${G}`),ae.state==="loading"&&(x.delete(G),M.push(G),j=!0)}return Rr(M),j}function Ft(M){let j=[];for(let[G,ae]of He)if(ae<M){let me=U.fetchers.get(G);Qe(me,`Expected fetcher: ${G}`),me.state==="loading"&&(Gn(G),He.delete(G),j.push(G))}return Rr(j),j.length>0}function Ma(M,j){let G=U.blockers.get(M)||Ml;return de.get(M)!==j&&de.set(M,j),G}function xn(M){U.blockers.delete(M),de.delete(M)}function kt(M,j){let G=U.blockers.get(M)||Ml;Qe(G.state==="unblocked"&&j.state==="blocked"||G.state==="blocked"&&j.state==="blocked"||G.state==="blocked"&&j.state==="proceeding"||G.state==="blocked"&&j.state==="unblocked"||G.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${j.state}`);let ae=new Map(U.blockers);ae.set(M,j),Le({blockers:ae})}function Pi({currentLocation:M,nextLocation:j,historyAction:G}){if(de.size===0)return;de.size>1&&an(!1,"A router only supports one blocker at a time");let ae=Array.from(de.entries()),[me,Se]=ae[ae.length-1],De=U.blockers.get(me);if(!(De&&De.state==="proceeding")&&Se({currentLocation:M,nextLocation:j,historyAction:G}))return me}function Ui(M){let j=ur(404,{pathname:M}),G=f||u,{matches:ae,route:me}=Gv(G);return{notFoundMatches:ae,route:me,error:j}}function As(M,j,G){if(R=M,X=j,k=G||null,!F&&U.navigation===Md){F=!0;let ae=Dn(U.location,U.matches);ae!=null&&Le({restoreScrollPosition:ae})}return()=>{R=null,X=null,k=null}}function Vn(M,j){return k&&k(M,j.map(ae=>Nb(ae,U.loaderData)))||M.key}function Cr(M,j){if(R&&X){let G=Vn(M,j);R[G]=X()}}function Dn(M,j){if(R){let G=Vn(M,j),ae=R[G];if(typeof ae=="number")return ae}return null}function on(M,j,G){if(y)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Nc(j,G,m,!0)}}else return{active:!0,matches:Nc(j,G,m,!0)||[]};return{active:!1,matches:null}}async function Ln(M,j,G){if(!y)return{type:"success",matches:M};let ae=M;for(;;){let me=f==null,Se=f||u,De=o;try{await y({signal:G,path:j,matches:ae,patch:(he,Ae)=>{G.aborted||zv(he,Ae,Se,De,a)}})}catch(he){return{type:"error",error:he,partialMatches:ae}}finally{me&&!G.aborted&&(u=[...u])}if(G.aborted)return{type:"aborted"};let ve=ha(Se,j,m);if(ve)return{type:"success",matches:ve};let _e=Nc(Se,j,m,!0);if(!_e||ae.length===_e.length&&ae.every((he,Ae)=>he.route.id===_e[Ae].route.id))return{type:"success",matches:null};ae=_e}}function ki(M){o={},f=Hc(M,a,void 0,o)}function xa(M,j){let G=f==null;zv(M,j,f||u,o,a),G&&(u=[...u],Le({}))}return ue={get basename(){return m},get future(){return E},get state(){return U},get routes(){return u},get window(){return e},initialize:Ct,subscribe:bt,enableScrollRestoration:As,navigate:qn,fetch:Mi,revalidate:Cn,createHref:M=>i.history.createHref(M),encodeLocation:M=>i.history.encodeLocation(M),getFetcher:Fn,deleteFetcher:Na,dispose:$e,getBlocker:Ma,deleteBlocker:xn,patchRoutes:xa,_internalFetchControllers:se,_internalSetRoutes:ki},ue}function rA(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Yd(i,e,n,a,o,u){let f,m;if(o){f=[];for(let y of e)if(f.push(y),y.route.id===o){m=y;break}}else f=e,m=e[e.length-1];let g=hh(a||".",ch(f),br(i.pathname,n)||i.pathname,u==="path");if(a==null&&(g.search=i.search,g.hash=i.hash),(a==null||a===""||a===".")&&m){let y=Im(g.search);if(m.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let E=new URLSearchParams(g.search),A=E.getAll("index");E.delete("index"),A.filter(R=>R).forEach(R=>E.append("index",R));let C=E.toString();g.search=C?`?${C}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Fr([n,g.pathname])),Sa(g)}function Lv(i,e,n){if(!n||!rA(n))return{path:e};if(n.formMethod&&!gA(n.formMethod))return{path:e,error:ur(405,{method:n.formMethod})};let a=()=>({path:e,error:ur(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=x0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Er(u))return a();let A=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((C,[R,k])=>`${C}${R}=${k}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:A}}}else if(n.formEncType==="application/json"){if(!Er(u))return a();try{let A=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:A,text:void 0}}}catch{return a()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=Xd(n.formData),g=n.formData;else if(n.body instanceof FormData)m=Xd(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=Bv(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=Bv(m)}catch{return a()}let y={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Er(y.formMethod))return{path:e,submission:y};let E=Ia(e);return i&&E.search&&Im(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Sa(E),submission:y}}function Pv(i,e,n=!1){let a=i.findIndex(o=>o.route.id===e);return a>=0?i.slice(0,n?a+1:a):i}function Uv(i,e,n,a,o,u,f,m,g,y,E,A,C,R){let k=R?Hn(R[1])?R[1].error:R[1].data:void 0,X=i.createURL(e.location),F=i.createURL(o),$=n;u&&e.errors?$=Pv(n,Object.keys(e.errors)[0],!0):R&&Hn(R[1])&&($=Pv(n,R[0]));let ee=R?R[1].statusCode:void 0,oe=ee&&ee>=400,ye=$.filter((U,N)=>{let{route:w}=U;if(w.lazy)return!0;if(w.loader==null)return!1;if(u)return $d(w,e.loaderData,e.errors);if(iA(e.loaderData,e.matches[N],U))return!0;let b=e.matches[N],I=U;return kv(U,{currentUrl:X,currentParams:b.params,nextUrl:F,nextParams:I.params,...a,actionResult:k,actionStatus:ee,defaultShouldRevalidate:oe?!1:f||X.pathname+X.search===F.pathname+F.search||X.search!==F.search||aA(b,I)})}),ue=[];return y.forEach((U,N)=>{if(u||!n.some(z=>z.route.id===U.routeId)||g.has(N))return;let w=ha(A,U.path,C);if(!w){ue.push({key:N,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(N),I=Ll(w,U.path),V=!1;E.has(N)?V=!1:m.has(N)?(m.delete(N),V=!0):b&&b.state!=="idle"&&b.data===void 0?V=f:V=kv(I,{currentUrl:X,currentParams:e.matches[e.matches.length-1].params,nextUrl:F,nextParams:n[n.length-1].params,...a,actionResult:k,actionStatus:ee,defaultShouldRevalidate:oe?!1:f}),V&&ue.push({key:N,routeId:U.routeId,path:U.path,matches:w,match:I,controller:new AbortController})}),[ye,ue]}function $d(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let a=e!=null&&e[i.id]!==void 0,o=n!=null&&n[i.id]!==void 0;return!a&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!a&&!o}function iA(i,e,n){let a=!e||n.route.id!==e.route.id,o=!i.hasOwnProperty(n.route.id);return a||o}function aA(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function kv(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function zv(i,e,n,a,o){let u;if(i){let g=a[i];Qe(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let f=e.filter(g=>!u.some(y=>M0(g,y))),m=Hc(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...m)}function M0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>M0(n,u))}):!1}async function sA(i,e,n){if(!i.lazy)return;let a=await i.lazy();if(!i.lazy)return;let o=n[i.id];Qe(o,"No route found in manifest");let u={};for(let f in a){let g=o[f]!==void 0&&f!=="hasErrorBoundary";an(!g,`Route "${o.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!g&&!Ib.has(f)&&(u[f]=a[f])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function oA({matches:i}){let e=i.filter(a=>a.shouldLoad);return(await Promise.all(e.map(a=>a.resolve()))).reduce((a,o,u)=>Object.assign(a,{[e[u].route.id]:o}),{})}async function lA(i,e,n,a,o,u,f,m,g,y){let E=u.map(R=>R.route.lazy?sA(R.route,g,m):void 0),A=u.map((R,k)=>{let X=E[k],F=o.some(ee=>ee.route.id===R.route.id);return{...R,shouldLoad:F,resolve:async ee=>(ee&&a.method==="GET"&&(R.route.lazy||R.route.loader)&&(F=!0),F?uA(e,a,R,X,ee,y):Promise.resolve({type:"data",result:void 0}))}}),C=await i({matches:A,request:a,params:u[0].params,fetcherKey:f,context:y});try{await Promise.all(E)}catch{}return C}async function uA(i,e,n,a,o,u){let f,m,g=y=>{let E,A=new Promise((k,X)=>E=X);m=()=>E(),e.signal.addEventListener("abort",m);let C=k=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):y({request:e,params:n.params,context:u},...k!==void 0?[k]:[]),R=(async()=>{try{return{type:"data",result:await(o?o(X=>C(X)):C())}}catch(k){return{type:"error",result:k}}})();return Promise.race([R,A])};try{let y=n.route[i];if(a)if(y){let E,[A]=await Promise.all([g(y).catch(C=>{E=C}),a]);if(E!==void 0)throw E;f=A}else if(await a,y=n.route[i],y)f=await g(y);else if(i==="action"){let E=new URL(e.url),A=E.pathname+E.search;throw ur(405,{method:e.method,pathname:A,routeId:n.route.id})}else return{type:"data",result:void 0};else if(y)f=await g(y);else{let E=new URL(e.url),A=E.pathname+E.search;throw ur(404,{pathname:A})}}catch(y){return{type:"error",result:y}}finally{m&&e.signal.removeEventListener("abort",m)}return f}async function cA(i){var a,o,u,f,m,g;let{result:e,type:n}=i;if(V0(e)){let y;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(E){return{type:"error",error:E}}return n==="error"?{type:"error",error:new Fc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return n==="error"?Kv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Fc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Gl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Gl(e)?e.status:void 0}:Kv(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function hA(i,e,n,a,o){let u=i.headers.get("Location");if(Qe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dm.test(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Yd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function jv(i,e,n){if(Dm.test(i)){let a=i,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=br(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function lo(i,e,n,a){let o=i.createURL(x0(e)).toString(),u={signal:n};if(a&&Er(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=Xd(a.formData):u.body=a.formData}return new Request(o,u)}function Xd(i){let e=new URLSearchParams;for(let[n,a]of i.entries())e.append(n,typeof a=="string"?a:a.name);return e}function Bv(i){let e=new FormData;for(let[n,a]of i.entries())e.append(n,a);return e}function fA(i,e,n,a=!1,o=!1){let u={},f=null,m,g=!1,y={},E=n&&Hn(n[1])?n[1].error:void 0;return i.forEach(A=>{if(!(A.route.id in e))return;let C=A.route.id,R=e[C];if(Qe(!hs(R),"Cannot handle redirect results in processLoaderData"),Hn(R)){let k=R.error;if(E!==void 0&&(k=E,E=void 0),f=f||{},o)f[C]=k;else{let X=cs(i,C);f[X.route.id]==null&&(f[X.route.id]=k)}a||(u[C]=N0),g||(g=!0,m=Gl(R.error)?R.error.status:500),R.headers&&(y[C]=R.headers)}else u[C]=R.data,R.statusCode&&R.statusCode!==200&&!g&&(m=R.statusCode),R.headers&&(y[C]=R.headers)}),E!==void 0&&n&&(f={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:y}}function Hv(i,e,n,a,o,u){let{loaderData:f,errors:m}=fA(e,n,a);return o.forEach(g=>{let{key:y,match:E,controller:A}=g,C=u[y];if(Qe(C,"Did not find corresponding fetcher result"),!(A&&A.signal.aborted))if(Hn(C)){let R=cs(i.matches,E==null?void 0:E.route.id);m&&m[R.route.id]||(m={...m,[R.route.id]:C.error}),i.fetchers.delete(y)}else if(hs(C))Qe(!1,"Unhandled fetcher revalidation redirect");else{let R=ca(C.data);i.fetchers.set(y,R)}}),{loaderData:f,errors:m}}function qv(i,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==N0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),a&&a.hasOwnProperty(f))break}return o}function Fv(i){return i?Hn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function cs(i,e){return(e?i.slice(0,i.findIndex(a=>a.route.id===e)+1):[...i]).reverse().find(a=>a.route.hasErrorBoundary===!0)||i[0]}function Gv(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(i,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Fc(i||500,f,new Error(m),!0)}function bc(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(hs(o))return{key:a,result:o}}}function x0(i){let e=typeof i=="string"?Ia(i):i;return Sa({...e,hash:""})}function dA(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function mA(i){return V0(i.result)&&Jb.has(i.result.status)}function Hn(i){return i.type==="error"}function hs(i){return(i&&i.type)==="redirect"}function Kv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function V0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function gA(i){return Zb.has(i.toUpperCase())}function Er(i){return $b.has(i.toUpperCase())}function Im(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Ll(i,e){let n=typeof e=="string"?Ia(e).search:e.search;if(i[i.length-1].route.index&&Im(n||""))return i[i.length-1];let a=D0(i);return a[a.length-1]}function Qv(i){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=i;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function xd(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function pA(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xl(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yA(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ca(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function vA(i,e){try{let n=i.sessionStorage.getItem(O0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function _A(i,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{i.sessionStorage.setItem(O0,JSON.stringify(n))}catch(a){an(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function EA(){let i,e,n=new Promise((a,o)=>{i=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var Ts=q.createContext(null);Ts.displayName="DataRouter";var Wl=q.createContext(null);Wl.displayName="DataRouterState";var Om=q.createContext({isTransitioning:!1});Om.displayName="ViewTransition";var L0=q.createContext(new Map);L0.displayName="Fetchers";var TA=q.createContext(null);TA.displayName="Await";var Ar=q.createContext(null);Ar.displayName="Navigation";var fh=q.createContext(null);fh.displayName="Location";var cr=q.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var Nm=q.createContext(null);Nm.displayName="RouteError";function SA(i,{relative:e}={}){Qe(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext(Ar),{hash:o,pathname:u,search:f}=eu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Fr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Do(){return q.useContext(fh)!=null}function Oa(){return Qe(Do(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(fh).location}var P0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U0(i){q.useContext(Ar).static||q.useLayoutEffect(i)}function Ss(){let{isDataRoute:i}=q.useContext(cr);return i?kA():bA()}function bA(){Qe(Do(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(Ts),{basename:e,navigator:n}=q.useContext(Ar),{matches:a}=q.useContext(cr),{pathname:o}=Oa(),u=JSON.stringify(ch(a)),f=q.useRef(!1);return U0(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(an(f.current,P0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=hh(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Fr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}var AA=q.createContext(null);function wA(i){let e=q.useContext(cr).outlet;return e&&q.createElement(AA.Provider,{value:i},e)}function RA(){let{matches:i}=q.useContext(cr),e=i[i.length-1];return e?e.params:{}}function eu(i,{relative:e}={}){let{matches:n}=q.useContext(cr),{pathname:a}=Oa(),o=JSON.stringify(ch(n));return q.useMemo(()=>hh(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function CA(i,e,n,a){Qe(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(Ar),{matches:f}=q.useContext(cr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let ee=A&&A.path||"";k0(y,!A||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let C=Oa(),R;R=C;let k=R.pathname||"/",X=k;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");X="/"+k.replace(/^\//,"").split("/").slice(ee.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:ha(i,{pathname:X});return an(A||F!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),an(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),MA(F&&F.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:Fr([E,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Fr([E,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,a)}function DA(){let i=UA(),e=Gl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var IA=q.createElement(DA,null),OA=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(cr.Provider,{value:this.props.routeContext},q.createElement(Nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NA({routeContext:i,match:e,children:n}){let a=q.useContext(Ts);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(cr.Provider,{value:i},n)}function MA(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Qe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:A}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let A,C=!1,R=null,k=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,R=y.route.errorElement||IA,f&&(m<0&&E===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):m===E&&(C=!0,k=y.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,E+1)),F=()=>{let $;return A?$=R:C?$=k:y.route.Component?$=q.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,q.createElement(NA,{match:y,routeContext:{outlet:g,matches:X,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?q.createElement(OA,{location:n.location,revalidation:n.revalidation,component:R,error:A,children:F(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):F()},null)}function Mm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(i){let e=q.useContext(Ts);return Qe(e,Mm(i)),e}function VA(i){let e=q.useContext(Wl);return Qe(e,Mm(i)),e}function LA(i){let e=q.useContext(cr);return Qe(e,Mm(i)),e}function xm(i){let e=LA(i),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function PA(){return xm("useRouteId")}function UA(){var a;let i=q.useContext(Nm),e=VA("useRouteError"),n=xm("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function kA(){let{router:i}=xA("useNavigate"),e=xm("useNavigate"),n=q.useRef(!1);return U0(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{an(n.current,P0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Yv={};function k0(i,e,n){!e&&!Yv[i]&&(Yv[i]=!0,an(!1,n))}var $v={};function Xv(i,e){!i&&!$v[e]&&($v[e]=!0,console.warn(e))}function zA(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&an(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&an(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&an(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var jA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function BA({router:i,flushSync:e}){let[n,a]=q.useState(i.state),[o,u]=q.useState(),[f,m]=q.useState({isTransitioning:!1}),[g,y]=q.useState(),[E,A]=q.useState(),[C,R]=q.useState(),k=q.useRef(new Map),X=q.useCallback((oe,{deletedFetchers:ye,flushSync:ue,viewTransitionOpts:U})=>{oe.fetchers.forEach((w,b)=>{w.data!==void 0&&k.current.set(b,w.data)}),ye.forEach(w=>k.current.delete(w)),Xv(ue===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Xv(U==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!N){e&&ue?e(()=>a(oe)):q.startTransition(()=>a(oe));return}if(e&&ue){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let w=i.window.document.startViewTransition(()=>{e(()=>a(oe))});w.finished.finally(()=>{e(()=>{y(void 0),A(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>A(w));return}E?(g&&g.resolve(),E.skipTransition(),R({state:oe,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(u(oe),m({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[i.window,e,E,g]);q.useLayoutEffect(()=>i.subscribe(X),[i,X]),q.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new jA)},[f]),q.useEffect(()=>{if(g&&o&&i.window){let oe=o,ye=g.promise,ue=i.window.document.startViewTransition(async()=>{q.startTransition(()=>a(oe)),await ye});ue.finished.finally(()=>{y(void 0),A(void 0),u(void 0),m({isTransitioning:!1})}),A(ue)}},[o,g,i.window]),q.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,E,n.location,o]),q.useEffect(()=>{!f.isTransitioning&&C&&(u(C.state),m({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),R(void 0))},[f.isTransitioning,C]);let F=q.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:oe=>i.navigate(oe),push:(oe,ye,ue)=>i.navigate(oe,{state:ye,preventScrollReset:ue==null?void 0:ue.preventScrollReset}),replace:(oe,ye,ue)=>i.navigate(oe,{replace:!0,state:ye,preventScrollReset:ue==null?void 0:ue.preventScrollReset})}),[i]),$=i.basename||"/",ee=q.useMemo(()=>({router:i,navigator:F,static:!1,basename:$}),[i,F,$]);return q.createElement(q.Fragment,null,q.createElement(Ts.Provider,{value:ee},q.createElement(Wl.Provider,{value:n},q.createElement(L0.Provider,{value:k.current},q.createElement(Om.Provider,{value:f},q.createElement(GA,{basename:$,location:n.location,navigationType:n.historyAction,navigator:F},q.createElement(HA,{routes:i.routes,future:i.future,state:n})))))),null)}var HA=q.memo(qA);function qA({routes:i,future:e,state:n}){return CA(i,void 0,n,e)}function Vd({to:i,replace:e,state:n,relative:a}){Qe(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Ar);an(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(cr),{pathname:f}=Oa(),m=Ss(),g=hh(i,ch(u),f,a==="path"),y=JSON.stringify(g);return q.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:a})},[m,y,a,e,n]),null}function FA(i){return wA(i.context)}function GA({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Qe(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ia(n));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:C="default"}=n,R=q.useMemo(()=>{let k=br(g,f);return k==null?null:{location:{pathname:k,search:y,hash:E,state:A,key:C},navigationType:a}},[f,g,y,E,A,C,a]);return an(R!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:q.createElement(Ar.Provider,{value:m},q.createElement(fh.Provider,{children:e,value:R}))}var Mc="get",xc="application/x-www-form-urlencoded";function dh(i){return i!=null&&typeof i.tagName=="string"}function KA(i){return dh(i)&&i.tagName.toLowerCase()==="button"}function QA(i){return dh(i)&&i.tagName.toLowerCase()==="form"}function YA(i){return dh(i)&&i.tagName.toLowerCase()==="input"}function $A(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function XA(i,e){return i.button===0&&(!e||e==="_self")&&!$A(i)}var Ac=null;function ZA(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var JA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ld(i){return i!=null&&!JA.has(i)?(an(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):i}function WA(i,e){let n,a,o,u,f;if(QA(i)){let m=i.getAttribute("action");a=m?br(m,e):null,n=i.getAttribute("method")||Mc,o=Ld(i.getAttribute("enctype"))||xc,u=new FormData(i)}else if(KA(i)||YA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?br(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Mc,o=Ld(i.getAttribute("formenctype"))||Ld(m.getAttribute("enctype"))||xc,u=new FormData(m,i),!ZA()){let{name:y,type:E,value:A}=i;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,A)}}else{if(dh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mc,a=null,o=xc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Vm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function ew(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function nw(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ew(u,n);return f.links?f.links():[]}return[]}));return sw(a.flat(1).filter(tw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(i,e,n,a,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var A;let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function rw(i,e,{includeHydrateFallback:n}={}){return iw(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function iw(i){return[...new Set(i)]}function aw(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function sw(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(aw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function ow(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function lw(){let i=q.useContext(Ts);return Vm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function uw(){let i=q.useContext(Wl);return Vm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Lm=q.createContext(void 0);Lm.displayName="FrameworkContext";function z0(){let i=q.useContext(Lm);return Vm(i,"You must render this element inside a <HydratedRouter> element"),i}function cw(i,e){let n=q.useContext(Lm),[a,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,C=q.useRef(null);q.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let X=$=>{$.forEach(ee=>{f(ee.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return C.current&&F.observe(C.current),()=>{F.disconnect()}}},[i]),q.useEffect(()=>{if(a){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[a]);let R=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,C,{}]:[u,C,{onFocus:Vl(m,R),onBlur:Vl(g,k),onMouseEnter:Vl(y,R),onMouseLeave:Vl(E,k),onTouchStart:Vl(A,R)}]:[!1,C,{}]}function Vl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function hw({page:i,...e}){let{router:n}=lw(),a=q.useMemo(()=>ha(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?q.createElement(dw,{page:i,matches:a,...e}):null}function fw(i){let{manifest:e,routeModules:n}=z0(),[a,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return nw(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function dw({page:i,matches:e,...n}){let a=Oa(),{manifest:o,routeModules:u}=z0(),{loaderData:f,matches:m}=uw(),g=q.useMemo(()=>Zv(i,e,m,o,a,"data"),[i,e,m,o,a]),y=q.useMemo(()=>Zv(i,e,m,o,a,"assets"),[i,e,m,o,a]),E=q.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let R=new Set,k=!1;if(e.forEach(F=>{var ee;let $=o.routes[F.route.id];!$||!$.hasLoader||(!g.some(oe=>oe.route.id===F.route.id)&&F.route.id in f&&((ee=u[F.route.id])!=null&&ee.shouldRevalidate)||$.hasClientLoader?k=!0:R.add(F.route.id))}),R.size===0)return[];let X=ow(i);return k&&R.size>0&&X.searchParams.set("_routes",e.filter(F=>R.has(F.route.id)).map(F=>F.route.id).join(",")),[X.pathname+X.search]},[f,a,o,g,e,i,u]),A=q.useMemo(()=>rw(y,o),[y,o]),C=fw(y);return q.createElement(q.Fragment,null,E.map(R=>q.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),A.map(R=>q.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),C.map(({key:R,link:k})=>q.createElement("link",{key:R,...k})))}function mw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j0&&(window.__reactRouterVersion="7.2.0")}catch{}function gw(i,e){return nA({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Rb({window:e==null?void 0:e.window}),hydrationData:pw(),routes:i,mapRouteProperties:zA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function pw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:yw(i.errors)}),i}function yw(i){if(!i)return null;let e=Object.entries(i),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Fc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gc=q.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,...C},R){let{basename:k}=q.useContext(Ar),X=typeof y=="string"&&B0.test(y),F,$=!1;if(typeof y=="string"&&X&&(F=y,j0))try{let b=new URL(window.location.href),I=y.startsWith("//")?new URL(b.protocol+y):new URL(y),V=br(I.pathname,k);I.origin===b.origin&&V!=null?y=V+I.search+I.hash:$=!0}catch{an(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=SA(y,{relative:o}),[oe,ye,ue]=cw(a,C),U=Tw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A});function N(b){e&&e(b),b.defaultPrevented||U(b)}let w=q.createElement("a",{...C,...ue,href:F||ee,onClick:$||u?e:N,ref:mw(R,ye),target:g,"data-discover":!X&&n==="render"?"true":void 0});return oe&&!X?q.createElement(q.Fragment,null,w,q.createElement(hw,{page:ee})):w});Gc.displayName="Link";var vw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=eu(f,{relative:y.relative}),C=Oa(),R=q.useContext(Wl),{navigator:k,basename:X}=q.useContext(Ar),F=R!=null&&Rw(A)&&m===!0,$=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,ee=C.pathname,oe=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),oe=oe?oe.toLowerCase():null,$=$.toLowerCase()),oe&&X&&(oe=br(oe,X)||oe);const ye=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ue=ee===$||!o&&ee.startsWith($)&&ee.charAt(ye)==="/",U=oe!=null&&(oe===$||!o&&oe.startsWith($)&&oe.charAt($.length)==="/"),N={isActive:ue,isPending:U,isTransitioning:F},w=ue?e:void 0,b;typeof a=="function"?b=a(N):b=[a,ue?"active":null,U?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(N):u;return q.createElement(Gc,{...y,"aria-current":w,className:b,ref:E,style:I,to:f,viewTransition:m},typeof g=="function"?g(N):g)});vw.displayName="NavLink";var _w=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Mc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...C},R)=>{let k=Aw(),X=ww(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&B0.test(m),ee=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let ye=oe.nativeEvent.submitter,ue=(ye==null?void 0:ye.getAttribute("formmethod"))||f;k(ye||oe.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return q.createElement("form",{ref:R,method:F,action:X,onSubmit:a?g:ee,...C,"data-discover":!$&&i==="render"?"true":void 0})});_w.displayName="Form";function Ew(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H0(i){let e=q.useContext(Ts);return Qe(e,Ew(i)),e}function Tw(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ss(),g=Oa(),y=eu(i,{relative:u});return q.useCallback(E=>{if(XA(E,e)){E.preventDefault();let A=n!==void 0?n:Sa(g)===Sa(y);m(i,{replace:A,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,a,e,i,o,u,f])}var Sw=0,bw=()=>`__${String(++Sw)}__`;function Aw(){let{router:i}=H0("useSubmit"),{basename:e}=q.useContext(Ar),n=PA();return q.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=WA(a,e);if(o.navigate===!1){let E=o.fetcherKey||bw();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function ww(i,{relative:e}={}){let{basename:n}=q.useContext(Ar),a=q.useContext(cr);Qe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...eu(i||".",{relative:e})},f=Oa();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Fr([n,u.pathname])),Sa(u)}function Rw(i,e={}){let n=q.useContext(Om);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=H0("useViewTransitionState"),o=eu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=br(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=br(n.nextLocation.pathname,a)||n.nextLocation.pathname;return qc(o.pathname,f)!=null||qc(o.pathname,u)!=null}new TextEncoder;var Cw=w0();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dw(i){return q.createElement(BA,{flushSync:Cw.flushSync,...i})}const Iw=()=>{};var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Ow=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},F0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,R=y&63;g||(R=64,f||(C=64)),a.push(n[E],n[A],n[C],n[R])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(q0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Ow(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new Nw;const C=u<<2|m>>4;if(a.push(C),y!==64){const R=m<<4&240|y>>2;if(a.push(R),A!==64){const k=y<<6&192|A;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mw=function(i){const e=q0(i);return F0.encodeByteArray(e,!0)},Kc=function(i){return Mw(i).replace(/\./g,"")},G0=function(i){try{return F0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=()=>xw().__FIREBASE_DEFAULTS__,Lw=()=>{if(typeof process>"u"||typeof Jv>"u")return;const i=Jv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Pw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&G0(i[1]);return e&&JSON.parse(e)},mh=()=>{try{return Iw()||Vw()||Lw()||Pw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},K0=i=>{var e,n;return(n=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Uw=i=>{const e=K0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},Q0=()=>{var i;return(i=mh())===null||i===void 0?void 0:i.config},Y0=i=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Kc(JSON.stringify(n)),Kc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function Bw(){var i;const e=(i=mh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gw(){const i=En();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Kw(){return!Bw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Yw(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="FirebaseError";class Di extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=$w,Object.setPrototypeOf(this,Di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Xw(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Di(o,m,a)}}function Xw(i,e){return i.replace(Zw,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Zw=/\{\$([^}]+)}/g;function Jw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ys(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(Wv(u)&&Wv(f)){if(!ys(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Wv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ww(i,e){const n=new eR(i,e);return n.subscribe.bind(n)}class eR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");tR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(i){return i&&i._delegate?i._delegate:i}class vs{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new kw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(i){return i===us?void 0:i}function iR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ke||(Ke={}));const sR={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},oR=Ke.INFO,lR={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},uR=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=lR[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const cR=(i,e)=>e.some(n=>i instanceof n);let e_,t_;function hR(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fR(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,Zd=new WeakMap,X0=new WeakMap,Ud=new WeakMap,Um=new WeakMap;function dR(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(va(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&$0.set(n,i)}).catch(()=>{}),Um.set(e,i),e}function mR(i){if(Zd.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Zd.set(i,e)}let Jd={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Zd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||X0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return va(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function gR(i){Jd=i(Jd)}function pR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(kd(this),e,...n);return X0.set(a,e.sort?e.sort():[e]),va(a)}:fR().includes(i)?function(...e){return i.apply(kd(this),e),va($0.get(this))}:function(...e){return va(i.apply(kd(this),e))}}function yR(i){return typeof i=="function"?pR(i):(i instanceof IDBTransaction&&mR(i),cR(i,hR())?new Proxy(i,Jd):i)}function va(i){if(i instanceof IDBRequest)return dR(i);if(Ud.has(i))return Ud.get(i);const e=yR(i);return e!==i&&(Ud.set(i,e),Um.set(e,i)),e}const kd=i=>Um.get(i);function vR(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=va(f);return a&&f.addEventListener("upgradeneeded",g=>{a(va(f.result),g.oldVersion,g.newVersion,va(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const _R=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],zd=new Map;function n_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=ER.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||_R.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return zd.set(e,u),u}gR(i=>({...i,get:(e,n,a)=>n_(e,n)||i.get(e,n,a),has:(e,n)=>!!n_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function SR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",r_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Pm("@firebase/app"),bR="@firebase/app-compat",AR="@firebase/analytics-compat",wR="@firebase/analytics",RR="@firebase/app-check-compat",CR="@firebase/app-check",DR="@firebase/auth",IR="@firebase/auth-compat",OR="@firebase/database",NR="@firebase/data-connect",MR="@firebase/database-compat",xR="@firebase/functions",VR="@firebase/functions-compat",LR="@firebase/installations",PR="@firebase/installations-compat",UR="@firebase/messaging",kR="@firebase/messaging-compat",zR="@firebase/performance",jR="@firebase/performance-compat",BR="@firebase/remote-config",HR="@firebase/remote-config-compat",qR="@firebase/storage",FR="@firebase/storage-compat",GR="@firebase/firestore",KR="@firebase/vertexai",QR="@firebase/firestore-compat",YR="firebase",$R="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",XR={[Wd]:"fire-core",[bR]:"fire-core-compat",[wR]:"fire-analytics",[AR]:"fire-analytics-compat",[CR]:"fire-app-check",[RR]:"fire-app-check-compat",[DR]:"fire-auth",[IR]:"fire-auth-compat",[OR]:"fire-rtdb",[NR]:"fire-data-connect",[MR]:"fire-rtdb-compat",[xR]:"fire-fn",[VR]:"fire-fn-compat",[LR]:"fire-iid",[PR]:"fire-iid-compat",[UR]:"fire-fcm",[kR]:"fire-fcm-compat",[zR]:"fire-perf",[jR]:"fire-perf-compat",[BR]:"fire-rc",[HR]:"fire-rc-compat",[qR]:"fire-gcs",[FR]:"fire-gcs-compat",[GR]:"fire-fst",[QR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[YR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,ZR=new Map,tm=new Map;function i_(i,e){try{i.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function _o(i){const e=i.name;if(tm.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,i);for(const n of Qc.values())i_(n,i);for(const n of ZR.values())i_(n,i);return!0}function km(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Tr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new tu("app","Firebase",JR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=$R;function Z0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw _a.create("bad-app-name",{appName:String(o)});if(n||(n=Q0()),!n)throw _a.create("no-options");const u=Qc.get(o);if(u){if(ys(n,u.options)&&ys(a,u.config))return u;throw _a.create("duplicate-app",{appName:o})}const f=new aR(o);for(const g of tm.values())f.addComponent(g);const m=new WR(n,a,f);return Qc.set(o,m),m}function J0(i=em){const e=Qc.get(i);if(!e&&i===em&&Q0())return Z0();if(!e)throw _a.create("no-app",{appName:i});return e}function Ea(i,e,n){var a;let o=(a=XR[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(m.join(" "));return}_o(new vs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebase-heartbeat-database",t1=1,Kl="firebase-heartbeat-store";let jd=null;function W0(){return jd||(jd=vR(e1,t1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw _a.create("idb-open",{originalErrorMessage:i.message})})),jd}async function n1(i){try{const n=(await W0()).transaction(Kl),a=await n.objectStore(Kl).get(eE(i));return await n.done,a}catch(e){if(e instanceof Di)wi.warn(e.message);else{const n=_a.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(n.message)}}}async function a_(i,e){try{const a=(await W0()).transaction(Kl,"readwrite");await a.objectStore(Kl).put(e,eE(i)),await a.done}catch(n){if(n instanceof Di)wi.warn(n.message);else{const a=_a.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(a.message)}}}function eE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1024,i1=30;class a1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=s_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>i1){const f=l1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){wi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s_(),{heartbeatsToSend:a,unsentEntries:o}=s1(this._heartbeatsCache.heartbeats),u=Kc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return wi.warn(n),""}}}function s_(){return new Date().toISOString().substring(0,10)}function s1(i,e=r1){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),o_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),o_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class o1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qw()?Yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function o_(i){return Kc(JSON.stringify({version:2,heartbeats:i})).length}function l1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(i){_o(new vs("platform-logger",e=>new TR(e),"PRIVATE")),_o(new vs("heartbeat",e=>new a1(e),"PRIVATE")),Ea(Wd,r_,i),Ea(Wd,r_,"esm2017"),Ea("fire-js","")}u1("");function zm(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function tE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c1=tE,nE=new tu("auth","Firebase",tE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Pm("@firebase/auth");function h1(i,...e){Yc.logLevel<=Ke.WARN&&Yc.warn(`Auth (${Io}): ${i}`,...e)}function Vc(i,...e){Yc.logLevel<=Ke.ERROR&&Yc.error(`Auth (${Io}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i,...e){throw Bm(i,...e)}function Sr(i,...e){return Bm(i,...e)}function jm(i,e,n){const a=Object.assign(Object.assign({},c1()),{[e]:n});return new tu("auth","Firebase",a).create(e,{appName:i.name})}function ms(i){return jm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f1(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Qr(i,"argument-error"),jm(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bm(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return nE.create(i,...e)}function xe(i,e,...n){if(!i)throw Bm(e,...n)}function Ti(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vc(e),new Error(e)}function Ri(i,e){i||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function d1(){return l_()==="http:"||l_()==="https:"}function l_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d1()||qw()||"connection"in navigator)?navigator.onLine:!0}function g1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=jw()||Fw()}get(){return m1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(i,e){Ri(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new ru(3e4,6e4);function qm(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Oo(i,e,n,a,o={}){return iE(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=nu(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:g},u);return Hw()||(y.referrerPolicy="no-referrer"),rE.fetch()(aE(i,i.config.apiHost,n,m),y)})}async function iE(i,e,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},p1),e);try{const o=new _1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw wc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw wc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw wc(i,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw jm(i,E,y);Qr(i,E)}}catch(o){if(o instanceof Di)throw o;Qr(i,"network-request-failed",{message:String(o)})}}async function v1(i,e,n,a,o={}){const u=await Oo(i,e,n,a,o);return"mfaPendingCredential"in u&&Qr(i,"multi-factor-auth-required",{_serverResponse:u}),u}function aE(i,e,n,a){const o=`${e}${n}?${a}`;return i.config.emulator?Hm(i.config,o):`${i.config.apiScheme}://${o}`}class _1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Sr(this.auth,"network-request-failed")),y1.get())})}}function wc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Sr(i,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(i,e){return Oo(i,"POST","/v1/accounts:delete",e)}async function sE(i,e){return Oo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T1(i,e=!1){const n=Ii(i),a=await n.getIdToken(e),o=Fm(a);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:zl(Bd(o.auth_time)),issuedAtTime:zl(Bd(o.iat)),expirationTime:zl(Bd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Bd(i){return Number(i)*1e3}function Fm(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=G0(n);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function u_(i){const e=Fm(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Di&&S1(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function S1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(i){var e;const n=i.auth,a=await i.getIdToken(),o=await Ql(i,sE(n,{idToken:a}));xe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?oE(u.providerUserInfo):[],m=w1(i.providerData,f),g=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new rm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function A1(i){const e=Ii(i);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w1(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function oE(i){return i.map(e=>{var{providerId:n}=e,a=zm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(i,e){const n=await iE(i,{},async()=>{const a=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=aE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",rE.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C1(i,e){return Oo(i,"POST","/v2/accounts:revokeToken",qm(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=u_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await R1(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new mo;return a&&(xe(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(xe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new b1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new rm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T1(this,e)}reload(){return A1(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await Ql(this,E1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,g,y,E;const A=(a=n.displayName)!==null&&a!==void 0?a:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,R=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:oe,emailVerified:ye,isAnonymous:ue,providerData:U,stsTokenManager:N}=n;xe(oe&&N,e,"internal-error");const w=mo.fromJSON(this.name,N);xe(typeof oe=="string",e,"internal-error"),ua(A,e.name),ua(C,e.name),xe(typeof ye=="boolean",e,"internal-error"),xe(typeof ue=="boolean",e,"internal-error"),ua(R,e.name),ua(k,e.name),ua(X,e.name),ua(F,e.name),ua($,e.name),ua(ee,e.name);const b=new Si({uid:oe,auth:e,email:C,emailVerified:ye,displayName:A,isAnonymous:ue,photoURL:k,phoneNumber:R,tenantId:X,stsTokenManager:w,createdAt:$,lastLoginAt:ee});return U&&Array.isArray(U)&&(b.providerData=U.map(I=>Object.assign({},I))),F&&(b._redirectEventId=F),b}static async _fromIdTokenResponse(e,n,a=!1){const o=new mo;o.updateFromServerResponse(n);const u=new Si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $c(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?oE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(a);const g=new Si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;function bi(i){Ri(i instanceof Function,"Expected a class definition");let e=c_.get(i);return e?(Ri(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,c_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lE.type="NONE";const h_=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(i,e,n){return`firebase:${i}:${e}:${n}`}class go{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Si._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new go(bi(h_),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||bi(h_);const f=Lc(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const A=Si._fromJSON(e,E);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new go(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new go(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mE(e))return"Blackberry";if(gE(e))return"Webos";if(cE(e))return"Safari";if((e.includes("chrome/")||hE(e))&&!e.includes("edge/"))return"Chrome";if(dE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function uE(i=En()){return/firefox\//i.test(i)}function cE(i=En()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hE(i=En()){return/crios\//i.test(i)}function fE(i=En()){return/iemobile/i.test(i)}function dE(i=En()){return/android/i.test(i)}function mE(i=En()){return/blackberry/i.test(i)}function gE(i=En()){return/webos/i.test(i)}function Gm(i=En()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function D1(i=En()){var e;return Gm(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I1(){return Gw()&&document.documentMode===10}function pE(i=En()){return Gm(i)||dE(i)||gE(i)||mE(i)||/windows phone/i.test(i)||fE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i,e=[]){let n;switch(i){case"Browser":n=f_(En());break;case"Worker":n=`${f_(En())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(i,e={}){return Oo(i,"GET","/v2/passwordPolicy",qm(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=6;class x1{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:M1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new O1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sE(this,{idToken:e}),a=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(ms(this));const n=e?Ii(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N1(this),n=new x1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await C1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&h1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gh(i){return Ii(i)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ww(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L1(i){Km=i}function P1(i){return Km.loadJS(i)}function U1(){return Km.gapiScript}function k1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(i,e){const n=km(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ys(u,e??{}))return o;Qr(o,"already-initialized")}return n.initialize({options:e})}function j1(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(bi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function B1(i,e,n){const a=gh(i);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=vE(e),{host:f,port:m}=H1(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(ys(y,a.config.emulator)&&ys(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,q1()}function vE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function H1(i){const e=vE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:m_(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:m_(f)}}}function m_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function q1(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,n){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i,e){return v1(i,"POST","/v1/accounts:signInWithIdp",qm(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="http://localhost";class _s extends _E{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=zm(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new _s(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,po(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:F1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends iu{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ei.credential(n,a)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends iu{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends iu{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ma.credential(n,a)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Si._fromIdTokenResponse(e,a,o),f=g_(a);return new Eo({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=g_(a);return new Eo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function g_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Di{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Xc(e,n,a,o)}}function EE(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(i,u,e,a):u})}async function G1(i,e,n=!1){const a=await Ql(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Eo._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(i,e,n=!1){const{auth:a}=i;if(Tr(a.app))return Promise.reject(ms(a));const o="reauthenticate";try{const u=await Ql(i,EE(a,o,e,i),n);xe(u.idToken,a,"internal-error");const f=Fm(u.idToken);xe(f,a,"internal-error");const{sub:m}=f;return xe(i.uid===m,a,"user-mismatch"),Eo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(i,e,n=!1){if(Tr(i.app))return Promise.reject(ms(i));const a="signIn",o=await EE(i,a,e),u=await Eo._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}function Y1(i,e,n,a){return Ii(i).onIdTokenChanged(e,n,a)}function $1(i,e,n){return Ii(i).beforeAuthStateChanged(e,n)}function TE(i,e,n,a){return Ii(i).onAuthStateChanged(e,n,a)}function X1(i){return Ii(i).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1e3,J1=10;class bE extends SE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);I1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,J1):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bE.type="LOCAL";const W1=bE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends SE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AE.type="SESSION";const wE=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await eC(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Ym("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function nC(i){Gr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function rC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function aC(){return RE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firebaseLocalStorageDb",sC=1,Jc="firebaseLocalStorage",DE="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(i,e){return i.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function oC(){const i=indexedDB.deleteDatabase(CE);return new au(i).toPromise()}function im(){const i=indexedDB.open(CE,sC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Jc,{keyPath:DE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Jc)?e(a):(a.close(),await oC(),e(await im()))})})}async function p_(i,e,n){const a=yh(i,!0).put({[DE]:e,value:n});return new au(a).toPromise()}async function lC(i,e){const n=yh(i,!1).get(e),a=await new au(n).toPromise();return a===void 0?null:a.value}function y_(i,e){const n=yh(i,!0).delete(e);return new au(n).toPromise()}const uC=800,cC=3;class IE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>cC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(aC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rC(),!this.activeServiceWorker)return;this.sender=new tC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await p_(e,Zc,"1"),await y_(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>p_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>lC(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yh(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IE.type="LOCAL";const hC=IE;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(i,e){return e?bi(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends _E{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fC(i){return Q1(i.auth,new $m(i),i.bypassAuthState)}function dC(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),K1(n,new $m(i),i.bypassAuthState)}async function mC(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),G1(n,new $m(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fC;case"linkViaPopup":case"linkViaRedirect":return mC;case"reauthViaPopup":case"reauthViaRedirect":return dC;default:Qr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new ru(2e3,1e4);async function pC(i,e,n){if(Tr(i.app))return Promise.reject(Sr(i,"operation-not-supported-in-this-environment"));const a=gh(i);f1(i,e,Qm);const o=OE(a,n);return new fs(a,"signInViaPopup",e,o).executeNotNull()}class fs extends NE{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gC.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="pendingRedirect",Pc=new Map;class vC extends NE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const a=await _C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _C(i,e){const n=SC(e),a=TC(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function EC(i,e){Pc.set(i._key(),e)}function TC(i){return bi(i._redirectPersistence)}function SC(i){return Lc(yC,i.config.apiKey,i.name)}async function bC(i,e,n=!1){if(Tr(i.app))return Promise.reject(ms(i));const a=gh(i),o=OE(a,e),f=await new vC(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=10*60*1e3;class wC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!ME(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AC&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ME({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e={}){return Oo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function OC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await CC(i);for(const n of e)try{if(NC(n))return}catch{}Qr(i,"unauthorized-domain")}function NC(i){const e=nm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!IC.test(n))return!1;if(DC.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new ru(3e4,6e4);function __(){const i=Gr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function xC(i){return new Promise((e,n)=>{var a,o,u;function f(){__(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{__(),n(Sr(i,"network-request-failed"))},timeout:MC.get()})}if(!((o=(a=Gr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Gr().gapi)===null||u===void 0)&&u.load)f();else{const m=k1("iframefcb");return Gr()[m]=()=>{gapi.load?f():n(Sr(i,"network-request-failed"))},P1(`${U1()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function VC(i){return Uc=Uc||xC(i),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new ru(5e3,15e3),PC="__/auth/iframe",UC="emulator/auth/iframe",kC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jC(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Hm(e,UC):`https://${i.config.authDomain}/${PC}`,a={apiKey:e.apiKey,appName:i.name,v:Io},o=zC.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${nu(a).slice(1)}`}async function BC(i){const e=await VC(i),n=Gr().gapi;return xe(n,i,"internal-error"),e.open({where:document.body,url:jC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Sr(i,"network-request-failed"),m=Gr().setTimeout(()=>{u(f)},LC.get());function g(){Gr().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qC=500,FC=600,GC="_blank",KC="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QC(i,e,n,a=qC,o=FC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},HC),{width:a.toString(),height:o.toString(),top:u,left:f}),y=En().toLowerCase();n&&(m=hE(y)?GC:n),uE(y)&&(e=e||KC,g.scrollbars="yes");const E=Object.entries(g).reduce((C,[R,k])=>`${C}${R}=${k},`,"");if(D1(y)&&m!=="_self")return YC(e||"",m),new E_(null);const A=window.open(e||"",m,E);xe(A,i,"popup-blocked");try{A.focus()}catch{}return new E_(A)}function YC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",XC="emulator/auth/handler",ZC=encodeURIComponent("fac");async function T_(i,e,n,a,o,u){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Io,eventId:o};if(e instanceof Qm){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Jw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof iu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),y=g?`#${ZC}=${encodeURIComponent(g)}`:"";return`${JC(i)}?${nu(m).slice(1)}${y}`}function JC({config:i}){return i.emulator?Hm(i,XC):`https://${i.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class WC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wE,this._completeRedirectFn=bC,this._overrideRedirectResult=EC}async _openPopup(e,n,a,o){var u;Ri((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await T_(e,n,a,nm(),o);return QC(e,f,Ym())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await T_(e,n,a,nm(),o);return nC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ri(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await BC(e),a=new wC(e);return n.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hd,{type:Hd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Hd];f!==void 0&&n(!!f),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pE()||cE()||Gm()}}const e2=WC;var S_="@firebase/auth",b_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r2(i){_o(new vs("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;xe(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yE(i)},y=new V1(a,o,u,g);return j1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),_o(new vs("auth-internal",e=>{const n=gh(e.getProvider("auth").getImmediate());return(a=>new t2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ea(S_,b_,n2(i)),Ea(S_,b_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=5*60,a2=Y0("authIdTokenMaxAge")||i2;let A_=null;const s2=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>a2)return;const o=n==null?void 0:n.token;A_!==o&&(A_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o2(i=J0()){const e=km(i,"auth");if(e.isInitialized())return e.getImmediate();const n=z1(i,{popupRedirectResolver:e2,persistence:[hC,W1,wE]}),a=Y0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=s2(u.toString());$1(n,f,()=>f(n.currentUser)),Y1(n,m=>f(m))}}const o=K0("auth");return o&&B1(n,`http://${o}`),n}function l2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}L1({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=Sr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",l2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r2("Browser");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,xE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function b(){}b.prototype=w.prototype,N.D=w.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(I,V,z){for(var O=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)O[ht-2]=arguments[ht];return w.prototype[V].apply(I,O)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,b){b||(b=0);var I=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)I[V]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(V=0;16>V;++V)I[V]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=N.g[0],b=N.g[1],V=N.g[2];var z=N.g[3],O=w+(z^b&(V^z))+I[0]+3614090360&4294967295;w=b+(O<<7&4294967295|O>>>25),O=z+(V^w&(b^V))+I[1]+3905402710&4294967295,z=w+(O<<12&4294967295|O>>>20),O=V+(b^z&(w^b))+I[2]+606105819&4294967295,V=z+(O<<17&4294967295|O>>>15),O=b+(w^V&(z^w))+I[3]+3250441966&4294967295,b=V+(O<<22&4294967295|O>>>10),O=w+(z^b&(V^z))+I[4]+4118548399&4294967295,w=b+(O<<7&4294967295|O>>>25),O=z+(V^w&(b^V))+I[5]+1200080426&4294967295,z=w+(O<<12&4294967295|O>>>20),O=V+(b^z&(w^b))+I[6]+2821735955&4294967295,V=z+(O<<17&4294967295|O>>>15),O=b+(w^V&(z^w))+I[7]+4249261313&4294967295,b=V+(O<<22&4294967295|O>>>10),O=w+(z^b&(V^z))+I[8]+1770035416&4294967295,w=b+(O<<7&4294967295|O>>>25),O=z+(V^w&(b^V))+I[9]+2336552879&4294967295,z=w+(O<<12&4294967295|O>>>20),O=V+(b^z&(w^b))+I[10]+4294925233&4294967295,V=z+(O<<17&4294967295|O>>>15),O=b+(w^V&(z^w))+I[11]+2304563134&4294967295,b=V+(O<<22&4294967295|O>>>10),O=w+(z^b&(V^z))+I[12]+1804603682&4294967295,w=b+(O<<7&4294967295|O>>>25),O=z+(V^w&(b^V))+I[13]+4254626195&4294967295,z=w+(O<<12&4294967295|O>>>20),O=V+(b^z&(w^b))+I[14]+2792965006&4294967295,V=z+(O<<17&4294967295|O>>>15),O=b+(w^V&(z^w))+I[15]+1236535329&4294967295,b=V+(O<<22&4294967295|O>>>10),O=w+(V^z&(b^V))+I[1]+4129170786&4294967295,w=b+(O<<5&4294967295|O>>>27),O=z+(b^V&(w^b))+I[6]+3225465664&4294967295,z=w+(O<<9&4294967295|O>>>23),O=V+(w^b&(z^w))+I[11]+643717713&4294967295,V=z+(O<<14&4294967295|O>>>18),O=b+(z^w&(V^z))+I[0]+3921069994&4294967295,b=V+(O<<20&4294967295|O>>>12),O=w+(V^z&(b^V))+I[5]+3593408605&4294967295,w=b+(O<<5&4294967295|O>>>27),O=z+(b^V&(w^b))+I[10]+38016083&4294967295,z=w+(O<<9&4294967295|O>>>23),O=V+(w^b&(z^w))+I[15]+3634488961&4294967295,V=z+(O<<14&4294967295|O>>>18),O=b+(z^w&(V^z))+I[4]+3889429448&4294967295,b=V+(O<<20&4294967295|O>>>12),O=w+(V^z&(b^V))+I[9]+568446438&4294967295,w=b+(O<<5&4294967295|O>>>27),O=z+(b^V&(w^b))+I[14]+3275163606&4294967295,z=w+(O<<9&4294967295|O>>>23),O=V+(w^b&(z^w))+I[3]+4107603335&4294967295,V=z+(O<<14&4294967295|O>>>18),O=b+(z^w&(V^z))+I[8]+1163531501&4294967295,b=V+(O<<20&4294967295|O>>>12),O=w+(V^z&(b^V))+I[13]+2850285829&4294967295,w=b+(O<<5&4294967295|O>>>27),O=z+(b^V&(w^b))+I[2]+4243563512&4294967295,z=w+(O<<9&4294967295|O>>>23),O=V+(w^b&(z^w))+I[7]+1735328473&4294967295,V=z+(O<<14&4294967295|O>>>18),O=b+(z^w&(V^z))+I[12]+2368359562&4294967295,b=V+(O<<20&4294967295|O>>>12),O=w+(b^V^z)+I[5]+4294588738&4294967295,w=b+(O<<4&4294967295|O>>>28),O=z+(w^b^V)+I[8]+2272392833&4294967295,z=w+(O<<11&4294967295|O>>>21),O=V+(z^w^b)+I[11]+1839030562&4294967295,V=z+(O<<16&4294967295|O>>>16),O=b+(V^z^w)+I[14]+4259657740&4294967295,b=V+(O<<23&4294967295|O>>>9),O=w+(b^V^z)+I[1]+2763975236&4294967295,w=b+(O<<4&4294967295|O>>>28),O=z+(w^b^V)+I[4]+1272893353&4294967295,z=w+(O<<11&4294967295|O>>>21),O=V+(z^w^b)+I[7]+4139469664&4294967295,V=z+(O<<16&4294967295|O>>>16),O=b+(V^z^w)+I[10]+3200236656&4294967295,b=V+(O<<23&4294967295|O>>>9),O=w+(b^V^z)+I[13]+681279174&4294967295,w=b+(O<<4&4294967295|O>>>28),O=z+(w^b^V)+I[0]+3936430074&4294967295,z=w+(O<<11&4294967295|O>>>21),O=V+(z^w^b)+I[3]+3572445317&4294967295,V=z+(O<<16&4294967295|O>>>16),O=b+(V^z^w)+I[6]+76029189&4294967295,b=V+(O<<23&4294967295|O>>>9),O=w+(b^V^z)+I[9]+3654602809&4294967295,w=b+(O<<4&4294967295|O>>>28),O=z+(w^b^V)+I[12]+3873151461&4294967295,z=w+(O<<11&4294967295|O>>>21),O=V+(z^w^b)+I[15]+530742520&4294967295,V=z+(O<<16&4294967295|O>>>16),O=b+(V^z^w)+I[2]+3299628645&4294967295,b=V+(O<<23&4294967295|O>>>9),O=w+(V^(b|~z))+I[0]+4096336452&4294967295,w=b+(O<<6&4294967295|O>>>26),O=z+(b^(w|~V))+I[7]+1126891415&4294967295,z=w+(O<<10&4294967295|O>>>22),O=V+(w^(z|~b))+I[14]+2878612391&4294967295,V=z+(O<<15&4294967295|O>>>17),O=b+(z^(V|~w))+I[5]+4237533241&4294967295,b=V+(O<<21&4294967295|O>>>11),O=w+(V^(b|~z))+I[12]+1700485571&4294967295,w=b+(O<<6&4294967295|O>>>26),O=z+(b^(w|~V))+I[3]+2399980690&4294967295,z=w+(O<<10&4294967295|O>>>22),O=V+(w^(z|~b))+I[10]+4293915773&4294967295,V=z+(O<<15&4294967295|O>>>17),O=b+(z^(V|~w))+I[1]+2240044497&4294967295,b=V+(O<<21&4294967295|O>>>11),O=w+(V^(b|~z))+I[8]+1873313359&4294967295,w=b+(O<<6&4294967295|O>>>26),O=z+(b^(w|~V))+I[15]+4264355552&4294967295,z=w+(O<<10&4294967295|O>>>22),O=V+(w^(z|~b))+I[6]+2734768916&4294967295,V=z+(O<<15&4294967295|O>>>17),O=b+(z^(V|~w))+I[13]+1309151649&4294967295,b=V+(O<<21&4294967295|O>>>11),O=w+(V^(b|~z))+I[4]+4149444226&4294967295,w=b+(O<<6&4294967295|O>>>26),O=z+(b^(w|~V))+I[11]+3174756917&4294967295,z=w+(O<<10&4294967295|O>>>22),O=V+(w^(z|~b))+I[2]+718787259&4294967295,V=z+(O<<15&4294967295|O>>>17),O=b+(z^(V|~w))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+z&4294967295}a.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var b=w-this.blockSize,I=this.B,V=this.h,z=0;z<w;){if(V==0)for(;z<=b;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<w;)if(I[V++]=N.charCodeAt(z++),V==this.blockSize){o(this,I),V=0;break}}else for(;z<w;)if(I[V++]=N[z++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=w},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var b=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=b&255,b/=256;for(this.u(N),N=Array(16),w=b=0;4>w;++w)for(var I=0;32>I;I+=8)N[b++]=this.g[w]>>>I&255;return N};function u(N,w){var b=m;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=w(N)}function f(N,w){this.h=w;for(var b=[],I=!0,V=N.length-1;0<=V;V--){var z=N[V]|0;I&&z==w||(b[V]=z,I=!1)}this.g=b}var m={};function g(N){return-128<=N&&128>N?u(N,function(w){return new f([w|0],0>w?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return F(y(-N));for(var w=[],b=1,I=0;N>=b;I++)w[I]=N/b|0,b*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return F(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(w,8)),I=A,V=0;V<N.length;V+=8){var z=Math.min(8,N.length-V),O=parseInt(N.substring(V,V+z),w);8>z?(z=y(Math.pow(w,z)),I=I.j(z).add(y(O))):(I=I.j(b),I=I.add(y(O)))}return I}var A=g(0),C=g(1),R=g(16777216);i=f.prototype,i.m=function(){if(X(this))return-F(this).m();for(var N=0,w=1,b=0;b<this.g.length;b++){var I=this.i(b);N+=(0<=I?I:4294967296+I)*w,w*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(X(this))return"-"+F(this).toString(N);for(var w=y(Math.pow(N,6)),b=this,I="";;){var V=ye(b,w).g;b=$(b,V.j(w));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=V,k(b))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function X(N){return N.h==-1}i.l=function(N){return N=$(this,N),X(N)?-1:k(N)?0:1};function F(N){for(var w=N.g.length,b=[],I=0;I<w;I++)b[I]=~N.g[I];return new f(b,~N.h).add(C)}i.abs=function(){return X(this)?F(this):this},i.add=function(N){for(var w=Math.max(this.g.length,N.g.length),b=[],I=0,V=0;V<=w;V++){var z=I+(this.i(V)&65535)+(N.i(V)&65535),O=(z>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);I=O>>>16,z&=65535,O&=65535,b[V]=O<<16|z}return new f(b,b[b.length-1]&-2147483648?-1:0)};function $(N,w){return N.add(F(w))}i.j=function(N){if(k(this)||k(N))return A;if(X(this))return X(N)?F(this).j(F(N)):F(F(this).j(N));if(X(N))return F(this.j(F(N)));if(0>this.l(R)&&0>N.l(R))return y(this.m()*N.m());for(var w=this.g.length+N.g.length,b=[],I=0;I<2*w;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<N.g.length;V++){var z=this.i(I)>>>16,O=this.i(I)&65535,ht=N.i(V)>>>16,pt=N.i(V)&65535;b[2*I+2*V]+=O*pt,ee(b,2*I+2*V),b[2*I+2*V+1]+=z*pt,ee(b,2*I+2*V+1),b[2*I+2*V+1]+=O*ht,ee(b,2*I+2*V+1),b[2*I+2*V+2]+=z*ht,ee(b,2*I+2*V+2)}for(I=0;I<w;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=w;I<2*w;I++)b[I]=0;return new f(b,0)};function ee(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function oe(N,w){this.g=N,this.h=w}function ye(N,w){if(k(w))throw Error("division by zero");if(k(N))return new oe(A,A);if(X(N))return w=ye(F(N),w),new oe(F(w.g),F(w.h));if(X(w))return w=ye(N,F(w)),new oe(F(w.g),w.h);if(30<N.g.length){if(X(N)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var b=C,I=w;0>=I.l(N);)b=ue(b),I=ue(I);var V=U(b,1),z=U(I,1);for(I=U(I,2),b=U(b,2);!k(I);){var O=z.add(I);0>=O.l(N)&&(V=V.add(b),z=O),I=U(I,1),b=U(b,1)}return w=$(N,V.j(w)),new oe(V,w)}for(V=A;0<=N.l(w);){for(b=Math.max(1,Math.floor(N.m()/w.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=y(b),O=z.j(w);X(O)||0<O.l(N);)b-=I,z=y(b),O=z.j(w);k(z)&&(z=C),V=V.add(z),N=$(N,O)}return new oe(V,N)}i.A=function(N){return ye(this,N).h},i.and=function(N){for(var w=Math.max(this.g.length,N.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)&N.i(I);return new f(b,this.h&N.h)},i.or=function(N){for(var w=Math.max(this.g.length,N.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)|N.i(I);return new f(b,this.h|N.h)},i.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)^N.i(I);return new f(b,this.h^N.h)};function ue(N){for(var w=N.g.length+1,b=[],I=0;I<w;I++)b[I]=N.i(I)<<1|N.i(I-1)>>>31;return new f(b,N.h)}function U(N,w){var b=w>>5;w%=32;for(var I=N.g.length-b,V=[],z=0;z<I;z++)V[z]=0<w?N.i(z+b)>>>w|N.i(z+b+1)<<32-w:N.i(z+b);return new f(V,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,xE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ta=f}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VE,Pl,LE,kc,am,PE,UE,kE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,p){if(p)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in v))break e;v=v[H]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,H={next:function(){if(!S&&v<c.length){var Y=v++;return{value:p(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function A(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(p,H)}}return function(){return c.apply(p,arguments)}}function C(c,p,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,C.apply(null,arguments)}function R(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,H,Y){for(var ce=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ce[Ze-2]=arguments[Ze];return p.prototype[H].apply(S,ce)}}function X(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function F(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const H=c.length||0,Y=S.length||0;c.length=H+Y;for(let ce=0;ce<Y;ce++)c[H+ce]=S[ce]}else c.push(S)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var ue=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function U(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function N(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function w(c){const p={};for(const v in c)p[v]=c[v];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let v,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(v in S)c[v]=S[v];for(let Y=0;Y<b.length;Y++)v=b[Y],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function O(){var c=He;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ht{constructor(){this.h=this.g=null}add(p,v){const S=pt.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new $(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,He=new ht,x=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){z(v)}var p=pt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}pe=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function Ve(c,p){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ue){e:{try{ye(p.nodeName);var H=!0;break e}catch{}H=!1}H||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}k(Ve,fe);var Me={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),$e=0;function bt(c,p,v,S,H){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=H,this.key=++$e,this.da=this.fa=!1}function Le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dt(c){this.src=c,this.g={},this.h=0}Dt.prototype.add=function(c,p,v,S,H){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ce=Cn(c,p,S,H);return-1<ce?(p=c[ce],v||(p.fa=!1)):(p=new bt(p,this.src,Y,!!S,H),p.fa=v,c.push(p)),p};function qn(c,p){var v=p.type;if(v in c.g){var S=c.g[v],H=Array.prototype.indexOf.call(S,p,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(S,H,1),Y&&(Le(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Cn(c,p,v,S){for(var H=0;H<c.length;++H){var Y=c[H];if(!Y.da&&Y.listener==p&&Y.capture==!!v&&Y.ha==S)return H}return-1}var mn="closure_lm_"+(1e6*Math.random()|0),wr={};function hr(c,p,v,S,H){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)hr(c,p[Y],v,S,H);return null}return v=Vi(v),c&&c[Ct]?c.K(p,v,y(S)?!!S.capture:!1,H):Oi(c,p,v,!1,S,H)}function Oi(c,p,v,S,H,Y){if(!p)throw Error("Invalid event type");var ce=y(H)?!!H.capture:!!H,Ze=dr(c);if(Ze||(c[mn]=Ze=new Dt(c)),v=Ze.add(p,v,S,ce,Y),v.proxy)return v;if(S=Ni(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)de||(H=ce),H===void 0&&(H=!1),c.addEventListener(p.toString(),S,H);else if(c.attachEvent)c.attachEvent(xi(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ni(){function c(v){return p.call(c.src,c.listener,v)}const p=fr;return c}function Mi(c,p,v,S,H){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)Mi(c,p[Y],v,S,H);else S=y(S)?!!S.capture:!!S,v=Vi(v),c&&c[Ct]?(c=c.i,p=String(p).toString(),p in c.g&&(Y=c.g[p],v=Cn(Y,v,S,H),-1<v&&(Le(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[p],c.h--)))):c&&(c=dr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Cn(p,v,S,H)),(v=-1<c?p[c]:null)&&Xr(v))}function Xr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ct])qn(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(xi(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=dr(p))?(qn(v,c),v.h==0&&(v.src=null,p[mn]=null)):Le(c)}}}function xi(c){return c in wr?wr[c]:wr[c]="on"+c}function fr(c,p){if(c.da)c=!0;else{p=new Ve(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&Xr(c),c=v.call(S,p)}return c}function dr(c){return c=c[mn],c instanceof Dt?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vi(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(p){return c.handleEvent(p)}),c[sn])}function ft(){Te.call(this),this.i=new Dt(this),this.M=this,this.F=null}k(ft,Te),ft.prototype[Ct]=!0,ft.prototype.removeEventListener=function(c,p,v,S){Mi(this,c,p,v,S)};function dt(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new fe(p,c);else if(p instanceof fe)p.target=p.target||c;else{var H=p;p=new fe(S,c),I(p,H)}if(H=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ce=p.g=v[Y];H=Fn(ce,S,!0,p)&&H}if(ce=p.g=c,H=Fn(ce,S,!0,p)&&H,H=Fn(ce,S,!1,p)&&H,v)for(Y=0;Y<v.length;Y++)ce=p.g=v[Y],H=Fn(ce,S,!1,p)&&H}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)Le(v[S]);delete c.g[p],c.h--}}this.F=null},ft.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},ft.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function Fn(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var H=!0,Y=0;Y<p.length;++Y){var ce=p[Y];if(ce&&!ce.da&&ce.capture==v){var Ze=ce.listener,Gt=ce.ha||ce.src;ce.fa&&qn(c.i,ce),H=Ze.call(Gt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Li(c,p,v){if(typeof c=="function")v&&(c=C(c,v));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Na(c){c.g=Li(()=>{c.g=null,c.i&&(c.i=!1,Na(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Gn extends Te{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(c){Te.call(this),this.h=c,this.g={}}k(Rr,Te);var mr=[];function Ft(c){U(c.g,function(p,v){this.g.hasOwnProperty(v)&&Xr(p)},c),c.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),Ft(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ma=m.JSON.stringify,xn=m.JSON.parse,kt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Pi(){}Pi.prototype.h=null;function Ui(c){return c.h||(c.h=c.i())}function As(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){fe.call(this,"d")}k(Cr,fe);function Dn(){fe.call(this,"c")}k(Dn,fe);var on={},Ln=null;function ki(){return Ln=Ln||new ft}on.La="serverreachability";function xa(c){fe.call(this,on.La,c)}k(xa,fe);function M(c){const p=ki();dt(p,new xa(p))}on.STAT_EVENT="statevent";function j(c,p){fe.call(this,on.STAT_EVENT,c),this.stat=p}k(j,fe);function G(c){const p=ki();dt(p,new j(p,c))}on.Ma="timingevent";function ae(c,p){fe.call(this,on.Ma,c),this.size=p}k(ae,fe);function me(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function De(c,p,v,S,H,Y){c.info(function(){if(c.g)if(Y)for(var ce="",Ze=Y.split("&"),Gt=0;Gt<Ze.length;Gt++){var Je=Ze[Gt].split("=");if(1<Je.length){var Wt=Je[0];Je=Je[1];var Kt=Wt.split("_");ce=2<=Kt.length&&Kt[1]=="type"?ce+(Wt+"="+Je+"&"):ce+(Wt+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+p+`
`+v+`
`+ce})}function ve(c,p,v,S,H,Y,ce){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+p+`
`+v+`
`+Y+" "+ce})}function _e(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ae(c,v)+(S?" "+S:"")})}function he(c,p){c.info(function(){return"TIMEOUT: "+p})}Se.prototype.info=function(){};function Ae(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<H.length;ce++)H[ce]=""}}}}return Ma(v)}catch{return p}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tt;function ut(){}k(ut,Pi),ut.prototype.g=function(){return new XMLHttpRequest},ut.prototype.i=function(){return{}},Tt=new ut;function Ge(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Tn={},Pn={};function Vt(c,p,v){c.L=1,c.v=Ua(It(p)),c.m=v,c.P=!0,zt(c,null)}function zt(c,p){c.F=Date.now(),ot(c),c.A=It(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ei(v.i,"t",S),c.C=0,v=c.j.J,c.h=new St,c.g=Su(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Gn(C(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(mr[0]=H.toString()),H=mr);for(var Y=0;Y<H.length;Y++){var ce=hr(v,H[Y],S||p.handleEvent,!1,p.h||p);if(!ce)break;p.g[ce.key]=ce}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),M(),De(c.i,c.u,c.A,c.l,c.R,c.m)}Ge.prototype.ca=function(c){c=c.target;const p=this.M;p&&Jn(c)==3?p.j():this.Y(c)},Ge.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=Jn(this.g);var p=this.g.Ba();const ii=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Kt!=4||p==7||(p==8||0>=ii?M(3):M(2)),gr(this);var v=this.g.Z();this.X=v;t:if(Kn(this)){var S=mu(this.g);c="";var H=S.length,Y=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),je(this);var ce="";break t}this.h.i=new m.TextDecoder}for(p=0;p<H;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(Y&&p==H-1)});S.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,ve(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Gt=this.g;if((Ze=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Ze)){var Je=Ze;break t}}Je=null}if(v=Je)_e(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zt(this,v);else{this.o=!1,this.s=3,G(12),lt(this),je(this);break e}}if(this.P){v=!0;let ln;for(;!this.J&&this.C<ce.length;)if(ln=In(this,ce),ln==Pn){Kt==4&&(this.s=4,G(14),v=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Tn){this.s=4,G(15),_e(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else _e(this.i,this.l,ln,null),Zt(this,ln);if(Kn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ce.length!=0||this.h.h||(this.s=1,G(16),v=!1),this.o=this.o&&v,!v)_e(this.i,this.l,ce,"[Invalid Chunked Response]"),lt(this),je(this);else if(0<ce.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Fa(Wt),Wt.M=!0,G(11))}}else _e(this.i,this.l,ce,null),Zt(this,ce);Kt==4&&lt(this),this.o&&!this.J&&(Kt==4?_u(this.j,this):(this.o=!1,ot(this)))}else xh(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,G(12)):(this.s=0,G(13)),lt(this),je(this)}}}catch{}finally{}};function Kn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function In(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Pn:(v=Number(p.substring(v,S)),isNaN(v)?Tn:(S+=1,S+v>p.length?Pn:(p=p.slice(S,S+v),c.C=S+v,p)))}Ge.prototype.cancel=function(){this.J=!0,lt(this)};function ot(c){c.S=Date.now()+c.I,Dr(c,c.I)}function Dr(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=me(C(c.ba,c),p)}function gr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ge.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(he(this.i,this.A),this.L!=2&&(M(),G(17)),lt(this),this.s=2,je(this)):Dr(this,this.S-c)};function je(c){c.j.G==0||c.J||_u(c.j,c)}function lt(c){gr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ft(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Zt(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Ir(v.h,c))){if(!c.K&&Ir(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Vs(v),Ms(v);else break e;Ho(v),G(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(C(v.Za,v),6e3));if(1>=Va(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ri(v,11)}else if((c.K||v.g==c)&&Vs(v),!ee(p))for(H=v.Da.g.parse(p),p=0;p<H.length;p++){let Je=H[p];if(v.T=Je[0],Je=Je[1],v.G==2)if(Je[0]=="c"){v.K=Je[1],v.ia=Je[2];const Wt=Je[3];Wt!=null&&(v.la=Wt,v.j.info("VER="+v.la));const Kt=Je[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const ii=Je[5];ii!=null&&typeof ii=="number"&&0<ii&&(S=1.5*ii,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ln=c.g;if(ln){const Pr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var Y=S.h;Y.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(zi(Y,Y.h),Y.h=null))}if(S.D){const Fo=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(S.ya=Fo,it(S.I,S.D,Fo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ce=c;if(S.qa=Tu(S,S.J?S.ia:null,S.W),ce.K){Yn(S.h,ce);var Ze=ce,Gt=S.L;Gt&&(Ze.I=Gt),Ze.B&&(gr(Ze),ot(Ze)),S.g=ce}else yu(S);0<v.i.length&&xs(v)}else Je[0]!="stop"&&Je[0]!="close"||ri(v,7);else v.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ri(v,7):jo(v):Je[0]!="noop"&&v.l&&v.l.ta(Je),v.v=0)}}M(4)}catch{}}var Zr=class{constructor(c,p){this.g=c,this.map=p}};function vt(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Va(c){return c.h?1:c.g?c.g.size:0}function Ir(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function zi(c,p){c.g?c.g.add(p):c.h=p}function Yn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}vt.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return X(c.i)}function cu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function Ih(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function La(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=Ih(c),S=cu(c),H=S.length,Y=0;Y<H;Y++)p.call(void 0,S[Y],v&&v[Y],c)}var Vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),H=null;if(0<=S){var Y=c[v].substring(0,S);H=c[v].substring(S+1)}else Y=c[v];p(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,ji(this,c.j),this.o=c.o,this.g=c.g,Pa(this,c.s),this.l=c.l;var p=c.i,v=new Or;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Rs(this,v),this.m=c.m}else c&&(p=String(c).match(Vo))?(this.h=!1,ji(this,p[1]||"",!0),this.o=Bi(p[2]||""),this.g=Bi(p[3]||"",!0),Pa(this,p[4]),this.l=Bi(p[5]||"",!0),Rs(this,p[6]||"",!0),this.m=Bi(p[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}Jr.prototype.toString=function(){var c=[],p=this.j;p&&c.push($n(p,Lo,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push($n(p,Lo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push($n(v,v.charAt(0)=="/"?Po:hu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",$n(v,Mh)),c.join("")};function It(c){return new Jr(c)}function ji(c,p,v){c.j=v?Bi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Pa(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Rs(c,p,v){p instanceof Or?(c.i=p,Uo(c.i,c.h)):(v||(p=$n(p,Nh)),c.i=new Or(p,c.h))}function it(c,p,v){c.i.set(p,v)}function Ua(c){return it(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Bi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $n(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Oh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Oh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,hu=/[#\?:]/g,Po=/[#\?]/g,Nh=/[#\?@]/g,Mh=/#/g;function Or(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Xn(c){c.g||(c.g=new Map,c.h=0,c.i&&ws(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=Or.prototype,i.add=function(c,p){Xn(this),this.i=null,c=ti(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Cs(c,p){Xn(c),p=ti(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Wr(c,p){return Xn(c),p=ti(c,p),c.g.has(p)}i.forEach=function(c,p){Xn(this),this.g.forEach(function(v,S){v.forEach(function(H){c.call(p,H,S,this)},this)},this)},i.na=function(){Xn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const H=c[S];for(let Y=0;Y<H.length;Y++)v.push(p[S])}return v},i.V=function(c){Xn(this);let p=[];if(typeof c=="string")Wr(this,c)&&(p=p.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return Xn(this),this.i=null,c=ti(this,c),Wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ei(c,p,v){Cs(c,p),0<v.length&&(c.i=null,c.g.set(ti(c,p),X(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const Y=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var H=Y;ce[S]!==""&&(H+="="+encodeURIComponent(String(ce[S]))),c.push(H)}}return this.i=c.join("&")};function ti(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Uo(c,p){p&&!c.j&&(Xn(c),c.i=null,c.g.forEach(function(v,S){var H=S.toLowerCase();S!=H&&(Cs(this,S),ei(this,H,v))},c)),c.j=p}function fu(c,p){const v=new Se;if(m.Image){const S=new Image;S.onload=R(Zn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=R(Zn,v,"TestLoadImage: error",!1,p,S),S.onabort=R(Zn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=R(Zn,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function ka(c,p){const v=new Se,S=new AbortController,H=setTimeout(()=>{S.abort(),Zn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(H),Y.ok?Zn(v,"TestPingServer: ok",!0,p):Zn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(H),Zn(v,"TestPingServer: error",!1,p)})}function Zn(c,p,v,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(v)}catch{}}function za(){this.g=new kt}function Nr(c,p,v){const S=v||"";try{La(c,function(H,Y){let ce=H;y(H)&&(ce=Ma(H)),p.push(S+Y+"="+encodeURIComponent(ce))})}catch(H){throw p.push(S+"type="+encodeURIComponent("_badmap")),H}}function Hi(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Hi,Pi),Hi.prototype.g=function(){return new ni(this.l,this.j)},Hi.prototype.i=function(c){return function(){return c}}({});function ni(c,p){ft.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ni,ft),i=ni.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,xr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Mr(this):xr(this),this.readyState==3&&ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Mr(this))},i.Qa=function(c){this.g&&(this.response=c,Mr(this))},i.ga=function(){this.g&&Mr(this)};function Mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zo(c){let p="";return U(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Jt(c,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=zo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):it(c,p,v))}function ct(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ct,ft);var Ds=/^https?$/i,ja=["POST","PUT"];i=ct.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tt.g(),this.v=this.o?Ui(this.o):Ui(Tt),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){du(this,Y);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)v.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ja,p,void 0))||S||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of v)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){du(this,Y)}};function du(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Is(c),Vr(c)}function Is(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),Vr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),ct.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Os(this):this.bb())},i.bb=function(){Os(this)};function Os(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Jn(c)!=4||c.Z()!=2)){if(c.u&&Jn(c)==4)Li(c.Ea,0,c);else if(dt(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=ce===0){var H=String(c.D).match(Vo)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!Ds.test(H?H.toLowerCase():"")}v=S}if(v)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var Y=2<Jn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Is(c)}}finally{Vr(c)}}}}function Vr(c,p){if(c.g){Ba(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||dt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ba(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),xn(p)}};function mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(c){const p={};c=(c.g&&2<=Jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ee(c[S]))continue;var v=V(c[S]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=p[H]||[];p[H]=Y,Y.push(v)}N(p,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Ns(c){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,c),this.cb=Ha("retryDelaySeedMs",1e4,c),this.Wa=Ha("forwardChannelMaxRetries",2,c),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vt(c&&c.concurrentRequestLimit),this.Da=new za,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ns.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,S){G(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Tu(this,null,this.W),xs(this)};function jo(c){if(gu(c),c.G==3){var p=c.U++,v=It(c.I);if(it(v,"SID",c.K),it(v,"RID",p),it(v,"TYPE","terminate"),qa(c,v),p=new Ge(c,c.j,p),p.L=2,p.v=Ua(It(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Su(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ot(p)}Eu(c)}function Ms(c){c.g&&(Fa(c),c.g.cancel(),c.g=null)}function gu(c){Ms(c),c.u&&(m.clearTimeout(c.u),c.u=null),Vs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function xs(c){if(!Qn(c.h)&&!c.s){c.s=!0;var p=c.Ga;le||x(),pe||(le(),pe=!0),He.add(p,c),c.B=0}}function Vh(c,p){return Va(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=me(C(c.Ga,c,p),qo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Ge(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=pu(this,H,p),v=It(this.I),it(v,"RID",c),it(v,"CVER",22),this.D&&it(v,"X-HTTP-Session-Id",this.D),qa(this,v),Y&&(this.O?p="headers="+encodeURIComponent(String(zo(Y)))+"&"+p:this.m&&Jt(v,this.m,Y)),zi(this.h,H),this.Ua&&it(v,"TYPE","init"),this.P?(it(v,"$req",p),it(v,"SID","null"),H.T=!0,Vt(H,v,null)):Vt(H,v,p),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||Qn(this.h)||Bo(this))};function Bo(c,p){var v;p?v=p.l:v=c.U++;const S=It(c.I);it(S,"SID",c.K),it(S,"RID",v),it(S,"AID",c.T),qa(c,S),c.m&&c.o&&Jt(S,c.m,c.o),v=new Ge(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=pu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zi(c.h,v),Vt(v,S,p)}function qa(c,p){c.H&&U(c.H,function(v,S){it(p,S,v)}),c.l&&La({},function(v,S){it(p,S,v)})}function pu(c,p,v){v=Math.min(c.i.length,v);var S=c.l?C(c.l.Na,c.l,c):null;e:{var H=c.i;let Y=-1;for(;;){const ce=["count="+v];Y==-1?0<v?(Y=H[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let Ze=!0;for(let Gt=0;Gt<v;Gt++){let Je=H[Gt].g;const Wt=H[Gt].map;if(Je-=Y,0>Je)Y=Math.max(0,H[Gt].g-100),Ze=!1;else try{Nr(Wt,ce,"req"+Je+"_")}catch{S&&S(Wt)}}if(Ze){S=ce.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,S}function yu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;le||x(),pe||(le(),pe=!0),He.add(p,c),c.v=0}}function Ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=me(C(c.Fa,c),qo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=me(C(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,G(10),Ms(this),vu(this))};function Fa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function vu(c){c.g=new Ge(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=It(c.qa);it(p,"RID","rpc"),it(p,"SID",c.K),it(p,"AID",c.T),it(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&it(p,"TO",c.ja),it(p,"TYPE","xmlhttp"),qa(c,p),c.m&&c.o&&Jt(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ua(It(p)),v.m=null,v.P=!0,zt(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ms(this),Ho(this),G(19))};function Vs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function _u(c,p){var v=null;if(c.g==p){Vs(c),Fa(c),c.g=null;var S=2}else if(Ir(c.h,p))v=p.D,Yn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var H=c.B;S=ki(),dt(S,new ae(S,v)),xs(c)}else yu(c);else if(H=p.s,H==3||H==0&&0<p.X||!(S==1&&Vh(c,p)||S==2&&Ho(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),H){case 1:ri(c,5);break;case 4:ri(c,10);break;case 3:ri(c,6);break;default:ri(c,2)}}}function qo(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function ri(c,p){if(c.j.info("Error code "+p),p==2){var v=C(c.fb,c),S=c.Xa;const H=!S;S=new Jr(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ji(S,"https"),Ua(S),H?fu(S.toString(),v):ka(S.toString(),v)}else G(2);c.G=0,c.l&&c.l.sa(p),Eu(c),gu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),G(2)):(this.j.info("Failed to ping google.com"),G(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const p=Sn(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Tu(c,p,v){var S=v instanceof Jr?It(v):new Jr(v);if(S.g!="")p&&(S.g=p+"."+S.g),Pa(S,S.s);else{var H=m.location;S=H.protocol,p=p?p+"."+H.hostname:H.hostname,H=+H.port;var Y=new Jr(null);S&&ji(Y,S),p&&(Y.g=p),H&&Pa(Y,H),v&&(Y.l=v),S=Y}return v=c.D,p=c.ya,v&&p&&it(S,v,p),it(S,"VER",c.la),qa(c,S),S}function Su(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new ct(new Hi({eb:v})):new ct(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}i=bu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ls(){}Ls.prototype.g=function(c,p){return new bn(c,p)};function bn(c,p){ft.call(this),this.g=new Ns(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ee(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Lr(this)}k(bn,ft),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){jo(this.g)},bn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ma(c),c=v);p.i.push(new Zr(p.Ya++,c)),p.G==3&&xs(p)},bn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,bn.aa.N.call(this)};function Au(c){Cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}k(Au,Cr);function wu(){Dn.call(this),this.status=1}k(wu,Dn);function Lr(c){this.g=c}k(Lr,bu),Lr.prototype.ua=function(){dt(this.g,"a")},Lr.prototype.ta=function(c){dt(this.g,new Au(c))},Lr.prototype.sa=function(c){dt(this.g,new wu)},Lr.prototype.ra=function(){dt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,kE=function(){return new Ls},UE=function(){return ki()},PE=on,am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,kc=Re,Xe.COMPLETE="complete",LE=Xe,As.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Pl=As,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,VE=ct}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",C_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Pm("@firebase/firestore");function uo(){return Es.logLevel}function Ee(i,...e){if(Es.logLevel<=Ke.DEBUG){const n=e.map(Xm);Es.debug(`Firestore (${No}): ${i}`,...n)}}function Ci(i,...e){if(Es.logLevel<=Ke.ERROR){const n=e.map(Xm);Es.error(`Firestore (${No}): ${i}`,...n)}}function To(i,...e){if(Es.logLevel<=Ke.WARN){const n=e.map(Xm);Es.warn(`Firestore (${No}): ${i}`,...n)}}function Xm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(i="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+i;throw Ci(e),new Error(e)}function Rt(i,e){i||ze()}function nt(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class c2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h2{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gs)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Rt(typeof a.accessToken=="string"),new zE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new vn(e)}}class f2{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class d2{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new f2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Rt(this.o===void 0);const a=u=>{u.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new D_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt(typeof n.token=="string"),this.R=n.token,new D_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=g2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function tt(i,e){return i<e?-1:i>e?1:0}function So(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-62135596800,O_=1e6;class Mn{static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*O_);return new Mn(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I_)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-I_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Mn(0,0))}static max(){return new Ue(new Mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__name__";class Hr{constructor(e,n,a){n===void 0?n=0:n>e.length&&ze(),a===void 0?a=e.length-n:a>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Hr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=Hr.isNumericId(e),o=Hr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Hr.extractNumericId(e).compare(Hr.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class xt extends Hr{construct(e,n,a){return new xt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const p2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Hr{construct(e,n,a){return new Rn(e,n,a)}static isValidIdentifier(e){return p2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new Rn([N_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Oe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Oe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new Oe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(xt.fromString(e))}static fromName(e){return new Ne(xt.fromString(e).popFirst(5))}static empty(){return new Ne(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function y2(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(a===1e9?new Mn(n+1,0):new Mn(n,a));return new ba(o,Ne.empty(),e)}function v2(i){return new ba(i.readTime,i.key,Yl)}class ba{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ba(Ue.min(),Ne.empty(),Yl)}static max(){return new ba(Ue.max(),Ne.empty(),Yl)}}function _2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(i.documentKey,e.documentKey),n!==0?n:tt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(i){if(i.code!==ge.FAILED_PRECONDITION||i.message!==E2)throw i;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,a)=>{n(e)})}static reject(e){return new ne((n,a)=>{a(e)})}static waitFor(e){return new ne((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>a(g))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next(o=>o?ne.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ne((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new ne((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function S2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_h.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=-1;function Eh(i){return i==null}function sm(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="";function A2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=M_(e)),e=w2(i.get(n),e);return M_(e)}function w2(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case BE:n+="";break;default:n+=u}}return n}function M_(i){return i+BE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function su(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function R2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new fn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,a,o,u){return this}insert(e,n,a){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new ga([])}unionWith(e){let n=new Xt(Rn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new ga(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HE("Invalid base64 string: "+u):u}}(e);return new dn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const C2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(i){if(Rt(!!i),typeof i=="string"){let e=0;const n=C2.exec(i);if(Rt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pt(i.seconds),nanos:Pt(i.nanos)}}function Pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function wa(i){return typeof i=="string"?dn.fromBase64String(i):dn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="server_timestamp",FE="__type__",GE="__previous_value__",KE="__local_write_time__";function Zm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[FE])===null||n===void 0?void 0:n.stringValue)===qE}function Th(i){const e=i.mapValue.fields[GE];return Zm(e)?Th(e):e}function $l(i){const e=Aa(i.mapValue.fields[KE].timestampValue);return new Mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,a,o,u,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Wc="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||Wc}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="__type__",O2="__max__",Dc={mapValue:{}},N2="__vector__",om="value";function Ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zm(i)?4:x2(i)?9007199254740991:M2(i)?10:11:ze()}function Yr(i,e){if(i===e)return!0;const n=Ra(i);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Aa(o.timestampValue),m=Aa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return wa(o.bytesValue).isEqual(wa(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Pt(o.doubleValue),m=Pt(u.doubleValue);return f===m?sm(f)===sm(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(x_(f)!==x_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Yr(f[g],m[g])))return!1;return!0}(i,e);default:return ze()}}function Zl(i,e){return(i.values||[]).find(n=>Yr(n,e))!==void 0}function bo(i,e){if(i===e)return 0;const n=Ra(i),a=Ra(e);if(n!==a)return tt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Pt(u.integerValue||u.doubleValue),g=Pt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return L_(i.timestampValue,e.timestampValue);case 4:return L_($l(i),$l(e));case 5:return tt(i.stringValue,e.stringValue);case 6:return function(u,f){const m=wa(u),g=wa(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=tt(m[y],g[y]);if(E!==0)return E}return tt(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=tt(Pt(u.latitude),Pt(f.latitude));return m!==0?m:tt(Pt(u.longitude),Pt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return P_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,E;const A=u.fields||{},C=f.fields||{},R=(m=A[om])===null||m===void 0?void 0:m.arrayValue,k=(g=C[om])===null||g===void 0?void 0:g.arrayValue,X=tt(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:P_(R,k)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Dc.mapValue&&f===Dc.mapValue)return 0;if(u===Dc.mapValue)return 1;if(f===Dc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const C=tt(g[A],E[A]);if(C!==0)return C;const R=bo(m[g[A]],y[E[A]]);if(R!==0)return R}return tt(g.length,E.length)}(i.mapValue,e.mapValue);default:throw ze()}}function L_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return tt(i,e);const n=Aa(i),a=Aa(e),o=tt(n.seconds,a.seconds);return o!==0?o:tt(n.nanos,a.nanos)}function P_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=bo(n[o],a[o]);if(u)return u}return tt(n.length,a.length)}function Ao(i){return lm(i)}function lm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Aa(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return wa(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ne.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=lm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${lm(n.fields[f])}`;return o+"}"}(i.mapValue):ze()}function zc(i){switch(Ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(i);return e?16+zc(e):16;case 5:return 2*i.stringValue.length;case 6:return wa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+zc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return su(a.fields,(u,f)=>{o+=u.length+zc(f)}),o}(i.mapValue);default:throw ze()}}function um(i){return!!i&&"integerValue"in i}function Jm(i){return!!i&&"arrayValue"in i}function U_(i){return!!i&&"nullValue"in i}function k_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function qd(i){return!!i&&"mapValue"in i}function M2(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[I2])===null||n===void 0?void 0:n.stringValue)===N2}function jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return su(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=jl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function x2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===O2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=Rn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=jl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];qd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){su(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new qr(jl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Ue.min(),Ue.min(),Ue.min(),qr.empty(),0)}static newFoundDocument(e,n,a,o){return new _n(e,1,n,Ue.min(),a,o,0)}static newNoDocument(e,n){return new _n(e,2,n,Ue.min(),Ue.min(),qr.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Ue.min(),Ue.min(),qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.position=e,this.inclusive=n}}function z_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=Ne.comparator(Ne.fromName(f.referenceValue),n.key):a=bo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function j_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n="asc"){this.field=e,this.dir=n}}function V2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{}class $t extends QE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new P2(e,n,a):n==="array-contains"?new z2(e,a):n==="in"?new j2(e,a):n==="not-in"?new B2(e,a):n==="array-contains-any"?new H2(e,a):new $t(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new U2(e,a):new k2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&Ra(this.value)===Ra(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends QE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new $r(e,n)}matches(e){return YE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function YE(i){return i.op==="and"}function $E(i){return L2(i)&&YE(i)}function L2(i){for(const e of i.filters)if(e instanceof $r)return!1;return!0}function cm(i){if(i instanceof $t)return i.field.canonicalString()+i.op.toString()+Ao(i.value);if($E(i))return i.filters.map(e=>cm(e)).join(",");{const e=i.filters.map(n=>cm(n)).join(",");return`${i.op}(${e})`}}function XE(i,e){return i instanceof $t?function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&Yr(a.value,o.value)}(i,e):i instanceof $r?function(a,o){return o instanceof $r&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&XE(f,o.filters[m]),!0):!1}(i,e):void ze()}function ZE(i){return i instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(i):i instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(ZE).join(" ,")+"}"}(i):"Filter"}class P2 extends $t{constructor(e,n,a){super(e,n,a),this.key=Ne.fromName(a.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class U2 extends $t{constructor(e,n){super(e,"in",n),this.keys=JE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k2 extends $t{constructor(e,n){super(e,"not-in",n),this.keys=JE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JE(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ne.fromName(a.referenceValue))}class z2 extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jm(n)&&Zl(n.arrayValue,this.value)}}class j2 extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class B2 extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zl(this.value.arrayValue,n)}}class H2 extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Zl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function B_(i,e=null,n=[],a=[],o=null,u=null,f=null){return new q2(i,e,n,a,o,u,f)}function Wm(i){const e=nt(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>cm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),Eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Ao(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Ao(a)).join(",")),e.le=n}return e.le}function eg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!V2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!XE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!j_(i.startAt,e.startAt)&&j_(i.endAt,e.endAt)}function hm(i){return Ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function F2(i,e,n,a,o,u,f,m){return new Sh(i,e,n,a,o,u,f,m)}function tg(i){return new Sh(i)}function H_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function G2(i){return i.collectionGroup!==null}function Bl(i){const e=nt(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xt(Rn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new th(u,a))}),n.has(Rn.keyField().canonicalString())||e.he.push(new th(Rn.keyField(),a))}return e.he}function Kr(i){const e=nt(i);return e.Pe||(e.Pe=K2(e,Bl(i))),e.Pe}function K2(i,e){if(i.limitType==="F")return B_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new th(o.field,u)});const n=i.endAt?new eh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new eh(i.startAt.position,i.startAt.inclusive):null;return B_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function fm(i,e,n){return new Sh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function bh(i,e){return eg(Kr(i),Kr(e))&&i.limitType===e.limitType}function WE(i){return`${Wm(Kr(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>ZE(o)).join(", ")}]`),Eh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Ao(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Ao(o)).join(",")),`Target(${a})`}(Kr(i))}; limitType=${i.limitType})`}function Ah(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ne.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of Bl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,m,g){const y=z_(f,m,g);return f.inclusive?y<=0:y<0}(a.startAt,Bl(a),o)||a.endAt&&!function(f,m,g){const y=z_(f,m,g);return f.inclusive?y>=0:y>0}(a.endAt,Bl(a),o))}(i,e)}function Q2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eT(i){return(e,n)=>{let a=!1;for(const o of Bl(i)){const u=Y2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function Y2(i,e,n){const a=i.field.isKeyField()?Ne.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?bo(g,y):ze()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return R2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Ut(Ne.comparator);function Ca(){return $2}const tT=new Ut(Ne.comparator);function Ul(...i){let e=tT;for(const n of i)e=e.insert(n.key,n);return e}function X2(i){let e=tT;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function ds(){return Hl()}function nT(){return Hl()}function Hl(){return new bs(i=>i.toString(),(i,e)=>i.isEqual(e))}const Z2=new Xt(Ne.comparator);function rt(...i){let e=Z2;for(const n of i)e=e.add(n);return e}const J2=new Xt(tt);function W2(){return J2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function tD(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function nD(i,e,n){return i instanceof dm?function(o,u){const f={fields:{[FE]:{stringValue:qE},[KE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zm(u)&&(u=Th(u)),u&&(f.fields[GE]=u),{mapValue:f}}(n,e):i instanceof nh?rT(i,e):i instanceof rh?iT(i,e):function(o,u){const f=iD(o,u),m=q_(f)+q_(o.Ie);return um(f)&&um(o.Ie)?tD(m):eD(o.serializer,m)}(i,e)}function rD(i,e,n){return i instanceof nh?rT(i,e):i instanceof rh?iT(i,e):n}function iD(i,e){return i instanceof mm?function(a){return um(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class dm extends wh{}class nh extends wh{constructor(e){super(),this.elements=e}}function rT(i,e){const n=aT(e);for(const a of i.elements)n.some(o=>Yr(o,a))||n.push(a);return{arrayValue:{values:n}}}class rh extends wh{constructor(e){super(),this.elements=e}}function iT(i,e){let n=aT(e);for(const a of i.elements)n=n.filter(o=>!Yr(o,a));return{arrayValue:{values:n}}}class mm extends wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function q_(i){return Pt(i.integerValue||i.doubleValue)}function aT(i){return Jm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function aD(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof nh&&o instanceof nh||a instanceof rh&&o instanceof rh?So(a.elements,o.elements,Yr):a instanceof mm&&o instanceof mm?Yr(a.Ie,o.Ie):a instanceof dm&&o instanceof dm}(i.transform,e.transform)}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ng{}function sT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new oD(i.key,ps.none()):new rg(i.key,i.data,ps.none());{const n=i.data,a=qr.empty();let o=new Xt(Rn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Rh(i.key,a,new ga(o.toArray()),ps.none())}}function sD(i,e,n){i instanceof rg?function(o,u,f){const m=o.value.clone(),g=G_(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Rh?function(o,u,f){if(!jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=G_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(oT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ql(i,e,n,a){return i instanceof rg?function(u,f,m,g){if(!jc(u.precondition,f))return m;const y=u.value.clone(),E=K_(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,a):i instanceof Rh?function(u,f,m,g){if(!jc(u.precondition,f))return m;const y=K_(u.fieldTransforms,g,f),E=f.data;return E.setAll(oT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,a):function(u,f,m){return jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function F_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&So(a,o,(u,f)=>aD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class rg extends ng{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rh extends ng{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function oT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function G_(i,e,n){const a=new Map;Rt(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,rD(f,m,n[o]))}return a}function K_(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,nD(u,f,e))}return a}class oD extends ng{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sD(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=ql(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=ql(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=nT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=sT(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ue.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,a)=>F_(n,a))&&So(this.baseMutations,e.baseMutations,(n,a)=>F_(n,a))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,et;function lT(i){if(i===void 0)return Ci("GRPC error has no .code"),ge.UNKNOWN;switch(i){case qt.OK:return ge.OK;case qt.CANCELLED:return ge.CANCELLED;case qt.UNKNOWN:return ge.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ge.INTERNAL;case qt.UNAVAILABLE:return ge.UNAVAILABLE;case qt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case qt.NOT_FOUND:return ge.NOT_FOUND;case qt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case qt.ABORTED:return ge.ABORTED;case qt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case qt.DATA_LOSS:return ge.DATA_LOSS;default:return ze()}}(et=qt||(qt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Ta([4294967295,4294967295],0);function Q_(i){const e=hD().encode(i),n=new xE;return n.update(e),new Uint8Array(n.digest())}function Y_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ta([n,a],0),new Ta([o,u],0)]}class ig{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ta.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(Ta.fromNumber(a)));return o.compare(fD)===1&&(o=new Ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Q_(e),[a,o]=Y_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new ig(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Q_(e),[a,o]=Y_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Ch(Ue.min(),o,new Ut(tt),Ca(),rt())}}class ou{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new ou(a,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class uT{constructor(e,n){this.targetId=e,this.ge=n}}class cT{constructor(e,n,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class $_{constructor(){this.pe=0,this.ye=X_(),this.we=dn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=rt(),n=rt(),a=rt();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:ze()}}),new ou(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=X_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Rt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class dD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ca(),this.$e=Ic(),this.Ke=Ic(),this.Ue=new Ut(tt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(hm(u))if(a===0){const f=new Ne(u.path);this.ze(n,f,_n.newNoDocument(f,Ue.min()))}else Rt(a===1);else{const f=this.et(n);if(f!==a){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=wa(a).toUint8Array()}catch(g){if(g instanceof HE)return To("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ig(f,o,u)}catch(g){return To(g instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&hm(m.target)){const g=new Ne(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,_n.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=rt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Ch(e,n,this.Ue,this.Qe,a);return this.Qe=Ca(),this.$e=Ic(),this.Ke=Ic(),this.Ue=new Ut(tt),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Xt(tt),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xt(tt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ic(){return new Ut(Ne.comparator)}function X_(){return new Ut(Ne.comparator)}const mD={asc:"ASCENDING",desc:"DESCENDING"},gD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pD={and:"AND",or:"OR"};class yD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gm(i,e){return i.useProto3Json||Eh(e)?e:{value:e}}function vD(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _D(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function yo(i){return Rt(!!i),Ue.fromTimestamp(function(n){const a=Aa(n);return new Mn(a.seconds,a.nanos)}(i))}function ED(i,e){return pm(i,e).canonicalString()}function pm(i,e){const n=function(o){return new xt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function hT(i){const e=xt.fromString(i);return Rt(pT(e)),e}function Fd(i,e){const n=hT(e);if(n.get(1)!==i.databaseId.projectId)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ne(dT(n))}function fT(i,e){return ED(i.databaseId,e)}function TD(i){const e=hT(i);return e.length===4?xt.emptyPath():dT(e)}function Z_(i){return new xt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function dT(i){return Rt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function SD(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Rt(E===void 0||typeof E=="string"),dn.fromBase64String(E||"")):(Rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),dn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ge.UNKNOWN:lT(y.code);return new Oe(E,y.message||"")}(f);n=new cT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Fd(i,a.document.name),u=yo(a.document.updateTime),f=a.document.createTime?yo(a.document.createTime):Ue.min(),m=new qr({mapValue:{fields:a.document.fields}}),g=_n.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new Bc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Fd(i,a.document),u=a.readTime?yo(a.readTime):Ue.min(),f=_n.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Bc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Fd(i,a.document),u=a.removedTargetIds||[];n=new Bc([],u,o,null)}else{if(!("filter"in e))return ze();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new cD(o,u),m=a.targetId;n=new uT(m,f)}}return n}function bD(i,e){return{documents:[fT(i,e.path)]}}function AD(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=fT(i,o);const u=function(y){if(y.length!==0)return gT($r.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:ho(C.field),direction:CD(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=gm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function wD(i){let e=TD(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Rt(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const C=mT(A);return C instanceof $r&&$E(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(C=>function(k){return new th(fo(k.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(A){let C;return C=typeof A=="object"?A.value:A,Eh(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(A){const C=!!A.before,R=A.values||[];return new eh(R,C)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const C=!A.before,R=A.values||[];return new eh(R,C)}(n.endAt)),F2(e,o,f,u,m,"F",g,y)}function RD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=fo(n.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(n.unaryFilter.field);return $t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=fo(n.unaryFilter.field);return $t.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(i):i.fieldFilter!==void 0?function(n){return $t.create(fo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(a=>mT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(i):ze()}function CD(i){return mD[i]}function DD(i){return gD[i]}function ID(i){return pD[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return Rn.fromServerFormat(i.fieldPath)}function gT(i){return i instanceof $t?function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(U_(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(U_(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:DD(n.op),value:n.value}}}(i):i instanceof $r?function(n){const a=n.getFilters().map(o=>gT(o));return a.length===1?a[0]:{compositeFilter:{op:ID(n.op),filters:a}}}(i):ze()}function pT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,a,o,u=Ue.min(),f=Ue.min(),m=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Tt=e}}function ND(i){const e=wD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.Tn=new xD}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ba.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class xD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Xt(xt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(yT,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new wo(0)}static Un(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="LruGarbageCollector",VD=1048576;function e0([i,e],[n,a]){const o=tt(i,n);return o===0?tt(e,a):o}class LD{constructor(e){this.Hn=e,this.buffer=new Xt(e0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();e0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee(W_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?Ee(W_,"Ignoring IndexedDB error during garbage collection: ",n):await vh(n)}await this.er(3e5)})}}class UD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(_h.ae);const a=new LD(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(J_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(a=A,m=Date.now(),this.removeTargets(e,a,n))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(y=Date.now(),uo()<=Ke.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function kD(i,e){return new UD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.changes=new bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&ql(a.mutation,o,ga.empty(),Mn.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,rt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=rt()){const o=ds();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Ul();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=ds();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,rt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=Ca();const f=Hl(),m=function(){return Hl()}();return n.forEach((g,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Rh)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ql(E.mutation,y,E.mutation.getFieldMask(),Mn.now())):f.set(y.key,ga.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var A;return m.set(y,new jD(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Hl();let o=new Ut((f,m)=>f-m),u=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=a.get(g)||ga.empty();E=m.applyToLocalView(y,E),a.set(g,E);const A=(o.get(m.batchId)||rt()).add(g);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=nT();E.forEach(C=>{if(!u.has(C)){const R=sT(n.get(C),a.get(C));R!==null&&A.set(C,R),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ne.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Ne.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ne.resolve(ds());let m=Yl,g=u;return f.next(y=>ne.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{g=g.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,rt())).next(E=>({batchId:m,changes:X2(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(a=>{let o=Ul();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,g=>{const y=function(A,C){return new Sh(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(E=>{E.forEach((A,C)=>{f=f.insert(A,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,_n.newInvalidDocument(E)))});let m=Ul();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&ql(E.mutation,y,ga.empty(),Mn.now()),Ah(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yo(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:ND(o.bundledQuery),readTime:yo(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.overlays=new Ut(Ne.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ds();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const o=ds(),u=n.length+1,f=new Ne(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Ut((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=ds(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ds(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ne.resolve(m)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new uD(n,a));let u=this.Rr.get(n);u===void 0&&(u=rt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.Vr=new Xt(rn.mr),this.gr=new Xt(rn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new rn(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new rn(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new Ne(new xt([])),a=new rn(n,e),o=new rn(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ne(new xt([])),a=new rn(n,e),o=new rn(n,e+1);let u=rt();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new rn(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ne.comparator(e.key,n.key)||tt(e.Cr,n.Cr)}static pr(e,n){return tt(e.Cr,n.Cr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(rn.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lD(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?b2:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(tt);return n.forEach(o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),ne.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ne.isDocumentKey(u)||(u=u.child(""));const f=new rn(new Ne(u),0);let m=new Xt(tt);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),ne.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Rt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ne.forEach(n.mutations,o=>{const u=new rn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new rn(n,0),o=this.Mr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.kr=e,this.docs=function(){return new Ut(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let a=Ca();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Ca();const f=n.path,m=new Ne(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||_2(v2(E),a)<=0||(o.has(E.key)||Ah(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,a,o){ze()}qr(e,n){return ne.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new QD(this)}getSize(e){return ne.resolve(this.size)}}class QD extends zD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.persistence=e,this.Qr=new bs(n=>Wm(n),eg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ag,this.targetCount=0,this.Ur=wo.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new _h(0),this.zr=!1,this.zr=!0,this.jr=new FD,this.referenceDelegate=e(this),this.Hr=new YD(this),this.indexManager=new MD,this.remoteDocumentCache=function(o){return new KD(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new OD(n),this.Yr=new HD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new GD(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){Ee("MemoryPersistence","Starting transaction:",e);const o=new $D(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ne.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class $D extends T2{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.ti=new ag,this.ni=null}static ri(e){return new sg(e)}get ii(){if(this.ni)return this.ni;throw ze()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,a=>{const o=Ne.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ue.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.oi=new bs(a=>A2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=kD(this,n)}static ri(e,n){return new ih(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Ue.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zc(e.data.value)),n}ar(e,n,a){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=rt(),o=rt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new og(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Kw()?8:S2(En())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new XD;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(uo()<=Ke.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(uo()<=Ke.DEBUG&&Ee("QueryEngine","Query:",co(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(uo()<=Ke.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):ne.resolve())}rs(e,n){if(H_(n))return ne.resolve(null);let a=Kr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=fm(n,null,"F"),a=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=rt(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(e,fm(n,null,"F")):this.hs(e,y,n,g)}))})))}ss(e,n,a,o){return H_(n)||o.isEqual(Ue.min())?ne.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?ne.resolve(null):(uo()<=Ke.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.hs(e,f,n,y2(o,Yl)).next(m=>m))})}cs(e,n){let a=new Xt(eT(e));return n.forEach((o,u)=>{Ah(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return uo()<=Ke.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",co(n)),this.ns.getDocumentsMatchingQuery(e,n,ba.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LocalStore",JD=3e8;class WD{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new Ut(tt),this.Is=new bs(u=>Wm(u),eg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function eI(i,e,n,a){return new WD(i,e,n,a)}async function _T(i,e){const n=nt(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=rt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function ET(i){const e=nt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function tI(i,e){const n=nt(i),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,A)=>{const C=o.get(A);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let R=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?R=R.withResumeToken(dn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):E.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(E.resumeToken,a)),o=o.insert(A,R),function(X,F,$){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=JD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(C,R,E)&&m.push(n.Hr.updateTargetData(u,R))});let g=Ca(),y=rt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(nI(u,f,e.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!a.isEqual(Ue.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return ne.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function nI(i,e,n){let a=rt(),o=rt();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=Ca();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ue.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):Ee(lg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function rI(i,e){const n=nt(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,ne.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new pa(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function ym(i,e,n){const a=nt(i),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Mo(f))throw f;Ee(lg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function t0(i,e,n){const a=nt(i);let o=Ue.min(),u=rt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const A=nt(g),C=A.Is.get(E);return C!==void 0?ne.resolve(A.Ts.get(C)):A.Hr.getTargetData(y,E)}(a,f,Kr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:Ue.min(),n?u:rt())).next(m=>(iI(a,Q2(e),m),{documents:m,gs:u})))}function iI(i,e,n){let a=i.Es.get(e)||Ue.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(e,a)}class n0{constructor(){this.activeTargetIds=W2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aI{constructor(){this.ho=new n0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new n0,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="ConnectivityMonitor";class i0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(r0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function vm(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",oI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(e,n,a,o,u){const f=vm(),m=this.So(e,n.toUriEncodedString());Ee(Gd,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,a).then(y=>(Ee(Gd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw To(Gd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Co(e,n,a,o,u,f){return this.bo(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}So(e,n){const a=oI[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class cI extends lI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=vm();return new Promise((f,m)=>{const g=new VE;g.setWithCredentials(!0),g.listenOnce(LE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case kc.NO_ERROR:const E=g.getResponseJson();Ee(yn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case kc.TIMEOUT:Ee(yn,`RPC '${e}' ${u} timed out`),m(new Oe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const A=g.getStatus();if(Ee(yn,`RPC '${e}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C==null?void 0:C.error;if(R&&R.status&&R.message){const k=function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf($)>=0?$:ge.UNKNOWN}(R.status);m(new Oe(k,R.message))}else m(new Oe(ge.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Oe(ge.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Ee(yn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);Ee(yn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",y,a,15)})}Wo(e,n,a){const o=vm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=kE(),m=UE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");Ee(yn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);let C=!1,R=!1;const k=new uI({Fo:F=>{R?Ee(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(C||(Ee(yn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),Ee(yn,`RPC '${e}' stream ${o} sending:`,F),A.send(F))},Mo:()=>A.close()}),X=(F,$,ee)=>{F.listen($,oe=>{try{ee(oe)}catch(ye){setTimeout(()=>{throw ye},0)}})};return X(A,Pl.EventType.OPEN,()=>{R||(Ee(yn,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),X(A,Pl.EventType.CLOSE,()=>{R||(R=!0,Ee(yn,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),X(A,Pl.EventType.ERROR,F=>{R||(R=!0,To(yn,`RPC '${e}' stream ${o} transport errored:`,F),k.Ko(new Oe(ge.UNAVAILABLE,"The operation could not be completed")))}),X(A,Pl.EventType.MESSAGE,F=>{var $;if(!R){const ee=F.data[0];Rt(!!ee);const oe=ee,ye=(oe==null?void 0:oe.error)||(($=oe[0])===null||$===void 0?void 0:$.error);if(ye){Ee(yn,`RPC '${e}' stream ${o} received error:`,ye);const ue=ye.status;let U=function(b){const I=qt[b];if(I!==void 0)return lT(I)}(ue),N=ye.message;U===void 0&&(U=ge.INTERNAL,N="Unknown error status: "+ue+" with message "+ye.message),R=!0,k.Ko(new Oe(U,N)),A.close()}else Ee(yn,`RPC '${e}' stream ${o} received:`,ee),k.Uo(ee)}}),X(m,PE.STAT_EVENT,F=>{F.stat===am.PROXY?Ee(yn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===am.NOPROXY&&Ee(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(i){return new yD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="PersistentStream";class hI{constructor(e,n,a,o,u,f,m,g){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ST(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new Oe(ge.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ee(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fI extends hI{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=SD(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ue.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ue.min():f.readTime?yo(f.readTime):Ue.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Z_(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=hm(g)?{documents:bD(u,g)}:{query:AD(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_D(u,f.resumeToken);const y=gm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ue.min())>0){m.readTime=vD(u,f.snapshotVersion.toTimestamp());const y=gm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=RD(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Z_(this.serializer),n.removeTarget=e,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{}class mI extends dI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,pm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(ge.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,pm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Oe(ge.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class gI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ci(n),this.N_=!1):Ee("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="RemoteStore";class pI{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{uu(this)&&(Ee(Ro,"Restarting streams for network reachability change."),await async function(g){const y=nt(g);y.W_.add(4),await lu(y),y.j_.set("Unknown"),y.W_.delete(4),await Dh(y)}(this))})}),this.j_=new gI(a,o)}}async function Dh(i){if(uu(i))for(const e of i.G_)await e(!0)}async function lu(i){for(const e of i.G_)await e(!1)}function bT(i,e){const n=nt(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),fg(n)?hg(n):xo(n).c_()&&cg(n,e))}function ug(i,e){const n=nt(i),a=xo(n);n.U_.delete(e),a.c_()&&AT(n,e),n.U_.size===0&&(a.c_()?a.P_():uu(n)&&n.j_.set("Unknown"))}function cg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(i).y_(e)}function AT(i,e){i.H_.Ne(e),xo(i).w_(e)}function hg(i){i.H_=new dD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.j_.B_()}function fg(i){return uu(i)&&!xo(i).u_()&&i.U_.size>0}function uu(i){return nt(i).W_.size===0}function wT(i){i.H_=void 0}async function yI(i){i.j_.set("Online")}async function vI(i){i.U_.forEach((e,n)=>{cg(i,e)})}async function _I(i,e){wT(i),fg(i)?(i.j_.q_(e),hg(i)):i.j_.set("Unknown")}async function EI(i,e,n){if(i.j_.set("Online"),e instanceof cT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(a){Ee(Ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await s0(i,a)}else if(e instanceof Bc?i.H_.We(e):e instanceof uT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ue.min()))try{const a=await ET(i.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(dn.EMPTY_BYTE_STRING,E.snapshotVersion)),AT(u,g);const A=new pa(E.target,g,y,E.sequenceNumber);cg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){Ee(Ro,"Failed to raise snapshot:",a),await s0(i,a)}}async function s0(i,e,n){if(!Mo(e))throw e;i.W_.add(1),await lu(i),i.j_.set("Offline"),n||(n=()=>ET(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Ee(Ro,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Dh(i)})}async function o0(i,e){const n=nt(i);n.asyncQueue.verifyOperationInProgress(),Ee(Ro,"RemoteStore received new credentials");const a=uu(n);n.W_.add(3),await lu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Dh(n)}async function TI(i,e){const n=nt(i);e?(n.W_.delete(2),await Dh(n)):e||(n.W_.add(2),await lu(n),n.j_.set("Unknown"))}function xo(i){return i.J_||(i.J_=function(n,a,o){const u=nt(n);return u.M_(),new fI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:yI.bind(null,i),No:vI.bind(null,i),Lo:_I.bind(null,i),p_:EI.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),fg(i)?hg(i):i.j_.set("Unknown")):(await i.J_.stop(),wT(i))})),i.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new dg(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RT(i,e){if(Ci("AsyncQueue",`${e}: ${i}`),Mo(i))return new Oe(ge.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ne.comparator(n.key,a.key):(n,a)=>Ne.comparator(n.key,a.key),this.keyedMap=Ul(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new vo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Z_=new Ut(Ne.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ze():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class Co{constructor(e,n,a,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Co(e,n,vo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bI{constructor(){this.queries=u0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=nt(n),u=o.queries;o.queries=u0(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(a)})})(this,new Oe(ge.ABORTED,"Firestore shutting down"))}}function u0(){return new bs(i=>WE(i),bh)}async function AI(i,e){const n=nt(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new SI,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=RT(f,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&mg(n)}async function wI(i,e){const n=nt(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function RI(i,e){const n=nt(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&mg(n)}function CI(i,e,n){const a=nt(i),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function mg(i){i.ia.forEach(e=>{e.next()})}var _m,c0;(c0=_m||(_m={}))._a="default",c0.Cache="cache";class DI{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Co(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.key=e}}class DT{constructor(e){this.key=e}}class II{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=rt(),this.mutatedKeys=rt(),this.ya=eT(e),this.wa=new vo(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new l0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const C=o.get(E),R=Ah(this.query,A)?A:null,k=!!C&&this.mutatedKeys.has(C.key),X=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let F=!1;C&&R?C.data.isEqual(R.data)?k!==X&&(a.track({type:3,doc:R}),F=!0):this.va(C,R)||(a.track({type:2,doc:R}),F=!0,(g&&this.ya(R,g)>0||y&&this.ya(R,y)<0)&&(m=!0)):!C&&R?(a.track({type:0,doc:R}),F=!0):C&&!R&&(a.track({type:1,doc:C}),F=!0,(g||y)&&(m=!0)),F&&(R?(f=f.add(R),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,A)=>function(R,k){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return X(R)-X(k)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Co(this.query,e.wa,u,f,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new l0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=rt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new DT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new CT(a))}),n}Oa(e){this.fa=e.gs,this.pa=rt();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Co.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const gg="SyncEngine";class OI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class NI{constructor(e){this.key=e,this.Ba=!1}}class MI{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new bs(m=>WE(m),bh),this.qa=new Map,this.Qa=new Set,this.$a=new Ut(Ne.comparator),this.Ka=new Map,this.Ua=new ag,this.Wa={},this.Ga=new Map,this.za=wo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function xI(i,e,n=!0){const a=xT(i);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await IT(a,e,n,!0),o}async function VI(i,e){const n=xT(i);await IT(n,e,!0,!1)}async function IT(i,e,n,a){const o=await rI(i.localStore,Kr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await LI(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&bT(i.remoteStore,o),m}async function LI(i,e,n,a,o){i.Ha=(A,C,R)=>async function(X,F,$,ee){let oe=F.view.Sa($);oe.ls&&(oe=await t0(X.localStore,F.query,!1).then(({documents:N})=>F.view.Sa(N,oe)));const ye=ee&&ee.targetChanges.get(F.targetId),ue=ee&&ee.targetMismatches.get(F.targetId)!=null,U=F.view.applyChanges(oe,X.isPrimaryClient,ye,ue);return f0(X,F.targetId,U.Ma),U.snapshot}(i,A,C,R);const u=await t0(i.localStore,e,!0),f=new II(e,u.gs),m=f.Sa(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);f0(i,n,y.Ma);const E=new OI(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),y.snapshot}async function PI(i,e,n){const a=nt(i),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!bh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&ug(a.remoteStore,o.targetId),Em(a,o.targetId)}).catch(vh)):(Em(a,o.targetId),await ym(a.localStore,o.targetId,!0))}async function UI(i,e){const n=nt(i),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),ug(n.remoteStore,a.targetId))}async function OT(i,e){const n=nt(i);try{const a=await tI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Rt(f.Ba):o.removedDocuments.size>0&&(Rt(f.Ba),f.Ba=!1))}),await MT(n,a,e)}catch(a){await vh(a)}}function h0(i,e,n){const a=nt(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=nt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,A)=>{for(const C of A.ta)C.sa(m)&&(y=!0)}),y&&mg(g)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function kI(i,e,n){const a=nt(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ka.get(e),u=o&&o.key;if(u){let f=new Ut(Ne.comparator);f=f.insert(u,_n.newNoDocument(u,Ue.min()));const m=rt().add(u),g=new Ch(Ue.min(),new Map,new Ut(tt),f,m);await OT(a,g),a.$a=a.$a.remove(u),a.Ka.delete(e),pg(a)}else await ym(a.localStore,e,!1).then(()=>Em(a,e,n)).catch(vh)}function Em(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.qa.get(e))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(a=>{i.Ua.containsKey(a)||NT(i,a)})}function NT(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(ug(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),pg(i))}function f0(i,e,n){for(const a of n)a instanceof CT?(i.Ua.addReference(a.key,e),zI(i,a)):a instanceof DT?(Ee(gg,"Document no longer in limbo: "+a.key),i.Ua.removeReference(a.key,e),i.Ua.containsKey(a.key)||NT(i,a.key)):ze()}function zI(i,e){const n=e.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(Ee(gg,"New document in limbo: "+n),i.Qa.add(a),pg(i))}function pg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Ne(xt.fromString(e)),a=i.za.next();i.Ka.set(a,new NI(n)),i.$a=i.$a.insert(n,a),bT(i.remoteStore,new pa(Kr(tg(n.path)),a,"TargetPurposeLimboResolution",_h.ae))}}async function MT(i,e,n){const a=nt(i),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,g)=>{f.push(a.Ha(g,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const A=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){o.push(y);const A=og.Yi(g.targetId,y);u.push(A)}}))}),await Promise.all(f),a.La.p_(o),await async function(g,y){const E=nt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ne.forEach(y,C=>ne.forEach(C.Hi,R=>E.persistence.referenceDelegate.addReference(A,C.targetId,R)).next(()=>ne.forEach(C.Ji,R=>E.persistence.referenceDelegate.removeReference(A,C.targetId,R)))))}catch(A){if(!Mo(A))throw A;Ee(lg,"Failed to update sequence numbers: "+A)}for(const A of y){const C=A.targetId;if(!A.fromCache){const R=E.Ts.get(C),k=R.snapshotVersion,X=R.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(C,X)}}}(a.localStore,u))}async function jI(i,e){const n=nt(i);if(!n.currentUser.isEqual(e)){Ee(gg,"User change. New user:",e.toKey());const a=await _T(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new Oe(ge.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await MT(n,a.Rs)}}function BI(i,e){const n=nt(i),a=n.Ka.get(e);if(a&&a.Ba)return rt().add(a.key);{let o=rt();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function xT(i){const e=nt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kI.bind(null,e),e.La.p_=RI.bind(null,e.eventManager),e.La.Ja=CI.bind(null,e.eventManager),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=TT(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return eI(this.persistence,new ZD,e.initialUser,this.serializer)}Xa(e){return new vT(sg.ri,this.serializer)}Za(e){return new aI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class HI extends ah{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Rt(this.persistence.referenceDelegate instanceof ih);const a=this.persistence.referenceDelegate.garbageCollector;return new PD(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new vT(a=>ih.ri(a,n),this.serializer)}}class Tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>h0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await TI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bI}()}createDatastore(e){const n=TT(e.databaseInfo.databaseId),a=function(u){return new cI(u)}(e.databaseInfo);return function(u,f,m,g){return new mI(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new pI(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>h0(this.syncEngine,n,0),function(){return i0.D()?new i0:new sI}())}createSyncEngine(e,n){return function(o,u,f,m,g,y,E){const A=new MI(o,u,f,m,g,y);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=nt(o);Ee(Ro,"RemoteStore shutting down."),u.W_.add(5),await lu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class FI{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=jE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{Ee(Da,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(Ee(Da,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=RT(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Qd(i,e){i.asyncQueue.verifyOperationInProgress(),Ee(Da,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await _T(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function d0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await GI(i);Ee(Da,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>o0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>o0(e.remoteStore,o)),i._onlineComponents=e}async function GI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ee(Da,"Using user provided OfflineComponentProvider");try{await Qd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ge.FAILED_PRECONDITION||o.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Qd(i,new ah)}}else Ee(Da,"Using default OfflineComponentProvider"),await Qd(i,new HI(void 0));return i._offlineComponents}async function KI(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ee(Da,"Using user provided OnlineComponentProvider"),await d0(i,i._uninitializedComponentsProvider._online)):(Ee(Da,"Using default OnlineComponentProvider"),await d0(i,new Tm))),i._onlineComponents}async function QI(i){const e=await KI(i),n=e.eventManager;return n.onListen=xI.bind(null,e.syncEngine),n.onUnlisten=PI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UI.bind(null,e.syncEngine),n}function YI(i,e,n={}){const a=new gs;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new qI({next:C=>{E.su(),f.enqueueAndForget(()=>wI(u,A));const R=C.docs.has(m);!R&&C.fromCache?y.reject(new Oe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&C.fromCache&&g&&g.source==="server"?y.reject(new Oe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),A=new DI(tg(m.path),E,{includeMetadataChanges:!0,Ta:!0});return AI(u,A)}(await QI(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(i,e,n){if(!n)throw new Oe(ge.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function XI(i,e,n,a){if(e===!0&&a===!0)throw new Oe(ge.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function g0(i){if(!Ne.isDocumentKey(i))throw new Oe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ZI(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ze()}function Sm(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Oe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ZI(i);throw new Oe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firestore.googleapis.com",p0=!0;class y0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=p0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:p0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VD)throw new Oe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new u2;switch(a.type){case"firstParty":return new d2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Oe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=m0.get(n);a&&(Ee("ComponentProvider","Removing Datastore"),m0.delete(n),a.terminate())}(this),Promise.resolve()}}function JI(i,e,n,a={}){var o;const u=(i=Sm(i,yg))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==LT&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!ys(g,f)&&(i._setSettings(g),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=vn.MOCK_USER;else{y=zw(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new Oe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new vn(A)}i._authCredentials=new c2(new zE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new vg(this.firestore,e,this._query)}}class Ai{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ai(this.firestore,e,this._key)}}class Jl extends vg{constructor(e,n,a){super(e,n,tg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ai(this.firestore,null,new Ne(e))}withConverter(e){return new Jl(this.firestore,e,this._path)}}function bm(i,e,...n){if(i=Ii(i),arguments.length===1&&(e=jE.newId()),$I("doc","path",e),i instanceof yg){const a=xt.fromString(e,...n);return g0(a),new Ai(i,null,new Ne(a))}{if(!(i instanceof Ai||i instanceof Jl))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(xt.fromString(e,...n));return g0(a),new Ai(i.firestore,i instanceof Jl?i.converter:null,new Ne(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="AsyncQueue";class _0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ST(this,"async_queue_retry"),this.bu=()=>{const a=Kd();a&&Ee(v0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=Kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new gs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Mo(e))throw e;Ee(v0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw Ci("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=dg.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&ze()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class PT extends yg{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new _0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _0(e),this._firestoreClient=void 0,await e}}}function WI(i,e){const n=typeof i=="object"?i:J0(),a=typeof i=="string"?i:Wc,o=km(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Uw("firestore");u&&JI(o,...u)}return o}function eO(i){if(i._terminated)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||tO(i),i._firestoreClient}function tO(i){var e,n,a;const o=i._freezeSettings(),u=function(m,g,y,E){return new D2(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,VT(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new FI(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sh(dn.fromBase64String(e))}catch(n){throw new Oe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sh(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}const iO=new RegExp("[~\\*/\\[\\]]");function aO(i,e,n){if(e.search(iO)>=0)throw E0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new UT(...e.split("."))._internalPath}catch{throw E0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function E0(i,e,n,a,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new Oe(ge.INVALID_ARGUMENT,u+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sO extends kT{data(){return super.data()}}function zT(i,e){return typeof e=="string"?aO(i,e):e instanceof UT?e._internalPath:e._delegate._internalPath}class oO{convertValue(e,n="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return su(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[om].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>Pt(f.doubleValue));return new rO(u)}convertGeoPoint(e){return new nO(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Th(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new Mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=xt.fromString(e);Rt(pT(a));const o=new Xl(a.get(1),a.get(3)),u=new Ne(a.popFirst(5));return o.isEqual(n)||Ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jT extends kT{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(zT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class uO extends jT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(i){i=Sm(i,Ai);const e=Sm(i.firestore,PT);return YI(eO(e),i._key).then(n=>hO(e,i,n))}class cO extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new sh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,n)}}function hO(i,e,n){const a=n.docs.get(e._key),o=new cO(i);return new jT(i,o,e._key,a,new lO(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){No=o})(Io),_o(new vs("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new PT(new h2(a.getProvider("auth-internal")),new m2(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Oe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ea(R_,C_,e),Ea(R_,C_,"esm2017")})();var fO="firebase",dO="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ea(fO,dO,"app");const mO={apiKey:"AIzaSyAFBwhg-M1zNULUAXkZvWvQ5FQaZeYhOUg",authDomain:"boardgamecafe-dac23.firebaseapp.com",databaseURL:"https://boardgamecafe-dac23-default-rtdb.europe-west1.firebasedatabase.app",projectId:"boardgamecafe-dac23",storageBucket:"boardgamecafe-dac23.firebasestorage.app",messagingSenderId:"316696834650",appId:"1:316696834650:web:55c1c648df04acb9975e63"},BT=Z0(mO),oh=o2(BT),wm=WI(BT),gO=new Ei;function pO(){const i=Ss(),e=async()=>{pC(oh,gO).then(n=>{console.log("User signed in:",n.user),console.log("User display name:",n.user.displayName),console.log("User email:",n.user.email);const a=n.user;(async()=>{const u=await Am(bm(wm,"admins",a.uid));console.log("Checking admin document for UID:",a.uid),u.exists()?(console.log("Admin document found:",u.data()),localStorage.setItem("user",JSON.stringify(n.user)),console.log("User is an admin"),i("/spilcafeen/home")):(console.log("No admin document found for UID:",a.uid),alert("You are not an admin!"))})()}).catch(n=>{console.error("Error signing in:",n),alert("You have not signed in: "+n)})};return q.useEffect(()=>{TE(oh,n=>{if(n){const a=n.uid;console.log("Authenticated user UID:",a),(async()=>{(await Am(bm(wm,"admins",a))).exists()?(console.log("User is an admin"),i("/spilcafeen/home")):(console.log("No admin document found for UID:",a),alert("You are not an admin!"))})()}})},[i]),Z.jsxs("div",{className:"container",children:[Z.jsx("h1",{children:"Admin Login"}),Z.jsx("button",{type:"button",className:"login-button",onClick:e,children:"Login with Google"})]})}const Rm="/spilcafeen/assets/img-placeholder-ipViEH7R.jpg";var HT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T0=ya.createContext&&ya.createContext(HT),yO=["attr","size","title"];function vO(i,e){if(i==null)return{};var n=_O(i,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(n[a]=i[a])}return n}function _O(i,e){if(i==null)return{};var n={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function lh(){return lh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},lh.apply(this,arguments)}function S0(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function uh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S0(Object(n),!0).forEach(function(a){EO(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):S0(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}function EO(i,e,n){return e=TO(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function TO(i){var e=SO(i,"string");return typeof e=="symbol"?e:e+""}function SO(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function qT(i){return i&&i.map((e,n)=>ya.createElement(e.tag,uh({key:n},e.attr),qT(e.child)))}function _g(i){return e=>ya.createElement(bO,lh({attr:uh({},i.attr)},e),qT(i.child))}function bO(i){var e=n=>{var{attr:a,size:o,title:u}=i,f=vO(i,yO),m=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),ya.createElement("svg",lh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:g,style:uh(uh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ya.createElement("title",null,u),i.children)};return T0!==void 0?ya.createElement(T0.Consumer,null,n=>e(n)):e(HT)}function AO(i){return _g({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M120 72c0-39.765 32.235-72 72-72s72 32.235 72 72c0 39.764-32.235 72-72 72s-72-32.236-72-72zm254.627 1.373c-12.496-12.497-32.758-12.497-45.254 0L242.745 160H141.254L54.627 73.373c-12.496-12.497-32.758-12.497-45.254 0-12.497 12.497-12.497 32.758 0 45.255L104 213.254V480c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V368h16v112c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V213.254l94.627-94.627c12.497-12.497 12.497-32.757 0-45.254z"},child:[]}]})(i)}function wO(i){return _g({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(i)}function RO(i){return _g({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(i)}function CO({post:i}){const e=Ss();function n(){e(`/spilcafeen/update/${i.id}`)}return Z.jsxs("article",{className:"post-card",onClick:n,children:[i.image.includes("undefined")?Z.jsx("img",{className:"post-card-image",src:Rm,alt:"Placeholder image"}):Z.jsx("img",{className:"post-card-image",src:i.image,alt:i.title}),Z.jsx("p",{className:"post-card-category",children:i.genre}),Z.jsxs("div",{className:"post-card-details",children:[Z.jsxs("div",{className:"post-card-stats",children:[Z.jsxs("div",{className:"post-card-stat",children:[Z.jsx(RO,{className:"post-card-icon"}),Z.jsxs("span",{children:[i.minPlayers," - ",i.maxPlayers," Players"]})]}),Z.jsxs("div",{className:"post-card-stat",children:[Z.jsx(wO,{className:"post-card-icon"}),Z.jsxs("span",{children:[i.duration," min"]})]}),Z.jsxs("div",{className:"post-card-stat",children:[Z.jsx(AO,{className:"post-card-icon"}),Z.jsxs("span",{children:[i.age," +"]})]})]}),Z.jsx("h2",{className:"post-card-title",children:i.title}),Z.jsx("p",{className:"post-card-description",children:i.description}),Z.jsxs("p",{className:"post-card-complexity",children:[Z.jsx("strong",{children:"Complexity Level:"})," ",i.complexity]}),Z.jsxs("div",{className:"post-card-placement",children:[Z.jsx("strong",{children:"Placement in: "}),Z.jsxs("span",{children:[i.placementVestergade&&`Vestergade: ${i.placementVestergade}`,i.placementFredensgade&&i.placementVestergade&&` | Fredensgade: ${i.placementFredensgade}`,i.placementAalborg&&(i.placementVestergade||i.placementFredensgade)&&` | Aalborg: ${i.placementAalborg}`,i.placementKolding&&(i.placementVestergade||i.placementFredensgade||i.placementAalborg)&&` | Kolding: ${i.placementKolding}`]})]})]})]})}function b0(){const[i,e]=q.useState([]),[n,a]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState(2),[g,y]=q.useState(120);q.useEffect(()=>{async function R(){const F=await(await fetch("https://boardgamecafe-dac23-default-rtdb.europe-west1.firebasedatabase.app/posts.json")).json();if(F){const $=Object.keys(F).map(ee=>({id:ee,...F[ee]}));e($)}}R()},[]);const E=[...new Set(i.map(R=>R.genre))],A=i.filter(R=>{const k=R.title.toLowerCase().includes(n.toLowerCase()),X=o===""||R.genre===o,F=f===""||R.minPlayers<=f&&R.maxPlayers>=f,$=R.duration<=g;return k&&X&&F&&$}),C=R=>{y(Number(R.target.value))};return Z.jsxs("section",{className:"main-content",children:[Z.jsxs("section",{className:"search-and-filter",children:[Z.jsxs("div",{className:"search-container",children:[Z.jsx("input",{type:"text",placeholder:"Search for a game...",value:n,onChange:R=>a(R.target.value),className:"search-bar"}),Z.jsx("span",{className:"search-icon",children:""})]}),Z.jsxs("div",{className:"filters",children:[Z.jsx("strong",{children:"Filter by"}),Z.jsxs("div",{className:"filter-group",children:[Z.jsx("label",{children:"Category:"}),Z.jsxs("select",{value:o,onChange:R=>u(R.target.value),className:"filter",children:[Z.jsx("option",{value:"",children:"All Categories"}),E.map(R=>Z.jsx("option",{value:R,children:R},R))]})]}),Z.jsxs("div",{className:"filter-group",children:[Z.jsx("label",{children:"Players:"}),Z.jsxs("div",{className:"player-filter",children:[Z.jsx("button",{className:"counter-btn",onClick:()=>m(R=>Math.max(1,R-1)),children:"-"}),Z.jsx("input",{type:"number",className:"player-input",value:f,min:"1",onChange:R=>m(Number(R.target.value))}),Z.jsx("button",{className:"counter-btn",onClick:()=>m(R=>R+1),children:"+"})]})]}),Z.jsxs("div",{className:"filter-group",children:[Z.jsx("label",{children:"Max Duration:"}),Z.jsxs("div",{className:"range-slider",children:[Z.jsx("input",{type:"range",min:"0",max:"120",value:g,onChange:C,className:"range-input"}),Z.jsx("input",{type:"number",value:g,min:"0",max:"120",onChange:R=>y(Number(R.target.value)),className:"duration-input"})]})]})]})]}),Z.jsx("section",{className:"page",children:A.length>0?Z.jsx("section",{className:"grid-container",children:A.map(R=>Z.jsx(CO,{post:R},R.id))}):Z.jsx("p",{className:"no-results-message",children:"No matching results"})})]})}function FT({savePost:i,post:e}){const[n,a]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState(""),[g,y]=q.useState(""),[E,A]=q.useState(""),[C,R]=q.useState(""),[k,X]=q.useState(""),[F,$]=q.useState(""),[ee,oe]=q.useState(""),[ye,ue]=q.useState(""),[U,N]=q.useState(""),[w,b]=q.useState(""),[I,V]=q.useState(""),[z,O]=q.useState(""),[ht,pt]=q.useState("");q.useEffect(()=>{e&&(a(e.gameId),u(e.title),m(e.description),y(e.image),A(e.minPlayers),R(e.maxPlayers),X(e.duration),$(e.age),oe(e.complexity),ue(e.genre),N(e.placementVestergade),b(e.placementFredensgade),V(e.placementAalborg),O(e.placementKolding))},[e]);function se(le){le.preventDefault();const pe={gameId:n,title:o,image:g,description:f,minPlayers:E,maxPlayers:C,duration:k,age:F,complexity:ee,genre:ye,placementVestergade:U,placementFredensgade:w,placementAalborg:I,placementKolding:z};pe.gameId&&pe.title&&pe.description&&pe.image&&pe.minPlayers&&pe.maxPlayers&&pe.duration&&pe.age&&pe.complexity&&pe.genre?i(pe):pt("Please, fill in all fields.")}return Z.jsxs("form",{onSubmit:se,children:[Z.jsxs("label",{children:["Game ID",Z.jsx("input",{className:"form-input",type:"number",value:n,placeholder:"Set a unique Game ID",onChange:le=>a(le.target.value)})]}),Z.jsxs("label",{children:["Title",Z.jsx("input",{className:"form-input",type:"text",value:o,placeholder:"Type a title",onChange:le=>u(le.target.value)})]}),Z.jsxs("label",{children:["Description",Z.jsx("input",{className:"form-input",type:"text",value:f,placeholder:"Type a body text",onChange:le=>m(le.target.value)})]}),Z.jsxs("label",{children:["Image URL",Z.jsx("input",{className:"form-input",type:"text",value:g,placeholder:"https://exampleforimage.jpg",onChange:le=>y(le.target.value)}),Z.jsx("img",{className:"image-preview",src:g||Rm,alt:"Preview",onError:le=>{le.target.onerror=null,le.target.src=Rm}})]}),Z.jsxs("label",{children:["Recommended Age",Z.jsx("input",{className:"form-input",type:"number",value:F,placeholder:"Set the recommended age",onChange:le=>$(le.target.value)})]}),Z.jsxs("label",{children:["Min. Players",Z.jsx("input",{className:"form-input",type:"number",value:E,placeholder:"Type the minimum of players",onChange:le=>A(le.target.value)})]}),Z.jsxs("label",{children:["Max. Players",Z.jsx("input",{className:"form-input",type:"number",value:C,placeholder:"Type the maximum of players",onChange:le=>R(le.target.value)})]}),Z.jsxs("label",{children:["Average Duration (in min)",Z.jsx("input",{className:"form-input",type:"text",value:k,placeholder:"Type the duration of the game",onChange:le=>X(le.target.value)})]}),Z.jsxs("div",{className:"difficulty-selector",children:[Z.jsx("label",{children:"Difficulty Level (out of 5)"}),Z.jsxs("select",{id:"difficulty-level",value:ee,onChange:le=>oe(le.target.value),children:[Z.jsx("option",{value:"",children:"Select difficulty"}),Z.jsx("option",{value:"1",children:"1"}),Z.jsx("option",{value:"2",children:"2"}),Z.jsx("option",{value:"3",children:"3"}),Z.jsx("option",{value:"4",children:"4"}),Z.jsx("option",{value:"5",children:"5"})]})]}),Z.jsxs("label",{children:["Category",Z.jsx("input",{className:"form-input",type:"text",value:ye,placeholder:"Set the Category",onChange:le=>ue(le.target.value)})]}),Z.jsxs("label",{children:["Placement in Vestergade",Z.jsx("input",{className:"form-input",type:"text",value:U,placeholder:"Type the Shelf Placement",onChange:le=>N(le.target.value)})]}),Z.jsxs("label",{children:["Placement in Fredensgade",Z.jsx("input",{className:"form-input",type:"text",value:w,placeholder:"Type the Shelf Placement",onChange:le=>b(le.target.value)})]}),Z.jsxs("label",{children:["Placement in Aalborg",Z.jsx("input",{className:"form-input",type:"text",value:I,placeholder:"Type the Shelf Placement",onChange:le=>V(le.target.value)})]}),Z.jsxs("label",{children:["Placement in Kolding",Z.jsx("input",{className:"form-input",type:"text",value:z,placeholder:"Type the Shelf Placement",onChange:le=>O(le.target.value)})]}),Z.jsx("p",{className:"text-error",children:ht}),Z.jsx("button",{type:"submit",children:"Save"})]})}function DO(){const i=Ss();async function e(n){const o=await fetch("https://boardgamecafe-dac23-default-rtdb.europe-west1.firebasedatabase.app/posts.json",{method:"POST",body:JSON.stringify(n)});if(o.ok){const u=await o.json();console.log("New post created: ",u),i("/spilcafeen/")}else console.log("Sorry, something went wrong")}return Z.jsxs("section",{className:"page",children:[Z.jsx("h1",{children:"Create New Post"}),Z.jsx(FT,{savePost:e})]})}function IO(){const[i,e]=q.useState(null),n=RA(),a=Ss(),o=`https://boardgamecafe-dac23-default-rtdb.europe-west1.firebasedatabase.app/posts/${n.postId}.json`;q.useEffect(()=>{async function m(){try{const g=await fetch(o);if(!g.ok)throw new Error(" Failed to fetch post");const y=await g.json();y?e(y):console.warn(" Post not found!")}catch(g){console.error(" Error fetching post:",g)}}m()},[o]);async function u(m){if(!m||Object.keys(m).length===0){console.error(" postToUpdate is empty or undefined!"),alert("Post data is missing! Please check the form.");return}try{const g=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),y=await g.json();g.ok?a("/spilcafeen/"):alert("Failed to update post. Check console for details.")}catch{alert("Error updating post. Check console for details.")}}async function f(){if(!i){alert("Cannot delete a post that does not exist.");return}if(window.confirm(`Do you want to delete post, ${i==null?void 0:i.title}?`))try{(await fetch(o,{method:"DELETE"})).ok?a("/spilcafeen/"):alert("Failed to delete post.")}catch{alert("Error deleting post.")}}return Z.jsxs("section",{className:"page",children:[Z.jsx("h1",{children:"Update Post"}),i?Z.jsxs(Z.Fragment,{children:[Z.jsx(FT,{post:i,savePost:u}),Z.jsx("button",{className:"btn-delete",onClick:f,children:"Delete Post"})]}):Z.jsx("p",{children:"Loading post..."})]})}const OO="/spilcafeen/assets/logo-Dr2I5K8-.svg";function NO(){const i=Ss();async function e(){try{await X1(oh),console.log("User logged out successfully!"),i("/spilcafeen/")}catch(n){console.error("Error signing out: ",n),alert("Error signing out: "+n.message)}}return Z.jsx("p",{children:Z.jsx("button",{className:"logout-button",type:"button",onClick:e,children:"Logout"})})}function MO(){return Z.jsxs("nav",{children:[Z.jsx("img",{src:OO,alt:"Logo",className:"logo"}),Z.jsxs("div",{className:"nav-links",children:[Z.jsx(Gc,{to:"",className:"nav-link",children:"Posts"}),Z.jsx(Gc,{to:"create",className:"nav-link",children:"Create"})]}),Z.jsxs("div",{className:"logout-container",children:[Z.jsx(NO,{})," "]})]})}function xO(){return Z.jsxs(Z.Fragment,{children:[Z.jsx(MO,{}),Z.jsx("main",{children:Z.jsx(FA,{})})]})}const VO=()=>{const[i,e]=q.useState(null),[n,a]=q.useState(!1);q.useEffect(()=>{const u=TE(oh,async f=>{f?(e(f),(await Am(bm(wm,"admins",f.uid))).exists()?a(!0):a(!1)):(e(null),a(!1))});return()=>u()},[]);const o=gw([{path:"/spilcafeen/",element:Z.jsx(xO,{}),children:[{index:!0,element:i?Z.jsx(b0,{}):Z.jsx(pO,{})},{path:"home",element:i?Z.jsx(b0,{}):Z.jsx(Vd,{to:"/spilcafeen/"})},{path:"create",element:i&&n?Z.jsx(DO,{}):Z.jsx(Vd,{to:"/spilcafeen/home"})},{path:"/spilcafeen/update/:postId",element:i&&n?Z.jsx(IO,{}):Z.jsx(Vd,{to:"/spilcafeen/home"})}]}]);return Z.jsx(Dw,{router:o})};Ab.createRoot(document.getElementById("root")).render(Z.jsx(ya.StrictMode,{children:Z.jsx(VO,{})}));
