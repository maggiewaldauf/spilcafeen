(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function S0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Sd={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function fb(){if(yv)return Dl;yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var vv;function mb(){return vv||(vv=1,Sd.exports=fb()),Sd.exports}var W=mb(),bd={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function gb(){if(_v)return ke;_v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function C(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,X={};function q(x,ie,Te){this.props=x,this.context=ie,this.refs=X,this.updater=Te||R}q.prototype.isReactComponent={},q.prototype.setState=function(x,ie){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ie,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function $(){}$.prototype=q.prototype;function ee(x,ie,Te){this.props=x,this.context=ie,this.refs=X,this.updater=Te||R}var oe=ee.prototype=new $;oe.constructor=ee,k(oe,q.prototype),oe.isPureReactComponent=!0;var ye=Array.isArray,ue={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function N(x,ie,Te,fe,de,Ve){return Te=Ve.ref,{$$typeof:i,type:x,key:ie,ref:Te!==void 0?Te:null,props:Ve}}function w(x,ie){return N(x.type,ie,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function I(x){var ie={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Te){return ie[Te]})}var V=/\/+/g;function z(x,ie){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):ie.toString(36)}function O(){}function ht(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(O,O):(x.status="pending",x.then(function(ie){x.status==="pending"&&(x.status="fulfilled",x.value=ie)},function(ie){x.status==="pending"&&(x.status="rejected",x.reason=ie)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function pt(x,ie,Te,fe,de){var Ve=typeof x;(Ve==="undefined"||Ve==="boolean")&&(x=null);var Me=!1;if(x===null)Me=!0;else switch(Ve){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(x.$$typeof){case i:case e:Me=!0;break;case E:return Me=x._init,pt(Me(x._payload),ie,Te,fe,de)}}if(Me)return de=de(x),Me=fe===""?"."+z(x,0):fe,ye(de)?(Te="",Me!=null&&(Te=Me.replace(V,"$&/")+"/"),pt(de,ie,Te,"",function(bt){return bt})):de!=null&&(b(de)&&(de=w(de,Te+(de.key==null||x&&x.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+Me)),ie.push(de)),1;Me=0;var Ct=fe===""?".":fe+":";if(ye(x))for(var $e=0;$e<x.length;$e++)fe=x[$e],Ve=Ct+z(fe,$e),Me+=pt(fe,ie,Te,Ve,de);else if($e=C(x),typeof $e=="function")for(x=$e.call(x),$e=0;!(fe=x.next()).done;)fe=fe.value,Ve=Ct+z(fe,$e++),Me+=pt(fe,ie,Te,Ve,de);else if(Ve==="object"){if(typeof x.then=="function")return pt(ht(x),ie,Te,fe,de);throw ie=String(x),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(x,ie,Te){if(x==null)return x;var fe=[],de=0;return pt(x,fe,"","",function(Ve){return ie.call(Te,Ve,de++)}),fe}function le(x){if(x._status===-1){var ie=x._result;ie=ie(),ie.then(function(Te){(x._status===0||x._status===-1)&&(x._status=1,x._result=Te)},function(Te){(x._status===0||x._status===-1)&&(x._status=2,x._result=Te)}),x._status===-1&&(x._status=0,x._result=ie)}if(x._status===1)return x._result.default;throw x._result}var pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function He(){}return ke.Children={map:se,forEach:function(x,ie,Te){se(x,function(){ie.apply(this,arguments)},Te)},count:function(x){var ie=0;return se(x,function(){ie++}),ie},toArray:function(x){return se(x,function(ie){return ie})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ke.Component=q,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=ee,ke.StrictMode=a,ke.Suspense=g,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,ke.act=function(){throw Error("act(...) is not supported in production builds of React.")},ke.cache=function(x){return function(){return x.apply(null,arguments)}},ke.cloneElement=function(x,ie,Te){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var fe=k({},x.props),de=x.key,Ve=void 0;if(ie!=null)for(Me in ie.ref!==void 0&&(Ve=void 0),ie.key!==void 0&&(de=""+ie.key),ie)!U.call(ie,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ie.ref===void 0||(fe[Me]=ie[Me]);var Me=arguments.length-2;if(Me===1)fe.children=Te;else if(1<Me){for(var Ct=Array(Me),$e=0;$e<Me;$e++)Ct[$e]=arguments[$e+2];fe.children=Ct}return N(x.type,de,void 0,void 0,Ve,fe)},ke.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},ke.createElement=function(x,ie,Te){var fe,de={},Ve=null;if(ie!=null)for(fe in ie.key!==void 0&&(Ve=""+ie.key),ie)U.call(ie,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(de[fe]=ie[fe]);var Me=arguments.length-2;if(Me===1)de.children=Te;else if(1<Me){for(var Ct=Array(Me),$e=0;$e<Me;$e++)Ct[$e]=arguments[$e+2];de.children=Ct}if(x&&x.defaultProps)for(fe in Me=x.defaultProps,Me)de[fe]===void 0&&(de[fe]=Me[fe]);return N(x,Ve,void 0,void 0,null,de)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(x){return{$$typeof:m,render:x}},ke.isValidElement=b,ke.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:le}},ke.memo=function(x,ie){return{$$typeof:y,type:x,compare:ie===void 0?null:ie}},ke.startTransition=function(x){var ie=ue.T,Te={};ue.T=Te;try{var fe=x(),de=ue.S;de!==null&&de(Te,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(He,pe)}catch(Ve){pe(Ve)}finally{ue.T=ie}},ke.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},ke.use=function(x){return ue.H.use(x)},ke.useActionState=function(x,ie,Te){return ue.H.useActionState(x,ie,Te)},ke.useCallback=function(x,ie){return ue.H.useCallback(x,ie)},ke.useContext=function(x){return ue.H.useContext(x)},ke.useDebugValue=function(){},ke.useDeferredValue=function(x,ie){return ue.H.useDeferredValue(x,ie)},ke.useEffect=function(x,ie){return ue.H.useEffect(x,ie)},ke.useId=function(){return ue.H.useId()},ke.useImperativeHandle=function(x,ie,Te){return ue.H.useImperativeHandle(x,ie,Te)},ke.useInsertionEffect=function(x,ie){return ue.H.useInsertionEffect(x,ie)},ke.useLayoutEffect=function(x,ie){return ue.H.useLayoutEffect(x,ie)},ke.useMemo=function(x,ie){return ue.H.useMemo(x,ie)},ke.useOptimistic=function(x,ie){return ue.H.useOptimistic(x,ie)},ke.useReducer=function(x,ie,Te){return ue.H.useReducer(x,ie,Te)},ke.useRef=function(x){return ue.H.useRef(x)},ke.useState=function(x){return ue.H.useState(x)},ke.useSyncExternalStore=function(x,ie,Te){return ue.H.useSyncExternalStore(x,ie,Te)},ke.useTransition=function(){return ue.H.useTransition()},ke.version="19.0.0",ke}var Ev;function Tm(){return Ev||(Ev=1,bd.exports=gb()),bd.exports}var K=Tm();const qr=S0(K);var Ad={exports:{}},Il={},wd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function pb(){return Tv||(Tv=1,function(i){function e(se,le){var pe=se.length;se.push(le);e:for(;0<pe;){var He=pe-1>>>1,x=se[He];if(0<o(x,le))se[He]=le,se[pe]=x,pe=He;else break e}}function n(se){return se.length===0?null:se[0]}function a(se){if(se.length===0)return null;var le=se[0],pe=se.pop();if(pe!==le){se[0]=pe;e:for(var He=0,x=se.length,ie=x>>>1;He<ie;){var Te=2*(He+1)-1,fe=se[Te],de=Te+1,Ve=se[de];if(0>o(fe,pe))de<x&&0>o(Ve,fe)?(se[He]=Ve,se[de]=pe,He=de):(se[He]=fe,se[Te]=pe,He=Te);else if(de<x&&0>o(Ve,pe))se[He]=Ve,se[de]=pe,He=de;else break e}}return le}function o(se,le){var pe=se.sortIndex-le.sortIndex;return pe!==0?pe:se.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,C=3,R=!1,k=!1,X=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function oe(se){for(var le=n(y);le!==null;){if(le.callback===null)a(y);else if(le.startTime<=se)a(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(y)}}function ye(se){if(X=!1,oe(se),!k)if(n(g)!==null)k=!0,ht();else{var le=n(y);le!==null&&pt(ye,le.startTime-se)}}var ue=!1,U=-1,N=5,w=-1;function b(){return!(i.unstable_now()-w<N)}function I(){if(ue){var se=i.unstable_now();w=se;var le=!0;try{e:{k=!1,X&&(X=!1,$(U),U=-1),R=!0;var pe=C;try{t:{for(oe(se),A=n(g);A!==null&&!(A.expirationTime>se&&b());){var He=A.callback;if(typeof He=="function"){A.callback=null,C=A.priorityLevel;var x=He(A.expirationTime<=se);if(se=i.unstable_now(),typeof x=="function"){A.callback=x,oe(se),le=!0;break t}A===n(g)&&a(g),oe(se)}else a(g);A=n(g)}if(A!==null)le=!0;else{var ie=n(y);ie!==null&&pt(ye,ie.startTime-se),le=!1}}break e}finally{A=null,C=pe,R=!1}le=void 0}}finally{le?V():ue=!1}}}var V;if(typeof ee=="function")V=function(){ee(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,O=z.port2;z.port1.onmessage=I,V=function(){O.postMessage(null)}}else V=function(){q(I,0)};function ht(){ue||(ue=!0,V())}function pt(se,le){U=q(function(){se(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){k||R||(k=!0,ht())},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(se){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var pe=C;C=le;try{return se()}finally{C=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,le){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=C;C=se;try{return le()}finally{C=pe}},i.unstable_scheduleCallback=function(se,le,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,se){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=pe+x,se={id:E++,callback:le,priorityLevel:se,startTime:pe,expirationTime:x,sortIndex:-1},pe>He?(se.sortIndex=pe,e(y,se),n(g)===null&&se===n(y)&&(X?($(U),U=-1):X=!0,pt(ye,pe-He))):(se.sortIndex=x,e(g,se),k||R||(k=!0,ht())),se},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(se){var le=C;return function(){var pe=C;C=le;try{return se.apply(this,arguments)}finally{C=pe}}}}(Rd)),Rd}var Sv;function yb(){return Sv||(Sv=1,wd.exports=pb()),wd.exports}var Cd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function vb(){if(bv)return pn;bv=1;var i=Tm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},pn.flushSync=function(g){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=E,a.d.f()}},pn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},pn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},pn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:R}):E==="script"&&a.d.X(g,{crossOrigin:A,integrity:C,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},pn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);a.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},pn.requestFormReset=function(g){a.d.r(g)},pn.unstable_batchedUpdates=function(g,y){return g(y)},pn.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},pn.useFormStatus=function(){return f.H.useHostTransitionStatus()},pn.version="19.0.0",pn}var Av;function b0(){if(Av)return Cd.exports;Av=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cd.exports=vb(),Cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function _b(){if(wv)return Il;wv=1;var i=yb(),e=Tm(),n=b0();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),ye=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case X:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case k:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return r=t.displayName||null,r!==null?r:w(t.type)||"Memo";case ee:r=t._payload,t=t._init;try{return w(t(r))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,z;function O(t){if(V===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+z}var ht=!1;function pt(t,r){if(!t||ht)return"";ht=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Z){var Q=Z}Reflect.construct(t,[],re)}else{try{re.call()}catch(Z){Q=Z}t.call(re.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),P=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===P.length)for(l=D.length-1,h=P.length-1;1<=l&&0<=h&&D[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==P[h]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{ht=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?O(s):""}function se(t){switch(t.tag){case 26:case 27:case 5:return O(t.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return t=pt(t.type,!1),t;case 11:return t=pt(t.type.render,!1),t;case 1:return t=pt(t.type,!0),t;default:return""}}function le(t){try{var r="";do r+=se(t),t=t.return;while(t);return r}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function pe(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function He(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function x(t){if(pe(t)!==t)throw Error(a(188))}function ie(t){var r=t.alternate;if(!r){if(r=pe(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return x(h),t;if(d===l)return x(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function Te(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=Te(t),r!==null)return r;t=t.sibling}return null}var fe=Array.isArray,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},Me=[],Ct=-1;function $e(t){return{current:t}}function bt(t){0>Ct||(t.current=Me[Ct],Me[Ct]=null,Ct--)}function Le(t,r){Ct++,Me[Ct]=t.current,t.current=r}var Dt=$e(null),qn=$e(null),Cn=$e(null),mn=$e(null);function Ar(t,r){switch(Le(Cn,r),Le(qn,t),Le(Dt,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Ky(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=Ky(t),r=Qy(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}bt(Dt),Le(Dt,r)}function cr(){bt(Dt),bt(qn),bt(Cn)}function Ni(t){t.memoizedState!==null&&Le(mn,t);var r=Dt.current,s=Qy(r,t.type);r!==s&&(Le(qn,t),Le(Dt,s))}function Mi(t){qn.current===t&&(bt(Dt),bt(qn)),mn.current===t&&(bt(mn),bl._currentValue=Ve)}var xi=Object.prototype.hasOwnProperty,Zr=i.unstable_scheduleCallback,Vi=i.unstable_cancelCallback,hr=i.unstable_shouldYield,fr=i.unstable_requestPaint,an=i.unstable_now,Li=i.unstable_getCurrentPriorityLevel,ft=i.unstable_ImmediatePriority,dt=i.unstable_UserBlockingPriority,Fn=i.unstable_NormalPriority,Pi=i.unstable_LowPriority,Oa=i.unstable_IdlePriority,Gn=i.log,wr=i.unstable_setDisableYieldValue,dr=null,Ft=null;function Na(t){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(dr,t,void 0,(t.current.flags&128)===128)}catch{}}function xn(t){if(typeof Gn=="function"&&wr(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(dr,t)}catch{}}var kt=Math.clz32?Math.clz32:bs,Ui=Math.log,ki=Math.LN2;function bs(t){return t>>>=0,t===0?32:31-(Ui(t)/ki|0)|0}var Vn=128,Rr=4194304;function Dn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sn(t,r){var s=t.pendingLanes;if(s===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=Dn(s):(d&=T,d!==0?l=Dn(d):t||(_=T&~_,_!==0&&(l=Dn(_))))):(T=s&~h,T!==0?l=Dn(T):d!==0?l=Dn(d):t||(_=s&~_,_!==0&&(l=Dn(_)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:l}function Ln(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function zi(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ma(){var t=Vn;return Vn<<=1,(Vn&4194176)===0&&(Vn=128),t}function M(){var t=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),t}function j(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function F(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ae(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,P=t.hiddenUpdates;for(s=_&~s;0<s;){var J=31-kt(s),re=1<<J;T[J]=0,D[J]=-1;var Q=P[J];if(Q!==null)for(P[J]=null,J=0;J<Q.length;J++){var Z=Q[J];Z!==null&&(Z.lane&=-536870913)}s&=~re}l!==0&&me(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function me(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-kt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function Se(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-kt(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function De(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ve(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:hv(t.type))}function _e(t,r){var s=de.p;try{return de.p=t,r()}finally{de.p=s}}var he=Math.random().toString(36).slice(2),Ae="__reactFiber$"+he,Re="__reactProps$"+he,Xe="__reactContainer$"+he,Tt="__reactEvents$"+he,ut="__reactListeners$"+he,Ge="__reactHandles$"+he,St="__reactResources$"+he,Tn="__reactMarker$"+he;function Pn(t){delete t[Ae],delete t[Re],delete t[Tt],delete t[ut],delete t[Ge]}function Vt(t){var r=t[Ae];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Xe]||s[Ae]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Xy(t);t!==null;){if(s=t[Ae])return s;t=Xy(t)}return r}t=s,s=t.parentNode}return null}function zt(t){if(t=t[Ae]||t[Xe]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Kn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function In(t){var r=t[St];return r||(r=t[St]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ot(t){t[Tn]=!0}var Cr=new Set,mr={};function je(t,r){lt(t,r),lt(t+"Capture",r)}function lt(t,r){for(mr[t]=r,t=0;t<r.length;t++)Cr.add(r[t])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vt={},Qn={};function xa(t){return xi.call(Qn,t)?!0:xi.call(vt,t)?!1:Jr.test(t)?Qn[t]=!0:(vt[t]=!0,!1)}function Dr(t,r,s){if(xa(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function ji(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Yn(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rh(t){var r=cu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Va(t){t._valueTracker||(t._valueTracker=Rh(t))}function xo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=cu(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wr=/[\n"\\]/g;function It(t){return t.replace(Wr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Bi(t,r,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Sn(r)):t.value!==""+Sn(r)&&(t.value=""+Sn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?ws(t,_,Sn(r)):s!=null?ws(t,_,Sn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Sn(T):t.removeAttribute("name")}function La(t,r,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;s=s!=null?""+Sn(s):"",r=r!=null?""+Sn(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function ws(t,r,s){r==="number"&&As(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function it(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Sn(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Pa(t,r,s){if(r!=null&&(r=""+Sn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Sn(s):""}function Hi(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Sn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function $n(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Ch.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function hu(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Vo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Vo(t,d,r[d])}function Lo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ih=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(t){return Ih.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xn=null;function Rs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ei=null,ti=null;function ni(t){var r=zt(t);if(r&&(t=r.stateNode)){var s=t[Re]||null;e:switch(t=r.stateNode,r.type){case"input":if(Bi(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+It(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[Re]||null;if(!h)throw Error(a(90));Bi(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&xo(l)}break e;case"textarea":Pa(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&it(t,!!s.multiple,r,!1)}}}var Po=!1;function fu(t,r,s){if(Po)return t(r,s);Po=!0;try{var l=t(r);return l}finally{if(Po=!1,(ei!==null||ti!==null)&&(rc(),ei&&(r=ei,t=ti,ti=ei=null,ni(r),t)))for(r=0;r<t.length;r++)ni(t[r])}}function Ua(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Re]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Zn=!1;if(Zt)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Zn=!1}var Or=null,qi=null,ri=null;function Uo(){if(ri)return ri;var t,r=qi,s=r.length,l,h="value"in Or?Or.value:Or.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return ri=h.slice(t,1<l?1-l:void 0)}function Nr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Mr(){return!0}function ko(){return!1}function Jt(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Mr:ko,this.isPropagationStopped=ko,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),r}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=Jt(ct),za=I({},ct,{view:0,detail:0}),du=Jt(za),Ds,Is,xr,ja=I({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xr&&(xr&&t.type==="mousemove"?(Ds=t.screenX-xr.screenX,Is=t.screenY-xr.screenY):Is=Ds=0,xr=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:Is}}),Jn=Jt(ja),mu=I({},ja,{dataTransfer:0}),Oh=Jt(mu),Ba=I({},za,{relatedTarget:0}),Os=Jt(Ba),zo=I({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),Ns=Jt(zo),gu=I({},ct,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ms=Jt(gu),Nh=I({},ct,{data:0}),jo=Jt(Nh),Ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=yu[t])?!!r[t]:!1}function qa(){return Bo}var vu=I({},za,{key:function(t){if(t.key){var r=Ha[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xs=Jt(vu),_u=I({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Jt(_u),ii=I({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Eu=Jt(ii),Tu=I({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=Jt(Tu),bu=I({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vs=Jt(bu),bn=I({},ct,{newState:0,oldState:0}),Au=Jt(bn),wu=[9,13,27,32],Vr=Zt&&"CompositionEvent"in window,c=null;Zt&&"documentMode"in document&&(c=document.documentMode);var p=Zt&&"TextEvent"in window&&!c,v=Zt&&(!Vr||c&&8<c&&11>=c),S=" ",H=!1;function Y(t,r){switch(t){case"keyup":return wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ze=!1;function Gt(t,r){switch(t){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(H=!0,S);case"textInput":return t=r.data,t===S&&H?null:t;default:return null}}function Je(t,r){if(Ze)return t==="compositionend"||!Vr&&Y(t,r)?(t=Uo(),ri=qi=Or=null,Ze=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Wt[t.type]:r==="textarea"}function ai(t,r,s,l){ei?ti?ti.push(l):ti=[l]:ei=l,r=lc(r,"onChange"),0<r.length&&(s=new Cs("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var on=null,Lr=null;function qo(t){By(t,0)}function Ru(t){var r=Kn(t);if(xo(r))return t}function pg(t,r){if(t==="change")return r}var yg=!1;if(Zt){var Mh;if(Zt){var xh="oninput"in document;if(!xh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),xh=typeof vg.oninput=="function"}Mh=xh}else Mh=!1;yg=Mh&&(!document.documentMode||9<document.documentMode)}function _g(){on&&(on.detachEvent("onpropertychange",Eg),Lr=on=null)}function Eg(t){if(t.propertyName==="value"&&Ru(Lr)){var r=[];ai(r,Lr,t,Rs(t)),fu(qo,r)}}function HT(t,r,s){t==="focusin"?(_g(),on=r,Lr=s,on.attachEvent("onpropertychange",Eg)):t==="focusout"&&_g()}function qT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Lr)}function FT(t,r){if(t==="click")return Ru(r)}function GT(t,r){if(t==="input"||t==="change")return Ru(r)}function KT(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Un=typeof Object.is=="function"?Object.is:KT;function Fo(t,r){if(Un(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!xi.call(r,h)||!Un(t[h],r[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,r){var s=Tg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tg(s)}}function bg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?bg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=As(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=As(t.document)}return r}function Vh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function QT(t,r){var s=Ag(r);r=t.focusedElem;var l=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&bg(r.ownerDocument.documentElement,r)){if(l!==null&&Vh(r)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=Sg(r,d);var _=Sg(r,l);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(t),s.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var YT=Zt&&"documentMode"in document&&11>=document.documentMode,Ls=null,Lh=null,Go=null,Ph=!1;function wg(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||Ls==null||Ls!==As(l)||(l=Ls,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=lc(Lh,"onSelect"),0<l.length&&(r=new Cs("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Ls)))}function Fa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Ps={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Uh={},Rg={};Zt&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Ga(t){if(Uh[t])return Uh[t];if(!Ps[t])return t;var r=Ps[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Rg)return Uh[t]=r[s];return t}var Cg=Ga("animationend"),Dg=Ga("animationiteration"),Ig=Ga("animationstart"),$T=Ga("transitionrun"),XT=Ga("transitionstart"),ZT=Ga("transitioncancel"),Og=Ga("transitionend"),Ng=new Map,Mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function gr(t,r){Ng.set(t,r),je(r,[t])}var Wn=[],Us=0,kh=0;function Cu(){for(var t=Us,r=kh=Us=0;r<t;){var s=Wn[r];Wn[r++]=null;var l=Wn[r];Wn[r++]=null;var h=Wn[r];Wn[r++]=null;var d=Wn[r];if(Wn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&xg(s,h,d)}}function Du(t,r,s,l){Wn[Us++]=t,Wn[Us++]=r,Wn[Us++]=s,Wn[Us++]=l,kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zh(t,r,s,l){return Du(t,r,s,l),Iu(t)}function Fi(t,r){return Du(t,null,null,r),Iu(t)}function xg(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&r!==null&&t.tag===3&&(d=t.stateNode,h=31-kt(s),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[r]:t.push(r),r.lane=s|536870912)}function Iu(t){if(50<pl)throw pl=0,Kf=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ks={},Vg=new WeakMap;function er(t,r){if(typeof t=="object"&&t!==null){var s=Vg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:le(r)},Vg.set(t,r),r)}return{value:t,source:r,stack:le(r)}}var zs=[],js=0,Ou=null,Nu=0,tr=[],nr=0,Ka=null,si=1,oi="";function Qa(t,r){zs[js++]=Nu,zs[js++]=Ou,Ou=t,Nu=r}function Lg(t,r,s){tr[nr++]=si,tr[nr++]=oi,tr[nr++]=Ka,Ka=t;var l=si;t=oi;var h=32-kt(l)-1;l&=~(1<<h),s+=1;var d=32-kt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,si=1<<32-kt(r)+h|s<<h|l,oi=d+t}else si=1<<d|s<<h|l,oi=t}function jh(t){t.return!==null&&(Qa(t,1),Lg(t,1,0))}function Bh(t){for(;t===Ou;)Ou=zs[--js],zs[js]=null,Nu=zs[--js],zs[js]=null;for(;t===Ka;)Ka=tr[--nr],tr[nr]=null,oi=tr[--nr],tr[nr]=null,si=tr[--nr],tr[nr]=null}var An=null,ln=null,at=!1,pr=null,Pr=!1,Hh=Error(a(519));function Ya(t){var r=Error(a(418,""));throw Yo(er(r,t)),Hh}function Pg(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[Ae]=t,r[Re]=l,s){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(s=0;s<vl.length;s++)Qe(vl[s],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Qe("invalid",r),La(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Va(r);break;case"select":Qe("invalid",r);break;case"textarea":Qe("invalid",r),Hi(r,l.value,l.defaultValue,l.children),Va(r)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Gy(r.textContent,s)?(l.popover!=null&&(Qe("beforetoggle",r),Qe("toggle",r)),l.onScroll!=null&&Qe("scroll",r),l.onScrollEnd!=null&&Qe("scrollend",r),l.onClick!=null&&(r.onclick=uc),r=!0):r=!1,r||Ya(t)}function Ug(t){for(An=t.return;An;)switch(An.tag){case 3:case 27:Pr=!0;return;case 5:case 13:Pr=!1;return;default:An=An.return}}function Ko(t){if(t!==An)return!1;if(!at)return Ug(t),at=!0,!1;var r=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ud(t.type,t.memoizedProps)),s=!s),s&&(r=!0),r&&ln&&Ya(t),Ug(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(r===0){ln=vr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++;t=t.nextSibling}ln=null}}else ln=An?vr(t.stateNode.nextSibling):null;return!0}function Qo(){ln=An=null,at=!1}function Yo(t){pr===null?pr=[t]:pr.push(t)}var $o=Error(a(460)),kg=Error(a(474)),qh={then:function(){}};function zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mu(){}function jg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Mu,Mu),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===$o?Error(a(483)):t;default:if(typeof r.status=="string")r.then(Mu,Mu);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===$o?Error(a(483)):t}throw Xo=r,$o}}var Xo=null;function Bg(){if(Xo===null)throw Error(a(459));var t=Xo;return Xo=null,t}var Bs=null,Zo=0;function xu(t){var r=Zo;return Zo+=1,Bs===null&&(Bs=[]),jg(Bs,t,r)}function Jo(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Vu(t,r){throw r.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Hg(t){var r=t._init;return r(t._payload)}function qg(t){function r(B,L){if(t){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function s(B,L){if(!t)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function h(B,L){return B=na(B,L),B.index=0,B.sibling=null,B}function d(B,L,G){return B.index=G,t?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=33554434,L):G):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=33554434),B}function T(B,L,G,te){return L===null||L.tag!==6?(L=kf(G,B.mode,te),L.return=B,L):(L=h(L,G),L.return=B,L)}function D(B,L,G,te){var be=G.type;return be===g?J(B,L,G.props.children,te,G.key):L!==null&&(L.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Hg(be)===L.type)?(L=h(L,G.props),Jo(L,G),L.return=B,L):(L=Ju(G.type,G.key,G.props,null,B.mode,te),Jo(L,G),L.return=B,L)}function P(B,L,G,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=zf(G,B.mode,te),L.return=B,L):(L=h(L,G.children||[]),L.return=B,L)}function J(B,L,G,te,be){return L===null||L.tag!==7?(L=is(G,B.mode,te,be),L.return=B,L):(L=h(L,G),L.return=B,L)}function re(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=kf(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case f:return G=Ju(L.type,L.key,L.props,null,B.mode,G),Jo(G,L),G.return=B,G;case m:return L=zf(L,B.mode,G),L.return=B,L;case ee:var te=L._init;return L=te(L._payload),re(B,L,G)}if(fe(L)||U(L))return L=is(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return re(B,xu(L),G);if(L.$$typeof===R)return re(B,$u(B,L),G);Vu(B,L)}return null}function Q(B,L,G,te){var be=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:T(B,L,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case f:return G.key===be?D(B,L,G,te):null;case m:return G.key===be?P(B,L,G,te):null;case ee:return be=G._init,G=be(G._payload),Q(B,L,G,te)}if(fe(G)||U(G))return be!==null?null:J(B,L,G,te,null);if(typeof G.then=="function")return Q(B,L,xu(G),te);if(G.$$typeof===R)return Q(B,L,$u(B,G),te);Vu(B,G)}return null}function Z(B,L,G,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(G)||null,T(L,B,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case f:return B=B.get(te.key===null?G:te.key)||null,D(L,B,te,be);case m:return B=B.get(te.key===null?G:te.key)||null,P(L,B,te,be);case ee:var qe=te._init;return te=qe(te._payload),Z(B,L,G,te,be)}if(fe(te)||U(te))return B=B.get(G)||null,J(L,B,te,be,null);if(typeof te.then=="function")return Z(B,L,G,xu(te),be);if(te.$$typeof===R)return Z(B,L,G,$u(L,te),be);Vu(L,te)}return null}function we(B,L,G,te){for(var be=null,qe=null,Ce=L,Ie=L=0,nn=null;Ce!==null&&Ie<G.length;Ie++){Ce.index>Ie?(nn=Ce,Ce=null):nn=Ce.sibling;var st=Q(B,Ce,G[Ie],te);if(st===null){Ce===null&&(Ce=nn);break}t&&Ce&&st.alternate===null&&r(B,Ce),L=d(st,L,Ie),qe===null?be=st:qe.sibling=st,qe=st,Ce=nn}if(Ie===G.length)return s(B,Ce),at&&Qa(B,Ie),be;if(Ce===null){for(;Ie<G.length;Ie++)Ce=re(B,G[Ie],te),Ce!==null&&(L=d(Ce,L,Ie),qe===null?be=Ce:qe.sibling=Ce,qe=Ce);return at&&Qa(B,Ie),be}for(Ce=l(Ce);Ie<G.length;Ie++)nn=Z(Ce,B,Ie,G[Ie],te),nn!==null&&(t&&nn.alternate!==null&&Ce.delete(nn.key===null?Ie:nn.key),L=d(nn,L,Ie),qe===null?be=nn:qe.sibling=nn,qe=nn);return t&&Ce.forEach(function(ua){return r(B,ua)}),at&&Qa(B,Ie),be}function Pe(B,L,G,te){if(G==null)throw Error(a(151));for(var be=null,qe=null,Ce=L,Ie=L=0,nn=null,st=G.next();Ce!==null&&!st.done;Ie++,st=G.next()){Ce.index>Ie?(nn=Ce,Ce=null):nn=Ce.sibling;var ua=Q(B,Ce,st.value,te);if(ua===null){Ce===null&&(Ce=nn);break}t&&Ce&&ua.alternate===null&&r(B,Ce),L=d(ua,L,Ie),qe===null?be=ua:qe.sibling=ua,qe=ua,Ce=nn}if(st.done)return s(B,Ce),at&&Qa(B,Ie),be;if(Ce===null){for(;!st.done;Ie++,st=G.next())st=re(B,st.value,te),st!==null&&(L=d(st,L,Ie),qe===null?be=st:qe.sibling=st,qe=st);return at&&Qa(B,Ie),be}for(Ce=l(Ce);!st.done;Ie++,st=G.next())st=Z(Ce,B,Ie,st.value,te),st!==null&&(t&&st.alternate!==null&&Ce.delete(st.key===null?Ie:st.key),L=d(st,L,Ie),qe===null?be=st:qe.sibling=st,qe=st);return t&&Ce.forEach(function(hb){return r(B,hb)}),at&&Qa(B,Ie),be}function Mt(B,L,G,te){if(typeof G=="object"&&G!==null&&G.type===g&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case f:e:{for(var be=G.key;L!==null;){if(L.key===be){if(be=G.type,be===g){if(L.tag===7){s(B,L.sibling),te=h(L,G.props.children),te.return=B,B=te;break e}}else if(L.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Hg(be)===L.type){s(B,L.sibling),te=h(L,G.props),Jo(te,G),te.return=B,B=te;break e}s(B,L);break}else r(B,L);L=L.sibling}G.type===g?(te=is(G.props.children,B.mode,te,G.key),te.return=B,B=te):(te=Ju(G.type,G.key,G.props,null,B.mode,te),Jo(te,G),te.return=B,B=te)}return _(B);case m:e:{for(be=G.key;L!==null;){if(L.key===be)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){s(B,L.sibling),te=h(L,G.children||[]),te.return=B,B=te;break e}else{s(B,L);break}else r(B,L);L=L.sibling}te=zf(G,B.mode,te),te.return=B,B=te}return _(B);case ee:return be=G._init,G=be(G._payload),Mt(B,L,G,te)}if(fe(G))return we(B,L,G,te);if(U(G)){if(be=U(G),typeof be!="function")throw Error(a(150));return G=be.call(G),Pe(B,L,G,te)}if(typeof G.then=="function")return Mt(B,L,xu(G),te);if(G.$$typeof===R)return Mt(B,L,$u(B,G),te);Vu(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(s(B,L.sibling),te=h(L,G),te.return=B,B=te):(s(B,L),te=kf(G,B.mode,te),te.return=B,B=te),_(B)):s(B,L)}return function(B,L,G,te){try{Zo=0;var be=Mt(B,L,G,te);return Bs=null,be}catch(Ce){if(Ce===$o)throw Ce;var qe=sr(29,Ce,null,B.mode);return qe.lanes=te,qe.return=B,qe}finally{}}}var $a=qg(!0),Fg=qg(!1),Hs=$e(null),Lu=$e(0);function Gg(t,r){t=vi,Le(Lu,t),Le(Hs,r),vi=t|r.baseLanes}function Fh(){Le(Lu,vi),Le(Hs,Hs.current)}function Gh(){vi=Lu.current,bt(Hs),bt(Lu)}var rr=$e(null),Ur=null;function Gi(t){var r=t.alternate;Le(Qt,Qt.current&1),Le(rr,t),Ur===null&&(r===null||Hs.current!==null||r.memoizedState!==null)&&(Ur=t)}function Kg(t){if(t.tag===22){if(Le(Qt,Qt.current),Le(rr,t),Ur===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Ur=t)}}else Ki()}function Ki(){Le(Qt,Qt.current),Le(rr,rr.current)}function li(t){bt(rr),Ur===t&&(Ur=null),bt(Qt)}var Qt=$e(0);function Pu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var JT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},WT=i.unstable_scheduleCallback,eS=i.unstable_NormalPriority,Yt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new JT,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&WT(eS,function(){t.controller.abort()})}var el=null,Qh=0,qs=0,Fs=null;function tS(t,r){if(el===null){var s=el=[];Qh=0,qs=ed(),Fs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qh++,r.then(Qg,Qg),r}function Qg(){if(--Qh===0&&el!==null){Fs!==null&&(Fs.status="fulfilled");var t=el;el=null,qs=0,Fs=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function nS(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Yg=b.S;b.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&tS(t,r),Yg!==null&&Yg(t,r)};var Xa=$e(null);function Yh(){var t=Xa.current;return t!==null?t:_t.pooledCache}function Uu(t,r){r===null?Le(Xa,Xa.current):Le(Xa,r.pool)}function $g(){var t=Yh();return t===null?null:{parent:Yt._currentValue,pool:t}}var Qi=0,Be=null,mt=null,jt=null,ku=!1,Gs=!1,Za=!1,zu=0,tl=0,Ks=null,rS=0;function Lt(){throw Error(a(321))}function $h(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Un(t[s],r[s]))return!1;return!0}function Xh(t,r,s,l,h,d){return Qi=d,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=t===null||t.memoizedState===null?Ja:Yi,Za=!1,d=s(l,h),Za=!1,Gs&&(d=Zg(r,s,l,h)),Xg(t),d}function Xg(t){b.H=kr;var r=mt!==null&&mt.next!==null;if(Qi=0,jt=mt=Be=null,ku=!1,tl=0,Ks=null,r)throw Error(a(300));t===null||en||(t=t.dependencies,t!==null&&Yu(t)&&(en=!0))}function Zg(t,r,s,l){Be=t;var h=0;do{if(Gs&&(Ks=null),tl=0,Gs=!1,25<=h)throw Error(a(301));if(h+=1,jt=mt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Wa,d=r(s,l)}while(Gs);return d}function iS(){var t=b.H,r=t.useState()[0];return r=typeof r.then=="function"?nl(r):r,t=t.useState()[0],(mt!==null?mt.memoizedState:null)!==t&&(Be.flags|=1024),r}function Zh(){var t=zu!==0;return zu=0,t}function Jh(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Wh(t){if(ku){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ku=!1}Qi=0,jt=mt=Be=null,Gs=!1,tl=zu=0,Ks=null}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Be.memoizedState=jt=t:jt=jt.next=t,jt}function Bt(){if(mt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var r=jt===null?Be.memoizedState:jt.next;if(r!==null)jt=r,mt=t;else{if(t===null)throw Be.alternate===null?Error(a(467)):Error(a(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},jt===null?Be.memoizedState=jt=t:jt=jt.next=t}return jt}var ju;ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nl(t){var r=tl;return tl+=1,Ks===null&&(Ks=[]),t=jg(Ks,t,r),r=Be,(jt===null?r.memoizedState:jt.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?Ja:Yi),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===R)return gn(t)}throw Error(a(438,String(t)))}function ef(t){var r=null,s=Be.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=ju(),Be.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=ye;return r.index++,s}function ui(t,r){return typeof r=="function"?r(t):r}function Hu(t){var r=Bt();return tf(r,mt,t)}function tf(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,D=null,P=r,J=!1;do{var re=P.lane&-536870913;if(re!==P.lane?(We&re)===re:(Qi&re)===re){var Q=P.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),re===qs&&(J=!0);else if((Qi&Q)===Q){P=P.next,Q===qs&&(J=!0);continue}else re={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=re,_=d):D=D.next=re,Be.lanes|=Q,ra|=Q;re=P.action,Za&&s(d,re),d=P.hasEagerState?P.eagerState:s(d,re)}else Q={lane:re,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(T=D=Q,_=d):D=D.next=Q,Be.lanes|=re,ra|=re;P=P.next}while(P!==null&&P!==r);if(D===null?_=d:D.next=T,!Un(d,t.memoizedState)&&(en=!0,J&&(s=Fs,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nf(t){var r=Bt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);Un(d,r.memoizedState)||(en=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Jg(t,r,s){var l=Be,h=Bt(),d=at;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!Un((mt||h).memoizedState,s);if(_&&(h.memoizedState=s,en=!0),h=h.queue,sf(tp.bind(null,l,h,t),[t]),h.getSnapshot!==r||_||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Qs(9,ep.bind(null,l,h,s,r),{destroy:void 0},null),_t===null)throw Error(a(349));d||(Qi&60)!==0||Wg(l,r,s)}return s}function Wg(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Be.updateQueue,r===null?(r=ju(),Be.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ep(t,r,s,l){r.value=s,r.getSnapshot=l,np(r)&&rp(t)}function tp(t,r,s){return s(function(){np(r)&&rp(t)})}function np(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Un(t,s)}catch{return!0}}function rp(t){var r=Fi(t,2);r!==null&&wn(r,t,2)}function rf(t){var r=On();if(typeof t=="function"){var s=t;if(t=s(),Za){xn(!0);try{s()}finally{xn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},r}function ip(t,r,s,l){return t.baseState=s,tf(t,mt,typeof l=="function"?l:ui)}function aS(t,r,s,l,h){if(Gu(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};b.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,ap(r,d)):(d.next=s.next,r.pending=s.next=d)}}function ap(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=b.T,_={};b.T=_;try{var T=s(h,l),D=b.S;D!==null&&D(_,T),sp(t,r,T)}catch(P){af(t,r,P)}finally{b.T=d}}else try{d=s(h,l),sp(t,r,d)}catch(P){af(t,r,P)}}function sp(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){op(t,r,l)},function(l){return af(t,r,l)}):op(t,r,s)}function op(t,r,s){r.status="fulfilled",r.value=s,lp(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,ap(t,s)))}function af(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,lp(r),r=r.next;while(r!==l)}t.action=null}function lp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function up(t,r){return r}function cp(t,r){if(at){var s=_t.formState;if(s!==null){e:{var l=Be;if(at){if(ln){t:{for(var h=ln,d=Pr;h.nodeType!==8;){if(!d){h=null;break t}if(h=vr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ln=vr(h.nextSibling),l=h.data==="F!";break e}}Ya(l)}l=!1}l&&(r=s[0])}}return s=On(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:r},s.queue=l,s=Dp.bind(null,Be,l),l.dispatch=s,l=rf(!1),d=hf.bind(null,Be,!1,l.queue),l=On(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=aS.bind(null,Be,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function hp(t){var r=Bt();return fp(r,mt,t)}function fp(t,r,s){r=tf(t,r,up)[0],t=Hu(ui)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?nl(r):r;var l=Bt(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Be.flags|=2048,Qs(9,sS.bind(null,h,s),{destroy:void 0},null)),[r,d,t]}function sS(t,r){t.action=r}function dp(t){var r=Bt(),s=mt;if(s!==null)return fp(r,s,t);Bt(),r=r.memoizedState,s=Bt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Qs(t,r,s,l){return t={tag:t,create:r,inst:s,deps:l,next:null},r=Be.updateQueue,r===null&&(r=ju(),Be.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function mp(){return Bt().memoizedState}function qu(t,r,s,l){var h=On();Be.flags|=t,h.memoizedState=Qs(1|r,s,{destroy:void 0},l===void 0?null:l)}function Fu(t,r,s,l){var h=Bt();l=l===void 0?null:l;var d=h.memoizedState.inst;mt!==null&&l!==null&&$h(l,mt.memoizedState.deps)?h.memoizedState=Qs(r,s,d,l):(Be.flags|=t,h.memoizedState=Qs(1|r,s,d,l))}function gp(t,r){qu(8390656,8,t,r)}function sf(t,r){Fu(2048,8,t,r)}function pp(t,r){return Fu(4,2,t,r)}function yp(t,r){return Fu(4,4,t,r)}function vp(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function _p(t,r,s){s=s!=null?s.concat([t]):null,Fu(4,4,vp.bind(null,r,t),s)}function of(){}function Ep(t,r){var s=Bt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&$h(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Tp(t,r){var s=Bt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&$h(r,l[1]))return l[0];if(l=t(),Za){xn(!0);try{t()}finally{xn(!1)}}return s.memoizedState=[l,r],l}function lf(t,r,s){return s===void 0||(Qi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=s,t=by(),Be.lanes|=t,ra|=t,s)}function Sp(t,r,s,l){return Un(s,r)?s:Hs.current!==null?(t=lf(t,s,l),Un(t,r)||(en=!0),t):(Qi&42)===0?(en=!0,t.memoizedState=s):(t=by(),Be.lanes|=t,ra|=t,r)}function bp(t,r,s,l,h){var d=de.p;de.p=d!==0&&8>d?d:8;var _=b.T,T={};b.T=T,hf(t,!1,r,s);try{var D=h(),P=b.S;if(P!==null&&P(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=nS(D,l);rl(t,r,J,Bn(t))}else rl(t,r,l,Bn(t))}catch(re){rl(t,r,{then:function(){},status:"rejected",reason:re},Bn())}finally{de.p=d,b.T=_}}function oS(){}function uf(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Ap(t).queue;bp(t,h,r,Ve,s===null?oS:function(){return wp(t),s(l)})}function Ap(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:Ve},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function wp(t){var r=Ap(t).next.queue;rl(t,r,{},Bn())}function cf(){return gn(bl)}function Rp(){return Bt().memoizedState}function Cp(){return Bt().memoizedState}function lS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Bn();t=Zi(s);var l=Ji(r,t,s);l!==null&&(wn(l,r,s),sl(l,r,s)),r={cache:Kh()},t.payload=r;return}r=r.return}}function uS(t,r,s){var l=Bn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Ip(r,s):(s=zh(t,r,s,l),s!==null&&(wn(s,t,l),Op(s,r,l)))}function Dp(t,r,s){var l=Bn();rl(t,r,s,l)}function rl(t,r,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Ip(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,Un(T,_))return Du(t,r,h,0),_t===null&&Cu(),!1}catch{}finally{}if(s=zh(t,r,h,l),s!==null)return wn(s,t,l),Op(s,r,l),!0}return!1}function hf(t,r,s,l){if(l={lane:2,revertLane:ed(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(r)throw Error(a(479))}else r=zh(t,s,l,2),r!==null&&wn(r,t,2)}function Gu(t){var r=t.alternate;return t===Be||r!==null&&r===Be}function Ip(t,r){Gs=ku=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Op(t,r,s){if((s&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Se(t,s)}}var kr={readContext:gn,use:Bu,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt};kr.useCacheRefresh=Lt,kr.useMemoCache=Lt,kr.useHostTransitionStatus=Lt,kr.useFormState=Lt,kr.useActionState=Lt,kr.useOptimistic=Lt;var Ja={readContext:gn,use:Bu,useCallback:function(t,r){return On().memoizedState=[t,r===void 0?null:r],t},useContext:gn,useEffect:gp,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,qu(4194308,4,vp.bind(null,r,t),s)},useLayoutEffect:function(t,r){return qu(4194308,4,t,r)},useInsertionEffect:function(t,r){qu(4,2,t,r)},useMemo:function(t,r){var s=On();r=r===void 0?null:r;var l=t();if(Za){xn(!0);try{t()}finally{xn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=On();if(s!==void 0){var h=s(r);if(Za){xn(!0);try{s(r)}finally{xn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=uS.bind(null,Be,t),[l.memoizedState,t]},useRef:function(t){var r=On();return t={current:t},r.memoizedState=t},useState:function(t){t=rf(t);var r=t.queue,s=Dp.bind(null,Be,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:of,useDeferredValue:function(t,r){var s=On();return lf(s,t,r)},useTransition:function(){var t=rf(!1);return t=bp.bind(null,Be,t.queue,!0,!1),On().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Be,h=On();if(at){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),_t===null)throw Error(a(349));(We&60)!==0||Wg(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,gp(tp.bind(null,l,d,t),[t]),l.flags|=2048,Qs(9,ep.bind(null,l,d,s,r),{destroy:void 0},null),s},useId:function(){var t=On(),r=_t.identifierPrefix;if(at){var s=oi,l=si;s=(l&~(1<<32-kt(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=zu++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=rS++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return On().memoizedState=lS.bind(null,Be)}};Ja.useMemoCache=ef,Ja.useHostTransitionStatus=cf,Ja.useFormState=cp,Ja.useActionState=cp,Ja.useOptimistic=function(t){var r=On();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=hf.bind(null,Be,!0,s),s.dispatch=r,[t,r]};var Yi={readContext:gn,use:Bu,useCallback:Ep,useContext:gn,useEffect:sf,useImperativeHandle:_p,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:Hu,useRef:mp,useState:function(){return Hu(ui)},useDebugValue:of,useDeferredValue:function(t,r){var s=Bt();return Sp(s,mt.memoizedState,t,r)},useTransition:function(){var t=Hu(ui)[0],r=Bt().memoizedState;return[typeof t=="boolean"?t:nl(t),r]},useSyncExternalStore:Jg,useId:Rp};Yi.useCacheRefresh=Cp,Yi.useMemoCache=ef,Yi.useHostTransitionStatus=cf,Yi.useFormState=hp,Yi.useActionState=hp,Yi.useOptimistic=function(t,r){var s=Bt();return ip(s,mt,t,r)};var Wa={readContext:gn,use:Bu,useCallback:Ep,useContext:gn,useEffect:sf,useImperativeHandle:_p,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:nf,useRef:mp,useState:function(){return nf(ui)},useDebugValue:of,useDeferredValue:function(t,r){var s=Bt();return mt===null?lf(s,t,r):Sp(s,mt.memoizedState,t,r)},useTransition:function(){var t=nf(ui)[0],r=Bt().memoizedState;return[typeof t=="boolean"?t:nl(t),r]},useSyncExternalStore:Jg,useId:Rp};Wa.useCacheRefresh=Cp,Wa.useMemoCache=ef,Wa.useHostTransitionStatus=cf,Wa.useFormState=dp,Wa.useActionState=dp,Wa.useOptimistic=function(t,r){var s=Bt();return mt!==null?ip(s,mt,t,r):(s.baseState=t,[t,s.queue.dispatch])};function ff(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:I({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var df={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Bn(),h=Zi(l);h.payload=r,s!=null&&(h.callback=s),r=Ji(t,h,l),r!==null&&(wn(r,t,l),sl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Bn(),h=Zi(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=Ji(t,h,l),r!==null&&(wn(r,t,l),sl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Bn(),l=Zi(s);l.tag=2,r!=null&&(l.callback=r),r=Ji(t,l,s),r!==null&&(wn(r,t,s),sl(r,t,s))}};function Np(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Fo(s,l)||!Fo(h,d):!0}function Mp(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&df.enqueueReplaceState(r,r.state,null)}function es(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=I({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xp(t){Ku(t)}function Vp(t){console.error(t)}function Lp(t){Ku(t)}function Qu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Pp(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function mf(t,r,s){return s=Zi(s),s.tag=3,s.payload={element:null},s.callback=function(){Qu(t,r)},s}function Up(t){return t=Zi(t),t.tag=3,t}function kp(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Pp(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Pp(r,s,l),typeof h!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function cS(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&al(r,s,h,!0),s=rr.current,s!==null){switch(s.tag){case 13:return Ur===null?$f():s.alternate===null&&Nt===0&&(Nt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===qh?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Zf(t,l,h)),!1;case 22:return s.flags|=65536,l===qh?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Zf(t,l,h)),!1}throw Error(a(435,s.tag))}return Zf(t,l,h),$f(),!1}if(at)return r=rr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Hh&&(t=Error(a(422),{cause:l}),Yo(er(t,s)))):(l!==Hh&&(r=Error(a(423),{cause:l}),Yo(er(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=er(l,s),h=mf(t.stateNode,l,h),If(t,h),Nt!==4&&(Nt=2)),!1;var d=Error(a(520),{cause:l});if(d=er(d,s),ml===null?ml=[d]:ml.push(d),Nt!==4&&(Nt=2),r===null)return!0;l=er(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=mf(s.stateNode,l,t),If(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ia===null||!ia.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Up(h),kp(h,t,s,l),If(s,h),!1}s=s.return}while(s!==null);return!1}var zp=Error(a(461)),en=!1;function un(t,r,s,l){r.child=t===null?Fg(r,null,s,l):$a(r,t.child,s,l)}function jp(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ns(r),l=Xh(t,r,s,_,d,h),T=Zh(),t!==null&&!en?(Jh(t,r,h),ci(t,r,h)):(at&&T&&jh(r),r.flags|=1,un(t,r,l,h),r.child)}function Bp(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Hp(t,r,d,l,h)):(t=Ju(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!bf(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Fo,s(_,l)&&t.ref===r.ref)return ci(t,r,h)}return r.flags|=1,t=na(d,l),t.ref=r.ref,t.return=r,r.child=t}function Hp(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===r.ref)if(en=!1,r.pendingProps=l=d,bf(t,h))(t.flags&131072)!==0&&(en=!0);else return r.lanes=t.lanes,ci(t,r,h)}return gf(t,r,s,l,h)}function qp(t,r,s){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(il(t,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=_!==null?_.baseLanes|s:s,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Fp(t,r,l,s)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(r,_!==null?_.cachePool:null),_!==null?Gg(r,_):Fh(),Kg(r);else return r.lanes=r.childLanes=536870912,Fp(t,r,_!==null?_.baseLanes|s:s,s)}else _!==null?(Uu(r,_.cachePool),Gg(r,_),Ki(),r.memoizedState=null):(t!==null&&Uu(r,null),Fh(),Ki());return un(t,r,h,s),r.child}function Fp(t,r,s,l){var h=Yh();return h=h===null?null:{parent:Yt._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},t!==null&&Uu(r,null),Fh(),Kg(r),t!==null&&al(t,r,l,!0),null}function il(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=2097664)}}function gf(t,r,s,l,h){return ns(r),s=Xh(t,r,s,l,void 0,h),l=Zh(),t!==null&&!en?(Jh(t,r,h),ci(t,r,h)):(at&&l&&jh(r),r.flags|=1,un(t,r,s,h),r.child)}function Gp(t,r,s,l,h,d){return ns(r),r.updateQueue=null,s=Zg(r,l,s,h),Xg(t),l=Zh(),t!==null&&!en?(Jh(t,r,d),ci(t,r,d)):(at&&l&&jh(r),r.flags|=1,un(t,r,s,d),r.child)}function Kp(t,r,s,l,h){if(ns(r),r.stateNode===null){var d=ks,_=s.contextType;typeof _=="object"&&_!==null&&(d=gn(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=df,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Cf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?gn(_):ks,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(ff(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&df.enqueueReplaceState(d,d.state,null),ll(r,l,d,h),ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,D=es(s,T);d.props=D;var P=d.context,J=s.contextType;_=ks,typeof J=="object"&&J!==null&&(_=gn(J));var re=s.getDerivedStateFromProps;J=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&Mp(r,d,l,_),Xi=!1;var Q=r.memoizedState;d.state=Q,ll(r,l,d,h),ol(),P=r.memoizedState,T||Q!==P||Xi?(typeof re=="function"&&(ff(r,s,re,l),P=r.memoizedState),(D=Xi||Np(r,s,D,l,Q,P,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=P),d.props=l,d.state=P,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Df(t,r),_=r.memoizedProps,J=es(s,_),d.props=J,re=r.pendingProps,Q=d.context,P=s.contextType,D=ks,typeof P=="object"&&P!==null&&(D=gn(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==re||Q!==D)&&Mp(r,d,l,D),Xi=!1,Q=r.memoizedState,d.state=Q,ll(r,l,d,h),ol();var Z=r.memoizedState;_!==re||Q!==Z||Xi||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof T=="function"&&(ff(r,s,T,l),Z=r.memoizedState),(J=Xi||Np(r,s,J,l,Q,Z,D)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Z,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Z,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Z),d.props=l,d.state=Z,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,il(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=$a(r,t.child,null,h),r.child=$a(r,null,s,h)):un(t,r,s,h),r.memoizedState=d.state,t=r.child):t=ci(t,r,h),t}function Qp(t,r,s,l){return Qo(),r.flags|=256,un(t,r,s,l),r.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function yf(t){return{baseLanes:t,cachePool:$g()}}function vf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=or),t}function Yp(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Qt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(at){if(h?Gi(r):Ki(),at){var T=ln,D;if(D=T){e:{for(D=T,T=Pr;D.nodeType!==8;){if(!T){T=null;break e}if(D=vr(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ka!==null?{id:si,overflow:oi}:null,retryLane:536870912},D=sr(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,An=r,ln=null,D=!0):D=!1}D||Ya(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;li(r)}return T=l.children,l=l.fallback,h?(Ki(),h=r.mode,T=Ef({mode:"hidden",children:T},h),l=is(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=yf(s),h.childLanes=vf(t,_,s),r.memoizedState=pf,l):(Gi(r),_f(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)r.flags&256?(Gi(r),r.flags&=-257,r=Tf(t,r,s)):r.memoizedState!==null?(Ki(),r.child=t.child,r.flags|=128,r=null):(Ki(),h=l.fallback,T=r.mode,l=Ef({mode:"visible",children:l.children},T),h=is(h,T,s,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,$a(r,t.child,null,s),l=r.child,l.memoizedState=yf(s),l.childLanes=vf(t,_,s),r.memoizedState=pf,r=h);else if(Gi(r),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(a(419)),l.stack="",l.digest=_,Yo({value:l,source:null,stack:null}),r=Tf(t,r,s)}else if(en||al(t,r,s,!1),_=(s&t.childLanes)!==0,en||_){if(_=_t,_!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Fi(t,l),wn(_,t,l),zp}T.data==="$?"||$f(),r=Tf(t,r,s)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=wS.bind(null,t),T._reactRetry=r,r=null):(t=D.treeContext,ln=vr(T.nextSibling),An=r,at=!0,pr=null,Pr=!1,t!==null&&(tr[nr++]=si,tr[nr++]=oi,tr[nr++]=Ka,si=t.id,oi=t.overflow,Ka=r),r=_f(r,l.children),r.flags|=4096);return r}return h?(Ki(),h=l.fallback,T=r.mode,D=t.child,P=D.sibling,l=na(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,P!==null?h=na(P,h):(h=is(h,T,s,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=yf(s):(D=T.cachePool,D!==null?(P=Yt._currentValue,D=D.parent!==P?{parent:P,pool:P}:D):D=$g(),T={baseLanes:T.baseLanes|s,cachePool:D}),h.memoizedState=T,h.childLanes=vf(t,_,s),r.memoizedState=pf,l):(Gi(r),s=t.child,t=s.sibling,s=na(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function _f(t,r){return r=Ef({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ef(t,r){return Ey(t,r,0,null)}function Tf(t,r,s){return $a(r,t.child,null,s),t=_f(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function $p(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),wf(t.return,r,s)}function Sf(t,r,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function Xp(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(un(t,r,l.children,s),l=Qt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,s,r);else if(t.tag===19)$p(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Le(Qt,l),h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&Pu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),Sf(r,!1,h,s,d);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Pu(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Sf(r,!0,s,null,d);break;case"together":Sf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ci(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ra|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(al(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=na(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=na(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function bf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function hS(t,r,s){switch(r.tag){case 3:Ar(r,r.stateNode.containerInfo),$i(r,Yt,t.memoizedState.cache),Qo();break;case 27:case 5:Ni(r);break;case 4:Ar(r,r.stateNode.containerInfo);break;case 10:$i(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Yp(t,r,s):(Gi(r),t=ci(t,r,s),t!==null?t.sibling:null);Gi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(al(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return Xp(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Le(Qt,Qt.current),l)break;return null;case 22:case 23:return r.lanes=0,qp(t,r,s);case 24:$i(r,Yt,t.memoizedState.cache)}return ci(t,r,s)}function Zp(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)en=!0;else{if(!bf(t,s)&&(r.flags&128)===0)return en=!1,hS(t,r,s);en=(t.flags&131072)!==0}else en=!1,at&&(r.flags&1048576)!==0&&Lg(r,Nu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Uf(l)?(t=es(l,t),r.tag=1,r=Kp(null,r,l,t,s)):(r.tag=0,r=gf(null,r,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===k){r.tag=11,r=jp(null,r,l,t,s);break e}else if(h===$){r.tag=14,r=Bp(null,r,l,t,s);break e}}throw r=w(l)||l,Error(a(306,r,""))}}return r;case 0:return gf(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=es(l,r.pendingProps),Kp(t,r,l,h,s);case 3:e:{if(Ar(r,r.stateNode.containerInfo),t===null)throw Error(a(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,Df(t,r),ll(r,d,null,s);var _=r.memoizedState;if(d=_.cache,$i(r,Yt,d),d!==h.cache&&Rf(r,[Yt],s,!0),ol(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Qp(t,r,d,s);break e}else if(d!==l){l=er(Error(a(424)),r),Yo(l),r=Qp(t,r,d,s);break e}else for(ln=vr(r.stateNode.containerInfo.firstChild),An=r,at=!0,pr=null,Pr=!0,s=Fg(r,null,d,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Qo(),d===l){r=ci(t,r,s);break e}un(t,r,d,s)}r=r.child}return r;case 26:return il(t,r),t===null?(s=ev(r.type,null,r.pendingProps,null))?r.memoizedState=s:at||(s=r.type,t=r.pendingProps,l=cc(Cn.current).createElement(s),l[Ae]=r,l[Re]=t,cn(l,s,t),ot(l),r.stateNode=l):r.memoizedState=ev(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ni(r),t===null&&at&&(l=r.stateNode=Zy(r.type,r.pendingProps,Cn.current),An=r,Pr=!0,ln=vr(l.firstChild)),l=r.pendingProps.children,t!==null||at?un(t,r,l,s):r.child=$a(r,null,l,s),il(t,r),r.child;case 5:return t===null&&at&&((h=l=ln)&&(l=BS(l,r.type,r.pendingProps,Pr),l!==null?(r.stateNode=l,An=r,ln=vr(l.firstChild),Pr=!1,h=!0):h=!1),h||Ya(r)),Ni(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,ud(h,d)?l=null:_!==null&&ud(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=Xh(t,r,iS,null,null,s),bl._currentValue=h),il(t,r),un(t,r,l,s),r.child;case 6:return t===null&&at&&((t=s=ln)&&(s=HS(s,r.pendingProps,Pr),s!==null?(r.stateNode=s,An=r,ln=null,t=!0):t=!1),t||Ya(r)),null;case 13:return Yp(t,r,s);case 4:return Ar(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=$a(r,null,l,s):un(t,r,l,s),r.child;case 11:return jp(t,r,r.type,r.pendingProps,s);case 7:return un(t,r,r.pendingProps,s),r.child;case 8:return un(t,r,r.pendingProps.children,s),r.child;case 12:return un(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,$i(r,r.type,l.value),un(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ns(r),h=gn(h),l=l(h),r.flags|=1,un(t,r,l,s),r.child;case 14:return Bp(t,r,r.type,r.pendingProps,s);case 15:return Hp(t,r,r.type,r.pendingProps,s);case 19:return Xp(t,r,s);case 22:return qp(t,r,s);case 24:return ns(r),l=gn(Yt),t===null?(h=Yh(),h===null&&(h=_t,d=Kh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},Cf(r),$i(r,Yt,h)):((t.lanes&s)!==0&&(Df(t,r),ll(r,null,null,s),ol()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),$i(r,Yt,l)):(l=d.cache,$i(r,Yt,l),l!==h.cache&&Rf(r,[Yt],s,!0))),un(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}var Af=$e(null),ts=null,hi=null;function $i(t,r,s){Le(Af,r._currentValue),r._currentValue=s}function fi(t){t._currentValue=Af.current,bt(Af)}function wf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Rf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),wf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),wf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function al(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;Un(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===mn.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&Rf(r,t,s,l),r.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){ts=t,hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gn(t){return Jp(ts,t)}function $u(t,r){return ts===null&&ns(t),Jp(t,r)}function Jp(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},hi===null){if(t===null)throw Error(a(308));hi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else hi=hi.next=r;return s}var Xi=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(wt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Iu(t),xg(t,null,s),r}return Du(t,l,r,s),Iu(t)}function sl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Se(t,s)}}function If(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Of=!1;function ol(){if(Of){var t=Fs;if(t!==null)throw t}}function ll(t,r,s,l){Of=!1;var h=t.updateQueue;Xi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,P=D.next;D.next=null,_===null?d=P:_.next=P,_=D;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=P:T.next=P,J.lastBaseUpdate=D))}if(d!==null){var re=h.baseState;_=0,J=P=D=null,T=d;do{var Q=T.lane&-536870913,Z=Q!==T.lane;if(Z?(We&Q)===Q:(l&Q)===Q){Q!==0&&Q===qs&&(Of=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,Pe=T;Q=r;var Mt=s;switch(Pe.tag){case 1:if(we=Pe.payload,typeof we=="function"){re=we.call(Mt,re,Q);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Pe.payload,Q=typeof we=="function"?we.call(Mt,re,Q):we,Q==null)break e;re=I({},re,Q);break e;case 2:Xi=!0}}Q=T.callback,Q!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(P=J=Z,D=re):J=J.next=Z,_|=Q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);J===null&&(D=re),h.baseState=D,h.firstBaseUpdate=P,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),ra|=_,t.lanes=_,t.memoizedState=re}}function Wp(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function ey(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Wp(s[t],r)}function ul(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){yt(r,r.return,T)}}function Wi(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var D=s;try{T()}catch(P){yt(h,D,P)}}}l=l.next}while(l!==d)}}catch(P){yt(r,r.return,P)}}function ty(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{ey(r,s)}catch(l){yt(t,t.return,l)}}}function ny(t,r,s){s.props=es(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){yt(t,r,l)}}function rs(t,r){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?t.refCleanup=s(h):s.current=h}}catch(d){yt(t,r,d)}}function kn(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){yt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){yt(t,r,h)}else s.current=null}function ry(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){yt(t,t.return,h)}}function iy(t,r,s){try{var l=t.stateNode;PS(l,t.type,s,r),l[Re]=r}catch(h){yt(t,t.return,h)}}function ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=uc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Mf(t,r,s),t=t.sibling;t!==null;)Mf(t,r,s),t=t.sibling}function Xu(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xu(t,r,s),t=t.sibling;t!==null;)Xu(t,r,s),t=t.sibling}var di=!1,Ot=!1,xf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,tn=null,oy=!1;function fS(t,r){if(t=t.containerInfo,od=pc,t=Ag(t),Vh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,D=-1,P=0,J=0,re=t,Q=null;t:for(;;){for(var Z;re!==s||h!==0&&re.nodeType!==3||(T=_+h),re!==d||l!==0&&re.nodeType!==3||(D=_+l),re.nodeType===3&&(_+=re.nodeValue.length),(Z=re.firstChild)!==null;)Q=re,re=Z;for(;;){if(re===t)break t;if(Q===s&&++P===h&&(T=_),Q===d&&++J===l&&(D=_),(Z=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=Z}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:t,selectionRange:s},pc=!1,tn=r;tn!==null;)if(r=tn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,tn=t;else for(;tn!==null;){switch(r=tn,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var we=es(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Pe){yt(s,s.return,Pe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)fd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,tn=t;break}tn=r.return}return we=oy,oy=!1,we}function ly(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:gi(t,s),l&4&&ul(5,s);break;case 1:if(gi(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(T){yt(s,s.return,T)}else{var h=es(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){yt(s,s.return,T)}}l&64&&ty(s),l&512&&rs(s,s.return);break;case 3:if(gi(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{ey(l,t)}catch(T){yt(s,s.return,T)}}break;case 26:gi(t,s),l&512&&rs(s,s.return);break;case 27:case 5:gi(t,s),r===null&&l&4&&ry(s),l&512&&rs(s,s.return);break;case 12:gi(t,s);break;case 13:gi(t,s),l&4&&hy(t,s);break;case 22:if(h=s.memoizedState!==null||di,!h){r=r!==null&&r.memoizedState!==null||Ot;var d=di,_=Ot;di=h,(Ot=r)&&!_?ea(t,s,(s.subtreeFlags&8772)!==0):gi(t,s),di=d,Ot=_}l&512&&(s.memoizedProps.mode==="manual"?rs(s,s.return):kn(s,s.return));break;default:gi(t,s)}}function uy(t){var r=t.alternate;r!==null&&(t.alternate=null,uy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Pn(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,zn=!1;function mi(t,r,s){for(s=s.child;s!==null;)cy(t,r,s),s=s.sibling}function cy(t,r,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(dr,s)}catch{}switch(s.tag){case 26:Ot||kn(s,r),mi(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||kn(s,r);var l=Ht,h=zn;for(Ht=s.stateNode,mi(t,r,s),s=s.stateNode,r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Pn(s),Ht=l,zn=h;break;case 5:Ot||kn(s,r);case 6:h=Ht;var d=zn;if(Ht=null,mi(t,r,s),Ht=h,zn=d,Ht!==null)if(zn)try{t=Ht,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){yt(s,r,_)}else try{Ht.removeChild(s.stateNode)}catch(_){yt(s,r,_)}break;case 18:Ht!==null&&(zn?(r=Ht,s=s.stateNode,r.nodeType===8?hd(r.parentNode,s):r.nodeType===1&&hd(r,s),Cl(r)):hd(Ht,s.stateNode));break;case 4:l=Ht,h=zn,Ht=s.stateNode.containerInfo,zn=!0,mi(t,r,s),Ht=l,zn=h;break;case 0:case 11:case 14:case 15:Ot||Wi(2,s,r),Ot||Wi(4,s,r),mi(t,r,s);break;case 1:Ot||(kn(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ny(s,r,l)),mi(t,r,s);break;case 21:mi(t,r,s);break;case 22:Ot||kn(s,r),Ot=(l=Ot)||s.memoizedState!==null,mi(t,r,s),Ot=l;break;default:mi(t,r,s)}}function hy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(s){yt(r,r.return,s)}}function dS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new sy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new sy),r;default:throw Error(a(435,t.tag))}}function Vf(t,r){var s=dS(t);r.forEach(function(l){var h=RS.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function ir(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:Ht=T.stateNode,zn=!1;break e;case 3:Ht=T.stateNode.containerInfo,zn=!0;break e;case 4:Ht=T.stateNode.containerInfo,zn=!0;break e}T=T.return}if(Ht===null)throw Error(a(160));cy(d,_,h),Ht=null,zn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)fy(r,t),r=r.sibling}var yr=null;function fy(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ir(r,t),ar(t),l&4&&(Wi(3,t,t.return),ul(3,t),Wi(5,t,t.return));break;case 1:ir(r,t),ar(t),l&512&&(Ot||s===null||kn(s,s.return)),l&64&&di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=yr;if(ir(r,t),ar(t),l&512&&(Ot||s===null||kn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Tn]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),cn(d,l,s),d[Ae]=t,ot(d),l=d;break e;case"link":var _=rv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),cn(d,l,s),h.head.appendChild(d);break;case"meta":if(_=rv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),cn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ae]=t,ot(d),l=d}t.stateNode=l}else iv(h,t.type,t.stateNode);else t.stateNode=nv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?iv(h,t.type,t.stateNode):nv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&iy(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var D=h.firstChild;D;){var P=D.nextSibling,J=D.nodeName;D[Tn]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=P}for(var re=t.type,Q=h.attributes;Q.length;)h.removeAttributeNode(Q[0]);cn(h,re,d),h[Ae]=t,h[Re]=d}catch(we){yt(t,t.return,we)}}case 5:if(ir(r,t),ar(t),l&512&&(Ot||s===null||kn(s,s.return)),t.flags&32){h=t.stateNode;try{$n(h,"")}catch(we){yt(t,t.return,we)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,iy(t,h,s!==null?s.memoizedProps:h)),l&1024&&(xf=!0);break;case 6:if(ir(r,t),ar(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(we){yt(t,t.return,we)}}break;case 3:if(dc=null,h=yr,yr=hc(r.containerInfo),ir(r,t),yr=h,ar(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(we){yt(t,t.return,we)}xf&&(xf=!1,dy(t));break;case 4:l=yr,yr=hc(t.stateNode.containerInfo),ir(r,t),ar(t),yr=l;break;case 12:ir(r,t),ar(t);break;case 13:ir(r,t),ar(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(qf=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vf(t,l)));break;case 22:if(l&512&&(Ot||s===null||kn(s,s.return)),D=t.memoizedState!==null,P=s!==null&&s.memoizedState!==null,J=di,re=Ot,di=J||D,Ot=re||P,ir(r,t),Ot=re,di=J,ar(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=D?r._visibility&-2:r._visibility|1,D&&(r=di||Ot,s===null||P||r||Ys(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(s===null){P=s=r;try{if(h=P.stateNode,D)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,T=P.memoizedProps.style;var Z=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(we){yt(P,P.return,we)}}}else if(r.tag===6){if(s===null){P=r;try{P.stateNode.nodeValue=D?"":P.memoizedProps}catch(we){yt(P,P.return,we)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Vf(t,s))));break;case 19:ir(r,t),ar(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vf(t,l)));break;case 21:break;default:ir(r,t),ar(t)}}function ar(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(ay(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=Nf(t);Xu(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&($n(_,""),l.flags&=-33);var T=Nf(t);Xu(t,T,_);break;case 3:case 4:var D=l.stateNode.containerInfo,P=Nf(t);Mf(t,P,D);break;default:throw Error(a(161))}}}catch(J){yt(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;dy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function gi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ly(t,r.alternate,r),r=r.sibling}function Ys(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Wi(4,r,r.return),Ys(r);break;case 1:kn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&ny(r,r.return,s),Ys(r);break;case 26:case 27:case 5:kn(r,r.return),Ys(r);break;case 22:kn(r,r.return),r.memoizedState===null&&Ys(r);break;default:Ys(r)}t=t.sibling}}function ea(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:ea(h,d,s),ul(4,d);break;case 1:if(ea(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){yt(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Wp(D[h],T)}catch(P){yt(l,l.return,P)}}s&&_&64&&ty(d),rs(d,d.return);break;case 26:case 27:case 5:ea(h,d,s),s&&l===null&&_&4&&ry(d),rs(d,d.return);break;case 12:ea(h,d,s);break;case 13:ea(h,d,s),s&&_&4&&hy(h,d);break;case 22:d.memoizedState===null&&ea(h,d,s),rs(d,d.return);break;default:ea(h,d,s)}r=r.sibling}}function Lf(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Wo(s))}function Pf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function ta(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)my(t,r,s,l),r=r.sibling}function my(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ta(t,r,s,l),h&2048&&ul(9,r);break;case 3:ta(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){ta(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){yt(r,r.return,D)}}else ta(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?ta(t,r,s,l):cl(t,r):d._visibility&4?ta(t,r,s,l):(d._visibility|=4,$s(t,r,s,l,(r.subtreeFlags&10256)!==0)),h&2048&&Lf(r.alternate,r);break;case 24:ta(t,r,s,l),h&2048&&Pf(r.alternate,r);break;default:ta(t,r,s,l)}}function $s(t,r,s,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=s,D=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:$s(d,_,T,D,h),ul(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&4?$s(d,_,T,D,h):cl(d,_):(J._visibility|=4,$s(d,_,T,D,h)),h&&P&2048&&Lf(_.alternate,_);break;case 24:$s(d,_,T,D,h),h&&P&2048&&Pf(_.alternate,_);break;default:$s(d,_,T,D,h)}r=r.sibling}}function cl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:cl(s,l),h&2048&&Lf(l.alternate,l);break;case 24:cl(s,l),h&2048&&Pf(l.alternate,l);break;default:cl(s,l)}r=r.sibling}}var hl=8192;function Xs(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)gy(t),t=t.sibling}function gy(t){switch(t.tag){case 26:Xs(t),t.flags&hl&&t.memoizedState!==null&&tb(yr,t.memoizedState,t.memoizedProps);break;case 5:Xs(t);break;case 3:case 4:var r=yr;yr=hc(t.stateNode.containerInfo),Xs(t),yr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=hl,hl=16777216,Xs(t),hl=r):Xs(t));break;default:Xs(t)}}function py(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function fl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];tn=l,vy(l,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Zu(t)):fl(t);break;default:fl(t)}}function Zu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];tn=l,vy(l,t)}py(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Wi(8,r,r.return),Zu(r);break;case 22:s=r.stateNode,s._visibility&4&&(s._visibility&=-5,Zu(r));break;default:Zu(r)}t=t.sibling}}function vy(t,r){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:Wi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else e:for(s=t;tn!==null;){l=tn;var h=l.sibling,d=l.return;if(uy(l),l===s){tn=null;break e}if(h!==null){h.return=d,tn=h;break e}tn=d}}}function mS(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,r,s,l){return new mS(t,r,s,l)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function na(t,r){var s=t.alternate;return s===null?(s=sr(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function _y(t,r){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ju(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")Uf(t)&&(_=1);else if(typeof t=="string")_=WS(t,s,Dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return is(s.children,h,d,r);case y:_=8,h|=24;break;case E:return t=sr(12,s,r,h|2),t.elementType=E,t.lanes=d,t;case X:return t=sr(13,s,r,h),t.elementType=X,t.lanes=d,t;case q:return t=sr(19,s,r,h),t.elementType=q,t.lanes=d,t;case oe:return Ey(s,h,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case R:_=10;break e;case C:_=9;break e;case k:_=11;break e;case $:_=14;break e;case ee:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=sr(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function is(t,r,s,l){return t=sr(7,t,l,r),t.lanes=s,t}function Ey(t,r,s,l){t=sr(22,t,l,r),t.elementType=oe,t.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var _=Fi(d,2);_!==null&&(h._pendingVisibility|=2,wn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var _=Fi(d,2);_!==null&&(h._pendingVisibility&=-3,wn(_,d,2))}}};return t.stateNode=h,t}function kf(t,r,s){return t=sr(6,t,null,r),t.lanes=s,t}function zf(t,r,s){return r=sr(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function pi(t){t.flags|=4}function Ty(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(r)){if(r=rr.current,r!==null&&((We&4194176)===We?Ur!==null:(We&62914560)!==We&&(We&536870912)===0||r!==Ur))throw Xo=qh,kg;t.flags|=8192}}function Wu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?M():536870912,t.lanes|=r,Js|=r)}function dl(t,r){if(!at)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function At(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function gS(t,r,s){var l=r.pendingProps;switch(Bh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(r),null;case 1:return At(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),fi(Yt),cr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ko(r)?pi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pr!==null&&(Qf(pr),pr=null))),At(r),null;case 26:return s=r.memoizedState,t===null?(pi(r),s!==null?(At(r),Ty(r,s)):(At(r),r.flags&=-16777217)):s?s!==t.memoizedState?(pi(r),At(r),Ty(r,s)):(At(r),r.flags&=-16777217):(t.memoizedProps!==l&&pi(r),At(r),r.flags&=-16777217),null;case 27:Mi(r),s=Cn.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&pi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return At(r),null}t=Dt.current,Ko(r)?Pg(r):(t=Zy(h,l,s),r.stateNode=t,pi(r))}return At(r),null;case 5:if(Mi(r),s=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&pi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return At(r),null}if(t=Dt.current,Ko(r))Pg(r);else{switch(h=cc(Cn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Ae]=r,t[Re]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(cn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&pi(r)}}return At(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&pi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Cn.current,Ko(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=An,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ae]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Gy(t.nodeValue,s)),t||Ya(r)}else t=cc(t).createTextNode(l),t[Ae]=r,r.stateNode=t}return At(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ko(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=r}else Qo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;At(r),h=!1}else pr!==null&&(Qf(pr),pr=null),h=!0;if(!h)return r.flags&256?(li(r),r):(li(r),null)}if(li(r),(r.flags&128)!==0)return r.lanes=s,r;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(r.child.flags|=8192),Wu(r,r.updateQueue),At(r),null;case 4:return cr(),t===null&&id(r.stateNode.containerInfo),At(r),null;case 10:return fi(r.type),At(r),null;case 19:if(bt(Qt),h=r.memoizedState,h===null)return At(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Pu(t),d!==null){for(r.flags|=128,dl(h,!1),t=d.updateQueue,r.updateQueue=t,Wu(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)_y(s,t),s=s.sibling;return Le(Qt,Qt.current&1|2),r.child}t=t.sibling}h.tail!==null&&an()>ec&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304)}else{if(!l)if(t=Pu(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Wu(r,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!at)return At(r),null}else 2*an()-h.renderingStartTime>ec&&s!==536870912&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=an(),r.sibling=null,t=Qt.current,Le(Qt,l?t&1|2:t&1),r):(At(r),null);case 22:case 23:return li(r),Gh(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(At(r),r.subtreeFlags&6&&(r.flags|=8192)):At(r),s=r.updateQueue,s!==null&&Wu(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&bt(Xa),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),fi(Yt),At(r),null;case 25:return null}throw Error(a(156,r.tag))}function pS(t,r){switch(Bh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return fi(Yt),cr(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Mi(r),null;case 13:if(li(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Qo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return bt(Qt),null;case 4:return cr(),null;case 10:return fi(r.type),null;case 22:case 23:return li(r),Gh(),t!==null&&bt(Xa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return fi(Yt),null;case 25:return null;default:return null}}function Sy(t,r){switch(Bh(r),r.tag){case 3:fi(Yt),cr();break;case 26:case 27:case 5:Mi(r);break;case 4:cr();break;case 13:li(r);break;case 19:bt(Qt);break;case 10:fi(r.type);break;case 22:case 23:li(r),Gh(),t!==null&&bt(Xa);break;case 24:fi(Yt)}}var yS={getCacheForType:function(t){var r=gn(Yt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s}},vS=typeof WeakMap=="function"?WeakMap:Map,wt=0,_t=null,Fe=null,We=0,Et=0,jn=null,yi=!1,Zs=!1,jf=!1,vi=0,Nt=0,ra=0,as=0,Bf=0,or=0,Js=0,ml=null,zr=null,Hf=!1,qf=0,ec=1/0,tc=null,ia=null,nc=!1,ss=null,gl=0,Ff=0,Gf=null,pl=0,Kf=null;function Bn(){if((wt&2)!==0&&We!==0)return We&-We;if(b.T!==null){var t=qs;return t!==0?t:ed()}return ve()}function by(){or===0&&(or=(We&536870912)===0||at?Ma():536870912);var t=rr.current;return t!==null&&(t.flags|=32),or}function wn(t,r,s){(t===_t&&Et===2||t.cancelPendingCommit!==null)&&(Ws(t,0),_i(t,We,or,!1)),F(t,s),((wt&2)===0||t!==_t)&&(t===_t&&((wt&2)===0&&(as|=s),Nt===4&&_i(t,We,or,!1)),jr(t))}function Ay(t,r,s){if((wt&6)!==0)throw Error(a(327));var l=!s&&(r&60)===0&&(r&t.expiredLanes)===0||Ln(t,r),h=l?TS(t,r):Xf(t,r,!0),d=l;do{if(h===0){Zs&&!l&&_i(t,r,0,!1);break}else if(h===6)_i(t,r,0,!yi);else{if(s=t.current.alternate,d&&!_S(s)){h=Xf(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=ml;var D=T.current.memoizedState.isDehydrated;if(D&&(Ws(T,_).flags|=256),_=Xf(T,_,!1),_!==2){if(jf&&!D){T.errorRecoveryDisabledLanes|=d,as|=d,h=4;break e}d=zr,zr=h,d!==null&&Qf(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){Ws(t,0),_i(t,r,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(a(345));case 4:if((r&4194176)===r){_i(l,r,or,!yi);break e}break;case 2:zr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=r,(r&62914560)===r&&(d=qf+300-an(),10<d)){if(_i(l,r,or,!yi),sn(l,0)!==0)break e;l.timeoutHandle=Yy(wy.bind(null,l,s,zr,tc,Hf,r,or,as,Js,yi,2,-0,0),d);break e}wy(l,s,zr,tc,Hf,r,or,as,Js,yi,0,-0,0)}}break}while(!0);jr(t)}function Qf(t){zr===null?zr=t:zr.push.apply(zr,t)}function wy(t,r,s,l,h,d,_,T,D,P,J,re,Q){var Z=r.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:eb},gy(r),r=nb(),r!==null)){t.cancelPendingCommit=r(My.bind(null,t,s,l,h,_,T,D,1,re,Q)),_i(t,d,_,!P);return}My(t,s,l,h,_,T,D,J,re,Q)}function _S(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Un(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _i(t,r,s,l){r&=~Bf,r&=~as,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-kt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&me(t,s,r)}function rc(){return(wt&6)===0?(yl(0),!1):!0}function Yf(){if(Fe!==null){if(Et===0)var t=Fe.return;else t=Fe,hi=ts=null,Wh(t),Bs=null,Zo=0,t=Fe;for(;t!==null;)Sy(t.alternate,t),t=t.return;Fe=null}}function Ws(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,kS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Yf(),_t=t,Fe=s=na(t.current,null),We=r,Et=0,jn=null,yi=!1,Zs=Ln(t,r),jf=!1,Js=or=Bf=as=ra=Nt=0,zr=ml=null,Hf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-kt(l),d=1<<h;r|=t[h],l&=~d}return vi=r,Cu(),s}function Ry(t,r){Be=null,b.H=kr,r===$o?(r=Bg(),Et=3):r===kg?(r=Bg(),Et=4):Et=r===zp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Fe===null&&(Nt=1,Qu(t,er(r,t.current)))}function Cy(){var t=b.H;return b.H=kr,t===null?kr:t}function Dy(){var t=b.A;return b.A=yS,t}function $f(){Nt=4,yi||(We&4194176)!==We&&rr.current!==null||(Zs=!0),(ra&134217727)===0&&(as&134217727)===0||_t===null||_i(_t,We,or,!1)}function Xf(t,r,s){var l=wt;wt|=2;var h=Cy(),d=Dy();(_t!==t||We!==r)&&(tc=null,Ws(t,r)),r=!1;var _=Nt;e:do try{if(Et!==0&&Fe!==null){var T=Fe,D=jn;switch(Et){case 8:Yf(),_=6;break e;case 3:case 2:case 6:rr.current===null&&(r=!0);var P=Et;if(Et=0,jn=null,eo(t,T,D,P),s&&Zs){_=0;break e}break;default:P=Et,Et=0,jn=null,eo(t,T,D,P)}}ES(),_=Nt;break}catch(J){Ry(t,J)}while(!0);return r&&t.shellSuspendCounter++,hi=ts=null,wt=l,b.H=h,b.A=d,Fe===null&&(_t=null,We=0,Cu()),_}function ES(){for(;Fe!==null;)Iy(Fe)}function TS(t,r){var s=wt;wt|=2;var l=Cy(),h=Dy();_t!==t||We!==r?(tc=null,ec=an()+500,Ws(t,r)):Zs=Ln(t,r);e:do try{if(Et!==0&&Fe!==null){r=Fe;var d=jn;t:switch(Et){case 1:Et=0,jn=null,eo(t,r,d,1);break;case 2:if(zg(d)){Et=0,jn=null,Oy(r);break}r=function(){Et===2&&_t===t&&(Et=7),jr(t)},d.then(r,r);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:zg(d)?(Et=0,jn=null,Oy(r)):(Et=0,jn=null,eo(t,r,d,7));break;case 5:var _=null;switch(Fe.tag){case 26:_=Fe.memoizedState;case 5:case 27:var T=Fe;if(!_||av(_)){Et=0,jn=null;var D=T.sibling;if(D!==null)Fe=D;else{var P=T.return;P!==null?(Fe=P,ic(P)):Fe=null}break t}}Et=0,jn=null,eo(t,r,d,5);break;case 6:Et=0,jn=null,eo(t,r,d,6);break;case 8:Yf(),Nt=6;break e;default:throw Error(a(462))}}SS();break}catch(J){Ry(t,J)}while(!0);return hi=ts=null,b.H=l,b.A=h,wt=s,Fe!==null?0:(_t=null,We=0,Cu(),Nt)}function SS(){for(;Fe!==null&&!hr();)Iy(Fe)}function Iy(t){var r=Zp(t.alternate,t,vi);t.memoizedProps=t.pendingProps,r===null?ic(t):Fe=r}function Oy(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Gp(s,r,r.pendingProps,r.type,void 0,We);break;case 11:r=Gp(s,r,r.pendingProps,r.type.render,r.ref,We);break;case 5:Wh(r);default:Sy(s,r),r=Fe=_y(r,vi),r=Zp(s,r,vi)}t.memoizedProps=t.pendingProps,r===null?ic(t):Fe=r}function eo(t,r,s,l){hi=ts=null,Wh(r),Bs=null,Zo=0;var h=r.return;try{if(cS(t,h,r,s,We)){Nt=1,Qu(t,er(s,t.current)),Fe=null;return}}catch(d){if(h!==null)throw Fe=h,d;Nt=1,Qu(t,er(s,t.current)),Fe=null;return}r.flags&32768?(at||l===1?t=!0:Zs||(We&536870912)!==0?t=!1:(yi=t=!0,(l===2||l===3||l===6)&&(l=rr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(r,t)):ic(r)}function ic(t){var r=t;do{if((r.flags&32768)!==0){Ny(r,yi);return}t=r.return;var s=gS(r.alternate,r,vi);if(s!==null){Fe=s;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=t}while(r!==null);Nt===0&&(Nt=5)}function Ny(t,r){do{var s=pS(t.alternate,t);if(s!==null){s.flags&=32767,Fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=s}while(t!==null);Nt=6,Fe=null}function My(t,r,s,l,h,d,_,T,D,P){var J=b.T,re=de.p;try{de.p=2,b.T=null,bS(t,r,s,l,re,h,d,_,T,D,P)}finally{b.T=J,de.p=re}}function bS(t,r,s,l,h,d,_,T){do to();while(ss!==null);if((wt&6)!==0)throw Error(a(327));var D=t.finishedWork;if(l=t.finishedLanes,D===null)return null;if(t.finishedWork=null,t.finishedLanes=0,D===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=D.lanes|D.childLanes;if(P|=kh,ae(t,l,P,d,_,T),t===_t&&(Fe=_t=null,We=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||nc||(nc=!0,Ff=P,Gf=s,CS(Fn,function(){return to(),null})),s=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||s?(s=b.T,b.T=null,d=de.p,de.p=2,_=wt,wt|=4,fS(t,D),fy(D,t),QT(ld,t.containerInfo),pc=!!od,ld=od=null,t.current=D,ly(t,D.alternate,D),fr(),wt=_,de.p=d,b.T=s):t.current=D,nc?(nc=!1,ss=t,gl=l):xy(t,P),P=t.pendingLanes,P===0&&(ia=null),Na(D.stateNode),jr(t),r!==null)for(h=t.onRecoverableError,D=0;D<r.length;D++)P=r[D],h(P.value,{componentStack:P.stack});return(gl&3)!==0&&to(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===Kf?pl++:(pl=0,Kf=t):pl=0,yl(0),null}function xy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function to(){if(ss!==null){var t=ss,r=Ff;Ff=0;var s=De(gl),l=b.T,h=de.p;try{if(de.p=32>s?32:s,b.T=null,ss===null)var d=!1;else{s=Gf,Gf=null;var _=ss,T=gl;if(ss=null,gl=0,(wt&6)!==0)throw Error(a(331));var D=wt;if(wt|=4,yy(_.current),my(_,_.current,T,s),wt=D,yl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(dr,_)}catch{}d=!0}return d}finally{de.p=h,b.T=l,xy(t,r)}}return!1}function Vy(t,r,s){r=er(s,r),r=mf(t.stateNode,r,2),t=Ji(t,r,2),t!==null&&(F(t,2),jr(t))}function yt(t,r,s){if(t.tag===3)Vy(t,t,s);else for(;r!==null;){if(r.tag===3){Vy(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ia===null||!ia.has(l))){t=er(s,t),s=Up(2),l=Ji(r,s,2),l!==null&&(kp(s,l,r,t),F(l,2),jr(l));break}}r=r.return}}function Zf(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new vS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(jf=!0,h.add(s),t=AS.bind(null,t,r,s),r.then(t,t))}function AS(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,_t===t&&(We&s)===s&&(Nt===4||Nt===3&&(We&62914560)===We&&300>an()-qf?(wt&2)===0&&Ws(t,0):Bf|=s,Js===We&&(Js=0)),jr(t)}function Ly(t,r){r===0&&(r=M()),t=Fi(t,r),t!==null&&(F(t,r),jr(t))}function wS(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Ly(t,s)}function RS(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),Ly(t,s)}function CS(t,r){return Zr(t,r)}var ac=null,no=null,Jf=!1,sc=!1,Wf=!1,os=0;function jr(t){t!==no&&t.next===null&&(no===null?ac=no=t:no=no.next=t),sc=!0,Jf||(Jf=!0,IS(DS))}function yl(t,r){if(!Wf&&sc){Wf=!0;do for(var s=!1,l=ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-kt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,ky(l,d))}else d=We,d=sn(l,l===_t?d:0),(d&3)===0||Ln(l,d)||(s=!0,ky(l,d));l=l.next}while(s);Wf=!1}}function DS(){sc=Jf=!1;var t=0;os!==0&&(US()&&(t=os),os=0);for(var r=an(),s=null,l=ac;l!==null;){var h=l.next,d=Py(l,r);d===0?(l.next=null,s===null?ac=h:s.next=h,h===null&&(no=s)):(s=l,(t!==0||(d&3)!==0)&&(sc=!0)),l=h}yl(t)}function Py(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-kt(d),T=1<<_,D=h[_];D===-1?((T&s)===0||(T&l)!==0)&&(h[_]=zi(T,r)):D<=r&&(t.expiredLanes|=T),d&=~T}if(r=_t,s=We,s=sn(t,t===r?s:0),l=t.callbackNode,s===0||t===r&&Et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ln(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Vi(l),De(s)){case 2:case 8:s=dt;break;case 32:s=Fn;break;case 268435456:s=Oa;break;default:s=Fn}return l=Uy.bind(null,t),s=Zr(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Vi(l),t.callbackPriority=2,t.callbackNode=null,2}function Uy(t,r){var s=t.callbackNode;if(to()&&t.callbackNode!==s)return null;var l=We;return l=sn(t,t===_t?l:0),l===0?null:(Ay(t,l,r),Py(t,an()),t.callbackNode!=null&&t.callbackNode===s?Uy.bind(null,t):null)}function ky(t,r){if(to())return null;Ay(t,r,!0)}function IS(t){zS(function(){(wt&6)!==0?Zr(ft,t):t()})}function ed(){return os===0&&(os=Ma()),os}function zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ir(""+t)}function jy(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function OS(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=zy((h[Re]||null).action),_=l.submitter;_&&(r=(r=_[Re]||null)?zy(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new Cs("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var D=_?jy(h,_):new FormData(h);uf(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?jy(h,_):new FormData(h),uf(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var td=0;td<Mg.length;td++){var nd=Mg[td],NS=nd.toLowerCase(),MS=nd[0].toUpperCase()+nd.slice(1);gr(NS,"on"+MS)}gr(Cg,"onAnimationEnd"),gr(Dg,"onAnimationIteration"),gr(Ig,"onAnimationStart"),gr("dblclick","onDoubleClick"),gr("focusin","onFocus"),gr("focusout","onBlur"),gr($T,"onTransitionRun"),gr(XT,"onTransitionStart"),gr(ZT,"onTransitionCancel"),gr(Og,"onTransitionEnd"),lt("onMouseEnter",["mouseout","mouseover"]),lt("onMouseLeave",["mouseout","mouseover"]),lt("onPointerEnter",["pointerout","pointerover"]),lt("onPointerLeave",["pointerout","pointerover"]),je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),je("onBeforeInput",["compositionend","keypress","textInput","paste"]),je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function By(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,P=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(J){Ku(J)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,P=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(J){Ku(J)}h.currentTarget=null,d=D}}}}function Qe(t,r){var s=r[Tt];s===void 0&&(s=r[Tt]=new Set);var l=t+"__bubble";s.has(l)||(Hy(r,t,2,!1),s.add(l))}function rd(t,r,s){var l=0;r&&(l|=4),Hy(s,t,l,r)}var oc="_reactListening"+Math.random().toString(36).slice(2);function id(t){if(!t[oc]){t[oc]=!0,Cr.forEach(function(s){s!=="selectionchange"&&(xS.has(s)||rd(s,!1,t),rd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[oc]||(r[oc]=!0,rd("selectionchange",!1,r))}}function Hy(t,r,s,l){switch(hv(r)){case 2:var h=ab;break;case 8:h=sb;break;default:h=yd}s=h.bind(null,r,s,t),h=void 0,!Zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function ad(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Vt(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}fu(function(){var P=d,J=Rs(s),re=[];e:{var Q=Ng.get(t);if(Q!==void 0){var Z=Cs,we=t;switch(t){case"keypress":if(Nr(s)===0)break e;case"keydown":case"keyup":Z=xs;break;case"focusin":we="focus",Z=Os;break;case"focusout":we="blur",Z=Os;break;case"beforeblur":case"afterblur":Z=Os;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Eu;break;case Cg:case Dg:case Ig:Z=Ns;break;case Og:Z=Su;break;case"scroll":case"scrollend":Z=du;break;case"wheel":Z=Vs;break;case"copy":case"cut":case"paste":Z=Ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ho;break;case"toggle":case"beforetoggle":Z=Au}var Pe=(r&4)!==0,Mt=!Pe&&(t==="scroll"||t==="scrollend"),B=Pe?Q!==null?Q+"Capture":null:Q;Pe=[];for(var L=P,G;L!==null;){var te=L;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||B===null||(te=Ua(L,B),te!=null&&Pe.push(_l(L,te,G))),Mt)break;L=L.return}0<Pe.length&&(Q=new Z(Q,we,null,s,J),re.push({event:Q,listeners:Pe}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",Q&&s!==Xn&&(we=s.relatedTarget||s.fromElement)&&(Vt(we)||we[Xe]))break e;if((Z||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(we=s.relatedTarget||s.toElement,Z=P,we=we?Vt(we):null,we!==null&&(Mt=pe(we),Pe=we.tag,we!==Mt||Pe!==5&&Pe!==27&&Pe!==6)&&(we=null)):(Z=null,we=P),Z!==we)){if(Pe=Jn,te="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Pe=Ho,te="onPointerLeave",B="onPointerEnter",L="pointer"),Mt=Z==null?Q:Kn(Z),G=we==null?Q:Kn(we),Q=new Pe(te,L+"leave",Z,s,J),Q.target=Mt,Q.relatedTarget=G,te=null,Vt(J)===P&&(Pe=new Pe(B,L+"enter",we,s,J),Pe.target=G,Pe.relatedTarget=Mt,te=Pe),Mt=te,Z&&we)t:{for(Pe=Z,B=we,L=0,G=Pe;G;G=ro(G))L++;for(G=0,te=B;te;te=ro(te))G++;for(;0<L-G;)Pe=ro(Pe),L--;for(;0<G-L;)B=ro(B),G--;for(;L--;){if(Pe===B||B!==null&&Pe===B.alternate)break t;Pe=ro(Pe),B=ro(B)}Pe=null}else Pe=null;Z!==null&&qy(re,Q,Z,Pe,!1),we!==null&&Mt!==null&&qy(re,Mt,we,Pe,!0)}}e:{if(Q=P?Kn(P):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var be=pg;else if(Kt(Q))if(yg)be=GT;else{be=qT;var qe=HT}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?P&&Lo(P.elementType)&&(be=pg):be=FT;if(be&&(be=be(t,P))){ai(re,be,s,J);break e}qe&&qe(t,Q,P),t==="focusout"&&P&&Q.type==="number"&&P.memoizedProps.value!=null&&ws(Q,"number",Q.value)}switch(qe=P?Kn(P):window,t){case"focusin":(Kt(qe)||qe.contentEditable==="true")&&(Ls=qe,Lh=P,Go=null);break;case"focusout":Go=Lh=Ls=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,wg(re,s,J);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":wg(re,s,J)}var Ce;if(Vr)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ze?Y(t,s)&&(Ie="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(v&&s.locale!=="ko"&&(Ze||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ze&&(Ce=Uo()):(Or=J,qi="value"in Or?Or.value:Or.textContent,Ze=!0)),qe=lc(P,Ie),0<qe.length&&(Ie=new jo(Ie,t,null,s,J),re.push({event:Ie,listeners:qe}),Ce?Ie.data=Ce:(Ce=ce(s),Ce!==null&&(Ie.data=Ce)))),(Ce=p?Gt(t,s):Je(t,s))&&(Ie=lc(P,"onBeforeInput"),0<Ie.length&&(qe=new jo("onBeforeInput","beforeinput",null,s,J),re.push({event:qe,listeners:Ie}),qe.data=Ce)),OS(re,t,P,s,J)}By(re,r)})}function _l(t,r,s){return{instance:t,listener:r,currentTarget:s}}function lc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ua(t,s),h!=null&&l.unshift(_l(t,h,d)),h=Ua(t,r),h!=null&&l.push(_l(t,h,d))),t=t.return}return l}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function qy(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var T=s,D=T.alternate,P=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||P===null||(D=P,h?(P=Ua(s,d),P!=null&&_.unshift(_l(s,P,D))):h||(P=Ua(s,d),P!=null&&_.push(_l(s,P,D)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var VS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function Fy(t){return(typeof t=="string"?t:""+t).replace(VS,`
`).replace(LS,"")}function Gy(t,r){return r=Fy(r),Fy(t)===r}function uc(){}function gt(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||$n(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&$n(t,""+l);break;case"className":ji(t,"class",l);break;case"tabIndex":ji(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(t,s,l);break;case"style":hu(t,l,d);break;case"data":if(r!=="object"){ji(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ir(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&gt(t,r,"name",h.name,h,null),gt(t,r,"formEncType",h.formEncType,h,null),gt(t,r,"formMethod",h.formMethod,h,null),gt(t,r,"formTarget",h.formTarget,h,null)):(gt(t,r,"encType",h.encType,h,null),gt(t,r,"method",h.method,h,null),gt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ir(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=uc);break;case"onScroll":l!=null&&Qe("scroll",t);break;case"onScrollEnd":l!=null&&Qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ir(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Qe("beforetoggle",t),Qe("toggle",t),Dr(t,"popover",l);break;case"xlinkActuate":Yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Dr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Dh.get(s)||s,Dr(t,s,l))}}function sd(t,r,s,l,h,d){switch(s){case"style":hu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?$n(t,l):(typeof l=="number"||typeof l=="bigint")&&$n(t,""+l);break;case"onScroll":l!=null&&Qe("scroll",t);break;case"onScrollEnd":l!=null&&Qe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[Re]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Dr(t,s,l)}}}function cn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",t),Qe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:gt(t,r,d,_,s,null)}}h&&gt(t,r,"srcSet",s.srcSet,s,null),l&&gt(t,r,"src",s.src,s,null);return;case"input":Qe("invalid",t);var T=d=_=h=null,D=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":P=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:gt(t,r,l,J,s,null)}}La(t,d,T,D,P,_,h,!1),Va(t);return;case"select":Qe("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:gt(t,r,h,T,s,null)}r=d,s=_,t.multiple=!!l,r!=null?it(t,!!l,r,!1):s!=null&&it(t,!!l,s,!0);return;case"textarea":Qe("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:gt(t,r,_,T,s,null)}Hi(t,l,h,d),Va(t);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:gt(t,r,D,l,s,null)}return;case"dialog":Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":Qe("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Qe(vl[l],t);break;case"image":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"embed":case"source":case"link":Qe("error",t),Qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:gt(t,r,P,l,s,null)}return;default:if(Lo(r)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&sd(t,r,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&gt(t,r,T,l,s,null))}function PS(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,P=null,J=null;for(Z in s){var re=s[Z];if(s.hasOwnProperty(Z)&&re!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":D=re;default:l.hasOwnProperty(Z)||gt(t,r,Z,null,l,re)}}for(var Q in l){var Z=l[Q];if(re=s[Q],l.hasOwnProperty(Q)&&(Z!=null||re!=null))switch(Q){case"type":d=Z;break;case"name":h=Z;break;case"checked":P=Z;break;case"defaultChecked":J=Z;break;case"value":_=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:Z!==re&&gt(t,r,Q,Z,l,re)}}Bi(t,_,T,D,P,J,d,h);return;case"select":Z=_=T=Q=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Z=D;default:l.hasOwnProperty(d)||gt(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&gt(t,r,h,d,l,D)}r=T,s=_,l=Z,Q!=null?it(t,!!s,Q,!1):!!l!=!!s&&(r!=null?it(t,!!s,r,!0):it(t,!!s,s?[]:"",!1));return;case"textarea":Z=Q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:gt(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Q=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&gt(t,r,_,h,l,d)}Pa(t,Q,Z);return;case"option":for(var we in s)if(Q=s[we],s.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:gt(t,r,we,null,l,Q)}for(D in l)if(Q=l[D],Z=s[D],l.hasOwnProperty(D)&&Q!==Z&&(Q!=null||Z!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:gt(t,r,D,Q,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in s)Q=s[Pe],s.hasOwnProperty(Pe)&&Q!=null&&!l.hasOwnProperty(Pe)&&gt(t,r,Pe,null,l,Q);for(P in l)if(Q=l[P],Z=s[P],l.hasOwnProperty(P)&&Q!==Z&&(Q!=null||Z!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,r));break;default:gt(t,r,P,Q,l,Z)}return;default:if(Lo(r)){for(var Mt in s)Q=s[Mt],s.hasOwnProperty(Mt)&&Q!==void 0&&!l.hasOwnProperty(Mt)&&sd(t,r,Mt,void 0,l,Q);for(J in l)Q=l[J],Z=s[J],!l.hasOwnProperty(J)||Q===Z||Q===void 0&&Z===void 0||sd(t,r,J,Q,l,Z);return}}for(var B in s)Q=s[B],s.hasOwnProperty(B)&&Q!=null&&!l.hasOwnProperty(B)&&gt(t,r,B,null,l,Q);for(re in l)Q=l[re],Z=s[re],!l.hasOwnProperty(re)||Q===Z||Q==null&&Z==null||gt(t,r,re,Q,l,Z)}var od=null,ld=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function Ky(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function ud(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cd=null;function US(){var t=window.event;return t&&t.type==="popstate"?t===cd?!1:(cd=t,!0):(cd=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(t){return $y.resolve(null).then(t).catch(jS)}:Yy;function jS(t){setTimeout(function(){throw t})}function hd(t,r){var s=r,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){t.removeChild(h),Cl(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Cl(r)}function fd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fd(s),Pn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function BS(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Tn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=vr(t.nextSibling),t===null)break}return null}function HS(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=vr(t.nextSibling),t===null))return null;return t}function vr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function Xy(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}function Zy(t,r,s){switch(r=cc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var lr=new Map,Jy=new Set;function hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ei=de.d;de.d={f:qS,r:FS,D:GS,C:KS,L:QS,m:YS,X:XS,S:$S,M:ZS};function qS(){var t=Ei.f(),r=rc();return t||r}function FS(t){var r=zt(t);r!==null&&r.tag===5&&r.type==="form"?wp(r):Ei.r(t)}var io=typeof document>"u"?null:document;function Wy(t,r,s){var l=io;if(l&&typeof r=="string"&&r){var h=It(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Jy.has(h)||(Jy.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),cn(r,"link",t),ot(r),l.head.appendChild(r)))}}function GS(t){Ei.D(t),Wy("dns-prefetch",t,null)}function KS(t,r){Ei.C(t,r),Wy("preconnect",t,r)}function QS(t,r,s){Ei.L(t,r,s);var l=io;if(l&&t&&r){var h='link[rel="preload"][as="'+It(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+It(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+It(s.imageSizes)+'"]')):h+='[href="'+It(t)+'"]';var d=h;switch(r){case"style":d=ao(t);break;case"script":d=so(t)}lr.has(d)||(t=I({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),lr.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(El(d))||r==="script"&&l.querySelector(Tl(d))||(r=l.createElement("link"),cn(r,"link",t),ot(r),l.head.appendChild(r)))}}function YS(t,r){Ei.m(t,r);var s=io;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!lr.has(d)&&(t=I({rel:"modulepreload",href:t},r),lr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Tl(d)))return}l=s.createElement("link"),cn(l,"link",t),ot(l),s.head.appendChild(l)}}}function $S(t,r,s){Ei.S(t,r,s);var l=io;if(l&&t){var h=In(l).hoistableStyles,d=ao(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(El(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":r},s),(s=lr.get(d))&&dd(t,s);var D=_=l.createElement("link");ot(D),cn(D,"link",t),D._p=new Promise(function(P,J){D.onload=P,D.onerror=J}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function XS(t,r){Ei.X(t,r);var s=io;if(s&&t){var l=In(s).hoistableScripts,h=so(t),d=l.get(h);d||(d=s.querySelector(Tl(h)),d||(t=I({src:t,async:!0},r),(r=lr.get(h))&&md(t,r),d=s.createElement("script"),ot(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ZS(t,r){Ei.M(t,r);var s=io;if(s&&t){var l=In(s).hoistableScripts,h=so(t),d=l.get(h);d||(d=s.querySelector(Tl(h)),d||(t=I({src:t,async:!0,type:"module"},r),(r=lr.get(h))&&md(t,r),d=s.createElement("script"),ot(d),cn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ev(t,r,s,l){var h=(h=Cn.current)?hc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=ao(s.href),s=In(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ao(s.href);var d=In(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(El(t)))&&!d._p&&(_.instance=d,_.state.loading=5),lr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},lr.set(t,s),d||JS(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(s),s=In(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ao(t){return'href="'+It(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function JS(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),cn(r,"link",s),ot(r),t.head.appendChild(r))}function so(t){return'[src="'+It(t)+'"]'}function Tl(t){return"script[async]"+t}function nv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+It(s.href)+'"]');if(l)return r.instance=l,ot(l),l;var h=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ot(l),cn(l,"style",h),fc(l,s.precedence,t),r.instance=l;case"stylesheet":h=ao(s.href);var d=t.querySelector(El(h));if(d)return r.state.loading|=4,r.instance=d,ot(d),d;l=tv(s),(h=lr.get(h))&&dd(l,h),d=(t.ownerDocument||t).createElement("link"),ot(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),cn(d,"link",l),r.state.loading|=4,fc(d,s.precedence,t),r.instance=d;case"script":return d=so(s.src),(h=t.querySelector(Tl(d)))?(r.instance=h,ot(h),h):(l=s,(h=lr.get(d))&&(l=I({},s),md(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ot(h),cn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,fc(l,s.precedence,t));return r.instance}function fc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function dd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function md(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var dc=null;function rv(t,r,s){if(dc===null){var l=new Map,h=dc=new Map;h.set(s,l)}else h=dc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Tn]||d[Ae]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function iv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function WS(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sl=null;function eb(){}function tb(t,r,s){if(Sl===null)throw Error(a(475));var l=Sl;if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ao(s.href),d=t.querySelector(El(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ot(d);return}d=t.ownerDocument||t,s=tv(s),(h=lr.get(h))&&dd(s,h),d=d.createElement("link"),ot(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),cn(d,"link",s),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=mc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function nb(){if(Sl===null)throw Error(a(475));var t=Sl;return t.stylesheets&&t.count===0&&gd(t,t.stylesheets),0<t.count?function(r){var s=setTimeout(function(){if(t.stylesheets&&gd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s)}}:null}function mc(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gc=null;function gd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gc=new Map,r.forEach(rb,t),gc=null,mc.call(t))}function rb(t,r){if(!(r.state.loading&4)){var s=gc.get(t);if(s)var l=s.get(null);else{s=new Map,gc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var bl={$$typeof:R,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function ib(t,r,s,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=j(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=j(0),this.hiddenUpdates=j(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function sv(t,r,s,l,h,d,_,T,D,P,J,re){return t=new ib(t,r,s,_,T,D,P,re),r=1,d===!0&&(r|=24),d=sr(3,null,null,r),t.current=d,d.stateNode=t,r=Kh(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Cf(d),t}function ov(t){return t?(t=ks,t):ks}function lv(t,r,s,l,h,d){h=ov(h),l.context===null?l.context=h:l.pendingContext=h,l=Zi(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ji(t,l,r),s!==null&&(wn(s,t,r),sl(s,t,r))}function uv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function pd(t,r){uv(t,r),(t=t.alternate)&&uv(t,r)}function cv(t){if(t.tag===13){var r=Fi(t,67108864);r!==null&&wn(r,t,67108864),pd(t,67108864)}}var pc=!0;function ab(t,r,s,l){var h=b.T;b.T=null;var d=de.p;try{de.p=2,yd(t,r,s,l)}finally{de.p=d,b.T=h}}function sb(t,r,s,l){var h=b.T;b.T=null;var d=de.p;try{de.p=8,yd(t,r,s,l)}finally{de.p=d,b.T=h}}function yd(t,r,s,l){if(pc){var h=vd(l);if(h===null)ad(t,r,l,yc,s),fv(t,l);else if(lb(h,t,r,s,l))l.stopPropagation();else if(fv(t,l),r&4&&-1<ob.indexOf(t)){for(;h!==null;){var d=zt(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Dn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-kt(_);T.entanglements[1]|=D,_&=~D}jr(d),(wt&6)===0&&(ec=an()+500,yl(0))}}break;case 13:T=Fi(d,2),T!==null&&wn(T,d,2),rc(),pd(d,2)}if(d=vd(l),d===null&&ad(t,r,l,yc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else ad(t,r,l,null,s)}}function vd(t){return t=Rs(t),_d(t)}var yc=null;function _d(t){if(yc=null,t=Vt(t),t!==null){var r=pe(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=He(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return yc=t,null}function hv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Li()){case ft:return 2;case dt:return 8;case Fn:case Pi:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var Ed=!1,aa=null,sa=null,oa=null,Al=new Map,wl=new Map,la=[],ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fv(t,r){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Al.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(r.pointerId)}}function Rl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=zt(r),r!==null&&cv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function lb(t,r,s,l,h){switch(r){case"focusin":return aa=Rl(aa,t,r,s,l,h),!0;case"dragenter":return sa=Rl(sa,t,r,s,l,h),!0;case"mouseover":return oa=Rl(oa,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Al.set(d,Rl(Al.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Rl(wl.get(d)||null,t,r,s,l,h)),!0}return!1}function dv(t){var r=Vt(t.target);if(r!==null){var s=pe(r);if(s!==null){if(r=s.tag,r===13){if(r=He(s),r!==null){t.blockedOn=r,_e(t.priority,function(){if(s.tag===13){var l=Bn(),h=Fi(s,l);h!==null&&wn(h,s,l),pd(s,l)}});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=vd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Xn=l,s.target.dispatchEvent(l),Xn=null}else return r=zt(s),r!==null&&cv(r),t.blockedOn=s,!1;r.shift()}return!0}function mv(t,r,s){vc(t)&&s.delete(r)}function ub(){Ed=!1,aa!==null&&vc(aa)&&(aa=null),sa!==null&&vc(sa)&&(sa=null),oa!==null&&vc(oa)&&(oa=null),Al.forEach(mv),wl.forEach(mv)}function _c(t,r){t.blockedOn===r&&(t.blockedOn=null,Ed||(Ed=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ub)))}var Ec=null;function gv(t){Ec!==t&&(Ec=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ec===t&&(Ec=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(_d(l||s)===null)continue;break}var d=zt(s);d!==null&&(t.splice(r,3),r-=3,uf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Cl(t){function r(D){return _c(D,t)}aa!==null&&_c(aa,t),sa!==null&&_c(sa,t),oa!==null&&_c(oa,t),Al.forEach(r),wl.forEach(r);for(var s=0;s<la.length;s++){var l=la[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<la.length&&(s=la[0],s.blockedOn===null);)dv(s),s.blockedOn===null&&la.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Re]||null;if(typeof d=="function")_||gv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Re]||null)T=_.formAction;else if(_d(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),gv(s)}}}function Td(t){this._internalRoot=t}Tc.prototype.render=Td.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Bn();lv(s,l,t,r,null,null)},Tc.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&to(),lv(t.current,2,null,t,null,null),rc(),r[Xe]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ve();t={blockedOn:null,target:t,priority:r};for(var s=0;s<la.length&&r!==0&&r<la[s].priority;s++);la.splice(s,0,t),s===0&&dv(t)}};var pv=e.version;if(pv!=="19.0.0")throw Error(a(527,pv,"19.0.0"));de.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=ie(r),t=t!==null?Te(t):null,t=t===null?null:t.stateNode,t};var cb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Vt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{dr=Sc.inject(cb),Ft=Sc}catch{}}return Il.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=xp,d=Vp,_=Lp,T=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=sv(t,1,!1,null,null,s,l,h,d,_,T,null),t[Xe]=r.current,id(t.nodeType===8?t.parentNode:t),new Td(r)},Il.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=xp,_=Vp,T=Lp,D=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),r=sv(t,1,!0,r,s??null,l,h,d,_,T,D,P),r.context=ov(null),s=r.current,l=Bn(),h=Zi(l),h.callback=null,Ji(s,h,l),r.current.lanes=l,F(r,l),jr(r),t[Xe]=r.current,id(t),new Tc(r)},Il.version="19.0.0",Il}var Rv;function Eb(){if(Rv)return Ad.exports;Rv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ad.exports=_b(),Ad.exports}var Tb=Eb();const Sb=S0(Tb);var Ol={},Cv;function bb(){if(Cv)return Ol;Cv=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=f,Ol.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,R){const k=new u,X=C.length;if(X<2)return k;const q=(R==null?void 0:R.decode)||E;let $=0;do{const ee=C.indexOf("=",$);if(ee===-1)break;const oe=C.indexOf(";",$),ye=oe===-1?X:oe;if(ee>ye){$=C.lastIndexOf(";",ee-1)+1;continue}const ue=m(C,$,ee),U=g(C,ee,ue),N=C.slice(ue,U);if(k[N]===void 0){let w=m(C,ee+1,ye),b=g(C,ye,w);const I=q(C.slice(w,b));k[N]=I}$=ye+1}while($<X);return k}function m(C,R,k){do{const X=C.charCodeAt(R);if(X!==32&&X!==9)return R}while(++R<k);return k}function g(C,R,k){for(;R>k;){const X=C.charCodeAt(--R);if(X!==32&&X!==9)return R+1}return k}function y(C,R,k){const X=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(C))throw new TypeError(`argument name is invalid: ${C}`);const q=X(R);if(!e.test(q))throw new TypeError(`argument val is invalid: ${R}`);let $=C+"="+q;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!a.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!A(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function A(C){return o.call(C)==="[object Date]"}return Ol}bb();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dv="popstate";function Ab(i={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return ql("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Sa(o)}return Rb(e,n,null,i)}function Ye(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wb(){return Math.random().toString(36).substring(2,10)}function Iv(i,e){return{usr:i.state,key:i.key,idx:e}}function ql(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ia(e):e,state:n,key:e&&e.key||a||wb()}}function Sa({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ia(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function Rb(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=E(),$=q==null?null:q-y;y=q,g&&g({action:m,location:X.location,delta:$})}function C(q,$){m="PUSH";let ee=ql(X.location,q,$);y=E()+1;let oe=Iv(ee,y),ye=X.createHref(ee);try{f.pushState(oe,"",ye)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ye)}u&&g&&g({action:m,location:X.location,delta:1})}function R(q,$){m="REPLACE";let ee=ql(X.location,q,$);y=E();let oe=Iv(ee,y),ye=X.createHref(ee);f.replaceState(oe,"",ye),u&&g&&g({action:m,location:X.location,delta:0})}function k(q){let $=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof q=="string"?q:Sa(q);return ee=ee.replace(/ $/,"%20"),Ye($,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,$)}let X={get action(){return m},get location(){return i(o,f)},listen(q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Dv,A),g=q,()=>{o.removeEventListener(Dv,A),g=null}},createHref(q){return e(o,q)},createURL:k,encodeLocation(q){let $=k(q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:R,go(q){return f.go(q)}};return X}var Cb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Db(i){return i.index===!0}function Hc(i,e,n=[],a={}){return i.map((o,u)=>{let f=[...n,String(u)],m=typeof o.id=="string"?o.id:f.join("-");if(Ye(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ye(!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),Db(o)){let g={...o,...e(o),id:m};return a[m]=g,g}else{let g={...o,...e(o),id:m,children:void 0};return a[m]=g,o.children&&(g.children=Hc(o.children,e,f,a)),g}})}function fa(i,e,n="/"){return Nc(i,e,n,!1)}function Nc(i,e,n,a){let o=typeof e=="string"?Ia(e):e,u=Sr(o.pathname||"/",n);if(u==null)return null;let f=A0(i);Ob(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=Bb(u);m=zb(f[g],y,a)}return m}function Ib(i,e){let{route:n,pathname:a,params:o}=i;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function A0(i,e=[],n=[],a=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=Fr([a,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Ye(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),A0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Ub(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of w0(u.path))o(u,f,g)}),e}function w0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=w0(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Ob(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:kb(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Nb=/^:[\w-]+$/,Mb=3,xb=2,Vb=1,Lb=10,Pb=-2,Ov=i=>i==="*";function Ub(i,e){let n=i.split("/"),a=n.length;return n.some(Ov)&&(a+=Pb),e&&(a+=xb),n.filter(o=>!Ov(o)).reduce((o,u)=>o+(Nb.test(u)?Mb:u===""?Vb:Lb),a)}function kb(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function zb(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),C=g.route;if(!A&&y&&n&&!a[a.length-1].route.index&&(A=qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Fr([u,A.pathname]),pathnameBase:Fb(Fr([u,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(u=Fr([u,A.pathnameBase]))}return f}function qc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=jb(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:A},C)=>{if(E==="*"){let k=m[C]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const R=m[C];return A&&!R?y[E]=void 0:y[E]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function jb(i,e=!1,n=!0){fn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function Bb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Sr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}function Hb(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Ia(i):i;return{pathname:n?n.startsWith("/")?n:qb(n,e):e,search:Gb(a),hash:Kb(o)}}function qb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dd(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sm(i){let e=R0(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function bm(i,e,n,a=!1){let o;typeof i=="string"?o=Ia(i):(o={...i},Ye(!o.pathname||!o.pathname.includes("?"),Dd("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),Dd("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),Dd("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!a&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),A-=1;o.pathname=C.join("/")}m=A>=0?e[A]:"/"}let g=Hb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Fr=i=>i.join("/").replace(/\/\/+/g,"/"),Fb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Gb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Kb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Fc=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Fl(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var C0=["POST","PUT","PATCH","DELETE"],Qb=new Set(C0),Yb=["GET",...C0],$b=new Set(Yb),Xb=new Set([301,302,303,307,308]),Zb=new Set([307,308]),Id={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Am=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wb=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),D0="remix-router-transitions",I0=Symbol("ResetLoaderData");function eA(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ye(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=i.mapRouteProperties||Wb,o={},u=Hc(i.routes,a,void 0,o),f,m=i.basename||"/",g=i.dataStrategy||aA,y=i.patchRoutesOnNavigation,E={...i.future},A=null,C=new Set,R=null,k=null,X=null,q=i.hydrationData!=null,$=fa(u,i.history.location,m),ee=!1,oe=null;if($==null&&!y){let M=ur(404,{pathname:i.history.location.pathname}),{matches:j,route:F}=Bv(u);$=j,oe={[F.id]:M}}$&&!i.hydrationData&&sn($,u,i.history.location.pathname).active&&($=null);let ye;if($)if($.some(M=>M.route.lazy))ye=!1;else if(!$.some(M=>M.route.loader))ye=!0;else{let M=i.hydrationData?i.hydrationData.loaderData:null,j=i.hydrationData?i.hydrationData.errors:null;if(j){let F=$.findIndex(ae=>j[ae.route.id]!==void 0);ye=$.slice(0,F+1).every(ae=>!Gd(ae.route,M,j))}else ye=$.every(F=>!Gd(F.route,M,j))}else{ye=!1,$=[];let M=sn(null,u,i.history.location.pathname);M.active&&M.matches&&(ee=!0,$=M.matches)}let ue,U={historyAction:i.history.action,location:i.history.location,matches:$,initialized:ye,navigation:Id,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||oe,fetchers:new Map,blockers:new Map},N="POP",w=!1,b,I=!1,V=new Map,z=null,O=!1,ht=!1,pt=new Set,se=new Map,le=0,pe=-1,He=new Map,x=new Set,ie=new Map,Te=new Map,fe=new Set,de=new Map,Ve,Me=null;function Ct(){if(A=i.history.listen(({action:M,location:j,delta:F})=>{if(Ve){Ve(),Ve=void 0;return}fn(de.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Ui({currentLocation:U.location,nextLocation:j,historyAction:M});if(ae&&F!=null){let me=new Promise(Se=>{Ve=Se});i.history.go(F*-1),kt(ae,{state:"blocked",location:j,proceed(){kt(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),me.then(()=>i.history.go(F))},reset(){let Se=new Map(U.blockers);Se.set(ae,Nl),Le({blockers:Se})}});return}return mn(M,j)}),n){pA(e,V);let M=()=>yA(e,V);e.addEventListener("pagehide",M),z=()=>e.removeEventListener("pagehide",M)}return U.initialized||mn("POP",U.location,{initialHydration:!0}),ue}function $e(){A&&A(),z&&z(),C.clear(),b&&b.abort(),U.fetchers.forEach((M,j)=>Pi(j)),U.blockers.forEach((M,j)=>xn(j))}function bt(M){return C.add(M),()=>C.delete(M)}function Le(M,j={}){U={...U,...M};let F=[],ae=[];U.fetchers.forEach((me,Se)=>{me.state==="idle"&&(fe.has(Se)?F.push(Se):ae.push(Se))}),fe.forEach(me=>{!U.fetchers.has(me)&&!se.has(me)&&F.push(me)}),[...C].forEach(me=>me(U,{deletedFetchers:F,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),F.forEach(me=>Pi(me)),ae.forEach(me=>U.fetchers.delete(me))}function Dt(M,j,{flushSync:F}={}){var he,Ae;let ae=U.actionData!=null&&U.navigation.formMethod!=null&&_r(U.navigation.formMethod)&&U.navigation.state==="loading"&&((he=M.state)==null?void 0:he._isRedirect)!==!0,me;j.actionData?Object.keys(j.actionData).length>0?me=j.actionData:me=null:ae?me=U.actionData:me=null;let Se=j.loaderData?zv(U.loaderData,j.loaderData,j.matches||[],j.errors):U.loaderData,De=U.blockers;De.size>0&&(De=new Map(De),De.forEach((Re,Xe)=>De.set(Xe,Nl)));let ve=w===!0||U.navigation.formMethod!=null&&_r(U.navigation.formMethod)&&((Ae=M.state)==null?void 0:Ae._isRedirect)!==!0;f&&(u=f,f=void 0),O||N==="POP"||(N==="PUSH"?i.history.push(M,M.state):N==="REPLACE"&&i.history.replace(M,M.state));let _e;if(N==="POP"){let Re=V.get(U.location.pathname);Re&&Re.has(M.pathname)?_e={currentLocation:U.location,nextLocation:M}:V.has(M.pathname)&&(_e={currentLocation:M,nextLocation:U.location})}else if(I){let Re=V.get(U.location.pathname);Re?Re.add(M.pathname):(Re=new Set([M.pathname]),V.set(U.location.pathname,Re)),_e={currentLocation:U.location,nextLocation:M}}Le({...j,actionData:me,loaderData:Se,historyAction:N,location:M,initialized:!0,navigation:Id,revalidation:"idle",restoreScrollPosition:Dn(M,j.matches||U.matches),preventScrollReset:ve,blockers:De},{viewTransitionOpts:_e,flushSync:F===!0}),N="POP",w=!1,I=!1,O=!1,ht=!1,Me==null||Me.resolve(),Me=null}async function qn(M,j){if(typeof M=="number"){i.history.go(M);return}let F=Fd(U.location,U.matches,m,M,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:ae,submission:me,error:Se}=Nv(!1,F,j),De=U.location,ve=ql(U.location,ae,j&&j.state);ve={...ve,...i.history.encodeLocation(ve)};let _e=j&&j.replace!=null?j.replace:void 0,he="PUSH";_e===!0?he="REPLACE":_e===!1||me!=null&&_r(me.formMethod)&&me.formAction===U.location.pathname+U.location.search&&(he="REPLACE");let Ae=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Re=(j&&j.flushSync)===!0,Xe=Ui({currentLocation:De,nextLocation:ve,historyAction:he});if(Xe){kt(Xe,{state:"blocked",location:ve,proceed(){kt(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),qn(M,j)},reset(){let Tt=new Map(U.blockers);Tt.set(Xe,Nl),Le({blockers:Tt})}});return}await mn(he,ve,{submission:me,pendingError:Se,preventScrollReset:Ae,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Re})}function Cn(){Me||(Me=vA()),Li(),Le({revalidation:"loading"});let M=Me.promise;return U.navigation.state==="submitting"?M:U.navigation.state==="idle"?(mn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),M):(mn(N||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:I===!0}),M)}async function mn(M,j,F){b&&b.abort(),b=null,N=M,O=(F&&F.startUninterruptedRevalidation)===!0,Rr(U.location,U.matches),w=(F&&F.preventScrollReset)===!0,I=(F&&F.enableViewTransition)===!0;let ae=f||u,me=F&&F.overrideNavigation,Se=F!=null&&F.initialHydration&&U.matches&&U.matches.length>0&&!ee?U.matches:fa(ae,j,m),De=(F&&F.flushSync)===!0;if(Se&&U.initialized&&!ht&&hA(U.location,j)&&!(F&&F.submission&&_r(F.submission.formMethod))){Dt(j,{matches:Se},{flushSync:De});return}let ve=sn(Se,ae,j.pathname);if(ve.active&&ve.matches&&(Se=ve.matches),!Se){let{error:ut,notFoundMatches:Ge,route:St}=ki(j.pathname);Dt(j,{matches:Ge,loaderData:{},errors:{[St.id]:ut}},{flushSync:De});return}b=new AbortController;let _e=oo(i.history,j,b.signal,F&&F.submission),he;if(F&&F.pendingError)he=[us(Se).route.id,{type:"error",error:F.pendingError}];else if(F&&F.submission&&_r(F.submission.formMethod)){let ut=await Ar(_e,j,F.submission,Se,ve.active,{replace:F.replace,flushSync:De});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[Ge,St]=ut.pendingActionResult;if(Hn(St)&&Fl(St.error)&&St.error.status===404){b=null,Dt(j,{matches:ut.matches,loaderData:{},errors:{[Ge]:St.error}});return}}Se=ut.matches||Se,he=ut.pendingActionResult,me=Od(j,F.submission),De=!1,ve.active=!1,_e=oo(i.history,_e.url,_e.signal)}let{shortCircuited:Ae,matches:Re,loaderData:Xe,errors:Tt}=await cr(_e,j,Se,ve.active,me,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,De,he);Ae||(b=null,Dt(j,{matches:Re||Se,...jv(he),loaderData:Xe,errors:Tt}))}async function Ar(M,j,F,ae,me,Se={}){Li();let De=mA(j,F);if(Le({navigation:De},{flushSync:Se.flushSync===!0}),me){let he=await Ln(ae,j.pathname,M.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let Ae=us(he.partialMatches).route.id;return{matches:he.partialMatches,pendingActionResult:[Ae,{type:"error",error:he.error}]}}else if(he.matches)ae=he.matches;else{let{notFoundMatches:Ae,error:Re,route:Xe}=ki(j.pathname);return{matches:Ae,pendingActionResult:[Xe.id,{type:"error",error:Re}]}}}let ve,_e=Vl(ae,j);if(!_e.route.action&&!_e.route.lazy)ve={type:"error",error:ur(405,{method:M.method,pathname:j.pathname,routeId:_e.route.id})};else if(ve=(await fr("action",U,M,[_e],ae,null))[_e.route.id],M.signal.aborted)return{shortCircuited:!0};if(cs(ve)){let he;return Se&&Se.replace!=null?he=Se.replace:he=Pv(ve.response.headers.get("Location"),new URL(M.url),m)===U.location.pathname+U.location.search,await hr(M,ve,!0,{submission:F,replace:he}),{shortCircuited:!0}}if(Hn(ve)){let he=us(ae,_e.route.id);return(Se&&Se.replace)!==!0&&(N="PUSH"),{matches:ae,pendingActionResult:[he.route.id,ve]}}return{matches:ae,pendingActionResult:[_e.route.id,ve]}}async function cr(M,j,F,ae,me,Se,De,ve,_e,he,Ae){let Re=me||Od(j,Se),Xe=Se||De||qv(Re),Tt=!O&&!_e;if(ae){if(Tt){let lt=Ni(Ae);Le({navigation:Re,...lt!==void 0?{actionData:lt}:{}},{flushSync:he})}let je=await Ln(F,j.pathname,M.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){let lt=us(je.partialMatches).route.id;return{matches:je.partialMatches,loaderData:{},errors:{[lt]:je.error}}}else if(je.matches)F=je.matches;else{let{error:lt,notFoundMatches:Zt,route:Jr}=ki(j.pathname);return{matches:Zt,loaderData:{},errors:{[Jr.id]:lt}}}}let ut=f||u,[Ge,St]=xv(i.history,U,F,Xe,j,_e===!0,ht,pt,fe,ie,x,ut,m,Ae);if(pe=++le,Ge.length===0&&St.length===0){let je=dr();return Dt(j,{matches:F,loaderData:{},errors:Ae&&Hn(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...jv(Ae),...je?{fetchers:new Map(U.fetchers)}:{}},{flushSync:he}),{shortCircuited:!0}}if(Tt){let je={};if(!ae){je.navigation=Re;let lt=Ni(Ae);lt!==void 0&&(je.actionData=lt)}St.length>0&&(je.fetchers=Mi(St)),Le(je,{flushSync:he})}St.forEach(je=>{Gn(je.key),je.controller&&se.set(je.key,je.controller)});let Tn=()=>St.forEach(je=>Gn(je.key));b&&b.signal.addEventListener("abort",Tn);let{loaderResults:Pn,fetcherResults:Vt}=await an(U,F,Ge,St,M);if(M.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",Tn),St.forEach(je=>se.delete(je.key));let zt=bc(Pn);if(zt)return await hr(M,zt.result,!0,{replace:ve}),{shortCircuited:!0};if(zt=bc(Vt),zt)return x.add(zt.key),await hr(M,zt.result,!0,{replace:ve}),{shortCircuited:!0};let{loaderData:Kn,errors:In}=kv(U,F,Pn,Ae,St,Vt);_e&&U.errors&&(In={...U.errors,...In});let ot=dr(),Cr=Ft(pe),mr=ot||Cr||St.length>0;return{matches:F,loaderData:Kn,errors:In,...mr?{fetchers:new Map(U.fetchers)}:{}}}function Ni(M){if(M&&!Hn(M[1]))return{[M[0]]:M[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Mi(M){return M.forEach(j=>{let F=U.fetchers.get(j.key),ae=Ml(void 0,F?F.data:void 0);U.fetchers.set(j.key,ae)}),new Map(U.fetchers)}async function xi(M,j,F,ae){Gn(M);let me=(ae&&ae.flushSync)===!0,Se=f||u,De=Fd(U.location,U.matches,m,F,j,ae==null?void 0:ae.relative),ve=fa(Se,De,m),_e=sn(ve,Se,De);if(_e.active&&_e.matches&&(ve=_e.matches),!ve){dt(M,j,ur(404,{pathname:De}),{flushSync:me});return}let{path:he,submission:Ae,error:Re}=Nv(!0,De,ae);if(Re){dt(M,j,Re,{flushSync:me});return}let Xe=Vl(ve,he),Tt=(ae&&ae.preventScrollReset)===!0;if(Ae&&_r(Ae.formMethod)){await Zr(M,j,he,Xe,ve,_e.active,me,Tt,Ae);return}ie.set(M,{routeId:j,path:he}),await Vi(M,j,he,Xe,ve,_e.active,me,Tt,Ae)}async function Zr(M,j,F,ae,me,Se,De,ve,_e){Li(),ie.delete(M);function he(vt){if(!vt.route.action&&!vt.route.lazy){let Qn=ur(405,{method:_e.formMethod,pathname:F,routeId:j});return dt(M,j,Qn,{flushSync:De}),!0}return!1}if(!Se&&he(ae))return;let Ae=U.fetchers.get(M);ft(M,gA(_e,Ae),{flushSync:De});let Re=new AbortController,Xe=oo(i.history,F,Re.signal,_e);if(Se){let vt=await Ln(me,F,Xe.signal);if(vt.type==="aborted")return;if(vt.type==="error"){dt(M,j,vt.error,{flushSync:De});return}else if(vt.matches){if(me=vt.matches,ae=Vl(me,F),he(ae))return}else{dt(M,j,ur(404,{pathname:F}),{flushSync:De});return}}se.set(M,Re);let Tt=le,Ge=(await fr("action",U,Xe,[ae],me,M))[ae.route.id];if(Xe.signal.aborted){se.get(M)===Re&&se.delete(M);return}if(fe.has(M)){if(cs(Ge)||Hn(Ge)){ft(M,ha(void 0));return}}else{if(cs(Ge))if(se.delete(M),pe>Tt){ft(M,ha(void 0));return}else return x.add(M),ft(M,Ml(_e)),hr(Xe,Ge,!1,{fetcherSubmission:_e,preventScrollReset:ve});if(Hn(Ge)){dt(M,j,Ge.error);return}}let St=U.navigation.location||U.location,Tn=oo(i.history,St,Re.signal),Pn=f||u,Vt=U.navigation.state!=="idle"?fa(Pn,U.navigation.location,m):U.matches;Ye(Vt,"Didn't find any matches after fetcher action");let zt=++le;He.set(M,zt);let Kn=Ml(_e,Ge.data);U.fetchers.set(M,Kn);let[In,ot]=xv(i.history,U,Vt,_e,St,!1,ht,pt,fe,ie,x,Pn,m,[ae.route.id,Ge]);ot.filter(vt=>vt.key!==M).forEach(vt=>{let Qn=vt.key,xa=U.fetchers.get(Qn),Dr=Ml(void 0,xa?xa.data:void 0);U.fetchers.set(Qn,Dr),Gn(Qn),vt.controller&&se.set(Qn,vt.controller)}),Le({fetchers:new Map(U.fetchers)});let Cr=()=>ot.forEach(vt=>Gn(vt.key));Re.signal.addEventListener("abort",Cr);let{loaderResults:mr,fetcherResults:je}=await an(U,Vt,In,ot,Tn);if(Re.signal.aborted)return;Re.signal.removeEventListener("abort",Cr),He.delete(M),se.delete(M),ot.forEach(vt=>se.delete(vt.key));let lt=bc(mr);if(lt)return hr(Tn,lt.result,!1,{preventScrollReset:ve});if(lt=bc(je),lt)return x.add(lt.key),hr(Tn,lt.result,!1,{preventScrollReset:ve});let{loaderData:Zt,errors:Jr}=kv(U,Vt,mr,void 0,ot,je);if(U.fetchers.has(M)){let vt=ha(Ge.data);U.fetchers.set(M,vt)}Ft(zt),U.navigation.state==="loading"&&zt>pe?(Ye(N,"Expected pending action"),b&&b.abort(),Dt(U.navigation.location,{matches:Vt,loaderData:Zt,errors:Jr,fetchers:new Map(U.fetchers)})):(Le({errors:Jr,loaderData:zv(U.loaderData,Zt,Vt,Jr),fetchers:new Map(U.fetchers)}),ht=!1)}async function Vi(M,j,F,ae,me,Se,De,ve,_e){let he=U.fetchers.get(M);ft(M,Ml(_e,he?he.data:void 0),{flushSync:De});let Ae=new AbortController,Re=oo(i.history,F,Ae.signal);if(Se){let Ge=await Ln(me,F,Re.signal);if(Ge.type==="aborted")return;if(Ge.type==="error"){dt(M,j,Ge.error,{flushSync:De});return}else if(Ge.matches)me=Ge.matches,ae=Vl(me,F);else{dt(M,j,ur(404,{pathname:F}),{flushSync:De});return}}se.set(M,Ae);let Xe=le,ut=(await fr("loader",U,Re,[ae],me,M))[ae.route.id];if(se.get(M)===Ae&&se.delete(M),!Re.signal.aborted){if(fe.has(M)){ft(M,ha(void 0));return}if(cs(ut))if(pe>Xe){ft(M,ha(void 0));return}else{x.add(M),await hr(Re,ut,!1,{preventScrollReset:ve});return}if(Hn(ut)){dt(M,j,ut.error);return}ft(M,ha(ut.data))}}async function hr(M,j,F,{submission:ae,fetcherSubmission:me,preventScrollReset:Se,replace:De}={}){j.response.headers.has("X-Remix-Revalidate")&&(ht=!0);let ve=j.response.headers.get("Location");Ye(ve,"Expected a Location header on the redirect Response"),ve=Pv(ve,new URL(M.url),m);let _e=ql(U.location,ve,{_isRedirect:!0});if(n){let ut=!1;if(j.response.headers.has("X-Remix-Reload-Document"))ut=!0;else if(Am.test(ve)){const Ge=i.history.createURL(ve);ut=Ge.origin!==e.location.origin||Sr(Ge.pathname,m)==null}if(ut){De?e.location.replace(ve):e.location.assign(ve);return}}b=null;let he=De===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ae,formAction:Re,formEncType:Xe}=U.navigation;!ae&&!me&&Ae&&Re&&Xe&&(ae=qv(U.navigation));let Tt=ae||me;if(Zb.has(j.response.status)&&Tt&&_r(Tt.formMethod))await mn(he,_e,{submission:{...Tt,formAction:ve},preventScrollReset:Se||w,enableViewTransition:F?I:void 0});else{let ut=Od(_e,ae);await mn(he,_e,{overrideNavigation:ut,fetcherSubmission:me,preventScrollReset:Se||w,enableViewTransition:F?I:void 0})}}async function fr(M,j,F,ae,me,Se){let De,ve={};try{De=await sA(g,M,j,F,ae,me,Se,o,a)}catch(_e){return ae.forEach(he=>{ve[he.route.id]={type:"error",error:_e}}),ve}for(let[_e,he]of Object.entries(De))if(fA(he)){let Ae=he.result;ve[_e]={type:"redirect",response:uA(Ae,F,_e,me,m)}}else ve[_e]=await lA(he);return ve}async function an(M,j,F,ae,me){let Se=fr("loader",M,me,F,j,null),De=Promise.all(ae.map(async he=>{if(he.matches&&he.match&&he.controller){let Re=(await fr("loader",M,oo(i.history,he.path,he.controller.signal),[he.match],he.matches,he.key))[he.match.route.id];return{[he.key]:Re}}else return Promise.resolve({[he.key]:{type:"error",error:ur(404,{pathname:he.path})}})})),ve=await Se,_e=(await De).reduce((he,Ae)=>Object.assign(he,Ae),{});return{loaderResults:ve,fetcherResults:_e}}function Li(){ht=!0,ie.forEach((M,j)=>{se.has(j)&&pt.add(j),Gn(j)})}function ft(M,j,F={}){U.fetchers.set(M,j),Le({fetchers:new Map(U.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function dt(M,j,F,ae={}){let me=us(U.matches,j);Pi(M),Le({errors:{[me.route.id]:F},fetchers:new Map(U.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Fn(M){return Te.set(M,(Te.get(M)||0)+1),fe.has(M)&&fe.delete(M),U.fetchers.get(M)||Jb}function Pi(M){let j=U.fetchers.get(M);se.has(M)&&!(j&&j.state==="loading"&&He.has(M))&&Gn(M),ie.delete(M),He.delete(M),x.delete(M),fe.delete(M),pt.delete(M),U.fetchers.delete(M)}function Oa(M){let j=(Te.get(M)||0)-1;j<=0?(Te.delete(M),fe.add(M)):Te.set(M,j),Le({fetchers:new Map(U.fetchers)})}function Gn(M){let j=se.get(M);j&&(j.abort(),se.delete(M))}function wr(M){for(let j of M){let F=Fn(j),ae=ha(F.data);U.fetchers.set(j,ae)}}function dr(){let M=[],j=!1;for(let F of x){let ae=U.fetchers.get(F);Ye(ae,`Expected fetcher: ${F}`),ae.state==="loading"&&(x.delete(F),M.push(F),j=!0)}return wr(M),j}function Ft(M){let j=[];for(let[F,ae]of He)if(ae<M){let me=U.fetchers.get(F);Ye(me,`Expected fetcher: ${F}`),me.state==="loading"&&(Gn(F),He.delete(F),j.push(F))}return wr(j),j.length>0}function Na(M,j){let F=U.blockers.get(M)||Nl;return de.get(M)!==j&&de.set(M,j),F}function xn(M){U.blockers.delete(M),de.delete(M)}function kt(M,j){let F=U.blockers.get(M)||Nl;Ye(F.state==="unblocked"&&j.state==="blocked"||F.state==="blocked"&&j.state==="blocked"||F.state==="blocked"&&j.state==="proceeding"||F.state==="blocked"&&j.state==="unblocked"||F.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${F.state} -> ${j.state}`);let ae=new Map(U.blockers);ae.set(M,j),Le({blockers:ae})}function Ui({currentLocation:M,nextLocation:j,historyAction:F}){if(de.size===0)return;de.size>1&&fn(!1,"A router only supports one blocker at a time");let ae=Array.from(de.entries()),[me,Se]=ae[ae.length-1],De=U.blockers.get(me);if(!(De&&De.state==="proceeding")&&Se({currentLocation:M,nextLocation:j,historyAction:F}))return me}function ki(M){let j=ur(404,{pathname:M}),F=f||u,{matches:ae,route:me}=Bv(F);return{notFoundMatches:ae,route:me,error:j}}function bs(M,j,F){if(R=M,X=j,k=F||null,!q&&U.navigation===Id){q=!0;let ae=Dn(U.location,U.matches);ae!=null&&Le({restoreScrollPosition:ae})}return()=>{R=null,X=null,k=null}}function Vn(M,j){return k&&k(M,j.map(ae=>Ib(ae,U.loaderData)))||M.key}function Rr(M,j){if(R&&X){let F=Vn(M,j);R[F]=X()}}function Dn(M,j){if(R){let F=Vn(M,j),ae=R[F];if(typeof ae=="number")return ae}return null}function sn(M,j,F){if(y)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Nc(j,F,m,!0)}}else return{active:!0,matches:Nc(j,F,m,!0)||[]};return{active:!1,matches:null}}async function Ln(M,j,F){if(!y)return{type:"success",matches:M};let ae=M;for(;;){let me=f==null,Se=f||u,De=o;try{await y({signal:F,path:j,matches:ae,patch:(he,Ae)=>{F.aborted||Lv(he,Ae,Se,De,a)}})}catch(he){return{type:"error",error:he,partialMatches:ae}}finally{me&&!F.aborted&&(u=[...u])}if(F.aborted)return{type:"aborted"};let ve=fa(Se,j,m);if(ve)return{type:"success",matches:ve};let _e=Nc(Se,j,m,!0);if(!_e||ae.length===_e.length&&ae.every((he,Ae)=>he.route.id===_e[Ae].route.id))return{type:"success",matches:null};ae=_e}}function zi(M){o={},f=Hc(M,a,void 0,o)}function Ma(M,j){let F=f==null;Lv(M,j,f||u,o,a),F&&(u=[...u],Le({}))}return ue={get basename(){return m},get future(){return E},get state(){return U},get routes(){return u},get window(){return e},initialize:Ct,subscribe:bt,enableScrollRestoration:bs,navigate:qn,fetch:xi,revalidate:Cn,createHref:M=>i.history.createHref(M),encodeLocation:M=>i.history.encodeLocation(M),getFetcher:Fn,deleteFetcher:Oa,dispose:$e,getBlocker:Na,deleteBlocker:xn,patchRoutes:Ma,_internalFetchControllers:se,_internalSetRoutes:zi},ue}function tA(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Fd(i,e,n,a,o,u){let f,m;if(o){f=[];for(let y of e)if(f.push(y),y.route.id===o){m=y;break}}else f=e,m=e[e.length-1];let g=bm(a||".",Sm(f),Sr(i.pathname,n)||i.pathname,u==="path");if(a==null&&(g.search=i.search,g.hash=i.hash),(a==null||a===""||a===".")&&m){let y=wm(g.search);if(m.route.index&&!y)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&y){let E=new URLSearchParams(g.search),A=E.getAll("index");E.delete("index"),A.filter(R=>R).forEach(R=>E.append("index",R));let C=E.toString();g.search=C?`?${C}`:""}}return n!=="/"&&(g.pathname=g.pathname==="/"?n:Fr([n,g.pathname])),Sa(g)}function Nv(i,e,n){if(!n||!tA(n))return{path:e};if(n.formMethod&&!dA(n.formMethod))return{path:e,error:ur(405,{method:n.formMethod})};let a=()=>({path:e,error:ur(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=N0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!_r(u))return a();let A=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((C,[R,k])=>`${C}${R}=${k}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:A}}}else if(n.formEncType==="application/json"){if(!_r(u))return a();try{let A=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:A,text:void 0}}}catch{return a()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let m,g;if(n.formData)m=Kd(n.formData),g=n.formData;else if(n.body instanceof FormData)m=Kd(n.body),g=n.body;else if(n.body instanceof URLSearchParams)m=n.body,g=Uv(m);else if(n.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(n.body),g=Uv(m)}catch{return a()}let y={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(_r(y.formMethod))return{path:e,submission:y};let E=Ia(e);return i&&E.search&&wm(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Sa(E),submission:y}}function Mv(i,e,n=!1){let a=i.findIndex(o=>o.route.id===e);return a>=0?i.slice(0,n?a+1:a):i}function xv(i,e,n,a,o,u,f,m,g,y,E,A,C,R){let k=R?Hn(R[1])?R[1].error:R[1].data:void 0,X=i.createURL(e.location),q=i.createURL(o),$=n;u&&e.errors?$=Mv(n,Object.keys(e.errors)[0],!0):R&&Hn(R[1])&&($=Mv(n,R[0]));let ee=R?R[1].statusCode:void 0,oe=ee&&ee>=400,ye=$.filter((U,N)=>{let{route:w}=U;if(w.lazy)return!0;if(w.loader==null)return!1;if(u)return Gd(w,e.loaderData,e.errors);if(nA(e.loaderData,e.matches[N],U))return!0;let b=e.matches[N],I=U;return Vv(U,{currentUrl:X,currentParams:b.params,nextUrl:q,nextParams:I.params,...a,actionResult:k,actionStatus:ee,defaultShouldRevalidate:oe?!1:f||X.pathname+X.search===q.pathname+q.search||X.search!==q.search||rA(b,I)})}),ue=[];return y.forEach((U,N)=>{if(u||!n.some(z=>z.route.id===U.routeId)||g.has(N))return;let w=fa(A,U.path,C);if(!w){ue.push({key:N,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(N),I=Vl(w,U.path),V=!1;E.has(N)?V=!1:m.has(N)?(m.delete(N),V=!0):b&&b.state!=="idle"&&b.data===void 0?V=f:V=Vv(I,{currentUrl:X,currentParams:e.matches[e.matches.length-1].params,nextUrl:q,nextParams:n[n.length-1].params,...a,actionResult:k,actionStatus:ee,defaultShouldRevalidate:oe?!1:f}),V&&ue.push({key:N,routeId:U.routeId,path:U.path,matches:w,match:I,controller:new AbortController})}),[ye,ue]}function Gd(i,e,n){if(i.lazy)return!0;if(!i.loader)return!1;let a=e!=null&&e[i.id]!==void 0,o=n!=null&&n[i.id]!==void 0;return!a&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!a&&!o}function nA(i,e,n){let a=!e||n.route.id!==e.route.id,o=!i.hasOwnProperty(n.route.id);return a||o}function rA(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function Vv(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Lv(i,e,n,a,o){let u;if(i){let g=a[i];Ye(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),u=g.children}else u=n;let f=e.filter(g=>!u.some(y=>O0(g,y))),m=Hc(f,o,[i||"_","patch",String((u==null?void 0:u.length)||"0")],a);u.push(...m)}function O0(i,e){return"id"in i&&"id"in e&&i.id===e.id?!0:i.index===e.index&&i.path===e.path&&i.caseSensitive===e.caseSensitive?(!i.children||i.children.length===0)&&(!e.children||e.children.length===0)?!0:i.children.every((n,a)=>{var o;return(o=e.children)==null?void 0:o.some(u=>O0(n,u))}):!1}async function iA(i,e,n){if(!i.lazy)return;let a=await i.lazy();if(!i.lazy)return;let o=n[i.id];Ye(o,"No route found in manifest");let u={};for(let f in a){let g=o[f]!==void 0&&f!=="hasErrorBoundary";fn(!g,`Route "${o.id}" has a static property "${f}" defined but its lazy function is also returning a value for this property. The lazy route property "${f}" will be ignored.`),!g&&!Cb.has(f)&&(u[f]=a[f])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function aA({matches:i}){let e=i.filter(a=>a.shouldLoad);return(await Promise.all(e.map(a=>a.resolve()))).reduce((a,o,u)=>Object.assign(a,{[e[u].route.id]:o}),{})}async function sA(i,e,n,a,o,u,f,m,g,y){let E=u.map(R=>R.route.lazy?iA(R.route,g,m):void 0),A=u.map((R,k)=>{let X=E[k],q=o.some(ee=>ee.route.id===R.route.id);return{...R,shouldLoad:q,resolve:async ee=>(ee&&a.method==="GET"&&(R.route.lazy||R.route.loader)&&(q=!0),q?oA(e,a,R,X,ee,y):Promise.resolve({type:"data",result:void 0}))}}),C=await i({matches:A,request:a,params:u[0].params,fetcherKey:f,context:y});try{await Promise.all(E)}catch{}return C}async function oA(i,e,n,a,o,u){let f,m,g=y=>{let E,A=new Promise((k,X)=>E=X);m=()=>E(),e.signal.addEventListener("abort",m);let C=k=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${i}" [routeId: ${n.route.id}]`)):y({request:e,params:n.params,context:u},...k!==void 0?[k]:[]),R=(async()=>{try{return{type:"data",result:await(o?o(X=>C(X)):C())}}catch(k){return{type:"error",result:k}}})();return Promise.race([R,A])};try{let y=n.route[i];if(a)if(y){let E,[A]=await Promise.all([g(y).catch(C=>{E=C}),a]);if(E!==void 0)throw E;f=A}else if(await a,y=n.route[i],y)f=await g(y);else if(i==="action"){let E=new URL(e.url),A=E.pathname+E.search;throw ur(405,{method:e.method,pathname:A,routeId:n.route.id})}else return{type:"data",result:void 0};else if(y)f=await g(y);else{let E=new URL(e.url),A=E.pathname+E.search;throw ur(404,{pathname:A})}}catch(y){return{type:"error",result:y}}finally{m&&e.signal.removeEventListener("abort",m)}return f}async function lA(i){var a,o,u,f,m,g;let{result:e,type:n}=i;if(M0(e)){let y;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(E){return{type:"error",error:E}}return n==="error"?{type:"error",error:new Fc(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:"data",data:y,statusCode:e.status,headers:e.headers}}return n==="error"?Hv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Fc(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Fl(e)?e.status:void 0,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Fl(e)?e.status:void 0}:Hv(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function uA(i,e,n,a,o){let u=i.headers.get("Location");if(Ye(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Am.test(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Fd(new URL(e.url),f,o,u),i.headers.set("Location",u)}return i}function Pv(i,e,n){if(Am.test(i)){let a=i,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Sr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return i}function oo(i,e,n,a){let o=i.createURL(N0(e)).toString(),u={signal:n};if(a&&_r(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=Kd(a.formData):u.body=a.formData}return new Request(o,u)}function Kd(i){let e=new URLSearchParams;for(let[n,a]of i.entries())e.append(n,typeof a=="string"?a:a.name);return e}function Uv(i){let e=new FormData;for(let[n,a]of i.entries())e.append(n,a);return e}function cA(i,e,n,a=!1,o=!1){let u={},f=null,m,g=!1,y={},E=n&&Hn(n[1])?n[1].error:void 0;return i.forEach(A=>{if(!(A.route.id in e))return;let C=A.route.id,R=e[C];if(Ye(!cs(R),"Cannot handle redirect results in processLoaderData"),Hn(R)){let k=R.error;if(E!==void 0&&(k=E,E=void 0),f=f||{},o)f[C]=k;else{let X=us(i,C);f[X.route.id]==null&&(f[X.route.id]=k)}a||(u[C]=I0),g||(g=!0,m=Fl(R.error)?R.error.status:500),R.headers&&(y[C]=R.headers)}else u[C]=R.data,R.statusCode&&R.statusCode!==200&&!g&&(m=R.statusCode),R.headers&&(y[C]=R.headers)}),E!==void 0&&n&&(f={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:y}}function kv(i,e,n,a,o,u){let{loaderData:f,errors:m}=cA(e,n,a);return o.forEach(g=>{let{key:y,match:E,controller:A}=g,C=u[y];if(Ye(C,"Did not find corresponding fetcher result"),!(A&&A.signal.aborted))if(Hn(C)){let R=us(i.matches,E==null?void 0:E.route.id);m&&m[R.route.id]||(m={...m,[R.route.id]:C.error}),i.fetchers.delete(y)}else if(cs(C))Ye(!1,"Unhandled fetcher revalidation redirect");else{let R=ha(C.data);i.fetchers.set(y,R)}}),{loaderData:f,errors:m}}function zv(i,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==I0).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&i.hasOwnProperty(f)&&u.route.loader&&(o[f]=i[f]),a&&a.hasOwnProperty(f))break}return o}function jv(i){return i?Hn(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function us(i,e){return(e?i.slice(0,i.findIndex(a=>a.route.id===e)+1):[...i]).reverse().find(a=>a.route.hasErrorBoundary===!0)||i[0]}function Bv(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(i,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):i===404?(f="Not Found",m=`No route matches URL "${e}"`):i===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Fc(i||500,f,new Error(m),!0)}function bc(i){let e=Object.entries(i);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(cs(o))return{key:a,result:o}}}function N0(i){let e=typeof i=="string"?Ia(i):i;return Sa({...e,hash:""})}function hA(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function fA(i){return M0(i.result)&&Xb.has(i.result.status)}function Hn(i){return i.type==="error"}function cs(i){return(i&&i.type)==="redirect"}function Hv(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function M0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function dA(i){return $b.has(i.toUpperCase())}function _r(i){return Qb.has(i.toUpperCase())}function wm(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Vl(i,e){let n=typeof e=="string"?Ia(e).search:e.search;if(i[i.length-1].route.index&&wm(n||""))return i[i.length-1];let a=R0(i);return a[a.length-1]}function qv(i){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=i;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function Od(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mA(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ml(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function gA(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function ha(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function pA(i,e){try{let n=i.sessionStorage.getItem(D0);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function yA(i,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{i.sessionStorage.setItem(D0,JSON.stringify(n))}catch(a){fn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function vA(){let i,e,n=new Promise((a,o)=>{i=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:i,reject:e}}var Es=K.createContext(null);Es.displayName="DataRouter";var Jl=K.createContext(null);Jl.displayName="DataRouterState";var Rm=K.createContext({isTransitioning:!1});Rm.displayName="ViewTransition";var x0=K.createContext(new Map);x0.displayName="Fetchers";var _A=K.createContext(null);_A.displayName="Await";var Xr=K.createContext(null);Xr.displayName="Navigation";var uh=K.createContext(null);uh.displayName="Location";var br=K.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Cm=K.createContext(null);Cm.displayName="RouteError";function EA(i,{relative:e}={}){Ye(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=K.useContext(Xr),{hash:o,pathname:u,search:f}=eu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Fr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Wl(){return K.useContext(uh)!=null}function Ts(){return Ye(Wl(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(uh).location}var V0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L0(i){K.useContext(Xr).static||K.useLayoutEffect(i)}function Co(){let{isDataRoute:i}=K.useContext(br);return i?PA():TA()}function TA(){Ye(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(Es),{basename:e,navigator:n}=K.useContext(Xr),{matches:a}=K.useContext(br),{pathname:o}=Ts(),u=JSON.stringify(Sm(a)),f=K.useRef(!1);return L0(()=>{f.current=!0}),K.useCallback((g,y={})=>{if(fn(f.current,V0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=bm(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Fr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}var SA=K.createContext(null);function bA(i){let e=K.useContext(br).outlet;return e&&K.createElement(SA.Provider,{value:i},e)}function AA(){let{matches:i}=K.useContext(br),e=i[i.length-1];return e?e.params:{}}function eu(i,{relative:e}={}){let{matches:n}=K.useContext(br),{pathname:a}=Ts(),o=JSON.stringify(Sm(n));return K.useMemo(()=>bm(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function wA(i,e,n,a){Ye(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(Xr),{matches:f}=K.useContext(br),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let ee=A&&A.path||"";P0(y,!A||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let C=Ts(),R;R=C;let k=R.pathname||"/",X=k;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");X="/"+k.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:fa(i,{pathname:X});return fn(A||q!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),fn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),OA(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:Fr([E,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Fr([E,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,a)}function RA(){let i=LA(),e=Fl(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,f)}var CA=K.createElement(RA,null),DA=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?K.createElement(br.Provider,{value:this.props.routeContext},K.createElement(Cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IA({routeContext:i,match:e,children:n}){let a=K.useContext(Es);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(br.Provider,{value:i},n)}function OA(i,e=[],n=null,a=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:A}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let A,C=!1,R=null,k=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,R=y.route.errorElement||CA,f&&(m<0&&E===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):m===E&&(C=!0,k=y.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,E+1)),q=()=>{let $;return A?$=R:C?$=k:y.route.Component?$=K.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,K.createElement(IA,{match:y,routeContext:{outlet:g,matches:X,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?K.createElement(DA,{location:n.location,revalidation:n.revalidation,component:R,error:A,children:q(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):q()},null)}function Dm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(i){let e=K.useContext(Es);return Ye(e,Dm(i)),e}function MA(i){let e=K.useContext(Jl);return Ye(e,Dm(i)),e}function xA(i){let e=K.useContext(br);return Ye(e,Dm(i)),e}function Im(i){let e=xA(i),n=e.matches[e.matches.length-1];return Ye(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function VA(){return Im("useRouteId")}function LA(){var a;let i=K.useContext(Cm),e=MA("useRouteError"),n=Im("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function PA(){let{router:i}=NA("useNavigate"),e=Im("useNavigate"),n=K.useRef(!1);return L0(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{fn(n.current,V0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Fv={};function P0(i,e,n){!e&&!Fv[i]&&(Fv[i]=!0,fn(!1,n))}var Gv={};function Kv(i,e){!i&&!Gv[e]&&(Gv[e]=!0,console.warn(e))}function UA(i){let e={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&fn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&fn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&fn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),e}var kA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function zA({router:i,flushSync:e}){let[n,a]=K.useState(i.state),[o,u]=K.useState(),[f,m]=K.useState({isTransitioning:!1}),[g,y]=K.useState(),[E,A]=K.useState(),[C,R]=K.useState(),k=K.useRef(new Map),X=K.useCallback((oe,{deletedFetchers:ye,flushSync:ue,viewTransitionOpts:U})=>{oe.fetchers.forEach((w,b)=>{w.data!==void 0&&k.current.set(b,w.data)}),ye.forEach(w=>k.current.delete(w)),Kv(ue===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(Kv(U==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!N){e&&ue?e(()=>a(oe)):K.startTransition(()=>a(oe));return}if(e&&ue){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let w=i.window.document.startViewTransition(()=>{e(()=>a(oe))});w.finished.finally(()=>{e(()=>{y(void 0),A(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>A(w));return}E?(g&&g.resolve(),E.skipTransition(),R({state:oe,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(u(oe),m({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[i.window,e,E,g]);K.useLayoutEffect(()=>i.subscribe(X),[i,X]),K.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new kA)},[f]),K.useEffect(()=>{if(g&&o&&i.window){let oe=o,ye=g.promise,ue=i.window.document.startViewTransition(async()=>{K.startTransition(()=>a(oe)),await ye});ue.finished.finally(()=>{y(void 0),A(void 0),u(void 0),m({isTransitioning:!1})}),A(ue)}},[o,g,i.window]),K.useEffect(()=>{g&&o&&n.location.key===o.location.key&&g.resolve()},[g,E,n.location,o]),K.useEffect(()=>{!f.isTransitioning&&C&&(u(C.state),m({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),R(void 0))},[f.isTransitioning,C]);let q=K.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:oe=>i.navigate(oe),push:(oe,ye,ue)=>i.navigate(oe,{state:ye,preventScrollReset:ue==null?void 0:ue.preventScrollReset}),replace:(oe,ye,ue)=>i.navigate(oe,{replace:!0,state:ye,preventScrollReset:ue==null?void 0:ue.preventScrollReset})}),[i]),$=i.basename||"/",ee=K.useMemo(()=>({router:i,navigator:q,static:!1,basename:$}),[i,q,$]);return K.createElement(K.Fragment,null,K.createElement(Es.Provider,{value:ee},K.createElement(Jl.Provider,{value:n},K.createElement(x0.Provider,{value:k.current},K.createElement(Rm.Provider,{value:f},K.createElement(qA,{basename:$,location:n.location,navigationType:n.historyAction,navigator:q},K.createElement(jA,{routes:i.routes,future:i.future,state:n})))))),null)}var jA=K.memo(BA);function BA({routes:i,future:e,state:n}){return wA(i,void 0,n,e)}function HA(i){return bA(i.context)}function qA({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Ye(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ia(n));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:C="default"}=n,R=K.useMemo(()=>{let k=Sr(g,f);return k==null?null:{location:{pathname:k,search:y,hash:E,state:A,key:C},navigationType:a}},[f,g,y,E,A,C,a]);return fn(R!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:K.createElement(Xr.Provider,{value:m},K.createElement(uh.Provider,{children:e,value:R}))}var Mc="get",xc="application/x-www-form-urlencoded";function ch(i){return i!=null&&typeof i.tagName=="string"}function FA(i){return ch(i)&&i.tagName.toLowerCase()==="button"}function GA(i){return ch(i)&&i.tagName.toLowerCase()==="form"}function KA(i){return ch(i)&&i.tagName.toLowerCase()==="input"}function QA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function YA(i,e){return i.button===0&&(!e||e==="_self")&&!QA(i)}var Ac=null;function $A(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var XA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(i){return i!=null&&!XA.has(i)?(fn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):i}function ZA(i,e){let n,a,o,u,f;if(GA(i)){let m=i.getAttribute("action");a=m?Sr(m,e):null,n=i.getAttribute("method")||Mc,o=Nd(i.getAttribute("enctype"))||xc,u=new FormData(i)}else if(FA(i)||KA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?Sr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Mc,o=Nd(i.getAttribute("formenctype"))||Nd(m.getAttribute("enctype"))||xc,u=new FormData(m,i),!$A()){let{name:y,type:E,value:A}=i;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,A)}}else{if(ch(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mc,a=null,o=xc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Om(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function JA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ew(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await JA(u,n);return f.links?f.links():[]}return[]}));return iw(a.flat(1).filter(WA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qv(i,e,n,a,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var A;let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function tw(i,e,{includeHydrateFallback:n}={}){return nw(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function nw(i){return[...new Set(i)]}function rw(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function iw(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(rw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function aw(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sw(){let i=K.useContext(Es);return Om(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ow(){let i=K.useContext(Jl);return Om(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Nm=K.createContext(void 0);Nm.displayName="FrameworkContext";function U0(){let i=K.useContext(Nm);return Om(i,"You must render this element inside a <HydratedRouter> element"),i}function lw(i,e){let n=K.useContext(Nm),[a,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,C=K.useRef(null);K.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let X=$=>{$.forEach(ee=>{f(ee.isIntersecting)})},q=new IntersectionObserver(X,{threshold:.5});return C.current&&q.observe(C.current),()=>{q.disconnect()}}},[i]),K.useEffect(()=>{if(a){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[a]);let R=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,C,{}]:[u,C,{onFocus:xl(m,R),onBlur:xl(g,k),onMouseEnter:xl(y,R),onMouseLeave:xl(E,k),onTouchStart:xl(A,R)}]:[!1,C,{}]}function xl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function uw({page:i,...e}){let{router:n}=sw(),a=K.useMemo(()=>fa(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?K.createElement(hw,{page:i,matches:a,...e}):null}function cw(i){let{manifest:e,routeModules:n}=U0(),[a,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return ew(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function hw({page:i,matches:e,...n}){let a=Ts(),{manifest:o,routeModules:u}=U0(),{loaderData:f,matches:m}=ow(),g=K.useMemo(()=>Qv(i,e,m,o,a,"data"),[i,e,m,o,a]),y=K.useMemo(()=>Qv(i,e,m,o,a,"assets"),[i,e,m,o,a]),E=K.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let R=new Set,k=!1;if(e.forEach(q=>{var ee;let $=o.routes[q.route.id];!$||!$.hasLoader||(!g.some(oe=>oe.route.id===q.route.id)&&q.route.id in f&&((ee=u[q.route.id])!=null&&ee.shouldRevalidate)||$.hasClientLoader?k=!0:R.add(q.route.id))}),R.size===0)return[];let X=aw(i);return k&&R.size>0&&X.searchParams.set("_routes",e.filter(q=>R.has(q.route.id)).map(q=>q.route.id).join(",")),[X.pathname+X.search]},[f,a,o,g,e,i,u]),A=K.useMemo(()=>tw(y,o),[y,o]),C=cw(y);return K.createElement(K.Fragment,null,E.map(R=>K.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),A.map(R=>K.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),C.map(({key:R,link:k})=>K.createElement("link",{key:R,...k})))}function fw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k0&&(window.__reactRouterVersion="7.2.0")}catch{}function dw(i,e){return eA({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Ab({window:e==null?void 0:e.window}),hydrationData:mw(),routes:i,mapRouteProperties:UA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function mw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:gw(i.errors)}),i}function gw(i){if(!i)return null;let e=Object.entries(i),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Fc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gc=K.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,...C},R){let{basename:k}=K.useContext(Xr),X=typeof y=="string"&&z0.test(y),q,$=!1;if(typeof y=="string"&&X&&(q=y,k0))try{let b=new URL(window.location.href),I=y.startsWith("//")?new URL(b.protocol+y):new URL(y),V=Sr(I.pathname,k);I.origin===b.origin&&V!=null?y=V+I.search+I.hash:$=!0}catch{fn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=EA(y,{relative:o}),[oe,ye,ue]=lw(a,C),U=_w(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A});function N(b){e&&e(b),b.defaultPrevented||U(b)}let w=K.createElement("a",{...C,...ue,href:q||ee,onClick:$||u?e:N,ref:fw(R,ye),target:g,"data-discover":!X&&n==="render"?"true":void 0});return oe&&!X?K.createElement(K.Fragment,null,w,K.createElement(uw,{page:ee})):w});Gc.displayName="Link";var pw=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=eu(f,{relative:y.relative}),C=Ts(),R=K.useContext(Jl),{navigator:k,basename:X}=K.useContext(Xr),q=R!=null&&Aw(A)&&m===!0,$=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,ee=C.pathname,oe=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),oe=oe?oe.toLowerCase():null,$=$.toLowerCase()),oe&&X&&(oe=Sr(oe,X)||oe);const ye=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ue=ee===$||!o&&ee.startsWith($)&&ee.charAt(ye)==="/",U=oe!=null&&(oe===$||!o&&oe.startsWith($)&&oe.charAt($.length)==="/"),N={isActive:ue,isPending:U,isTransitioning:q},w=ue?e:void 0,b;typeof a=="function"?b=a(N):b=[a,ue?"active":null,U?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(N):u;return K.createElement(Gc,{...y,"aria-current":w,className:b,ref:E,style:I,to:f,viewTransition:m},typeof g=="function"?g(N):g)});pw.displayName="NavLink";var yw=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Mc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...C},R)=>{let k=Sw(),X=bw(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&z0.test(m),ee=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let ye=oe.nativeEvent.submitter,ue=(ye==null?void 0:ye.getAttribute("formmethod"))||f;k(ye||oe.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return K.createElement("form",{ref:R,method:q,action:X,onSubmit:a?g:ee,...C,"data-discover":!$&&i==="render"?"true":void 0})});yw.displayName="Form";function vw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(i){let e=K.useContext(Es);return Ye(e,vw(i)),e}function _w(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Co(),g=Ts(),y=eu(i,{relative:u});return K.useCallback(E=>{if(YA(E,e)){E.preventDefault();let A=n!==void 0?n:Sa(g)===Sa(y);m(i,{replace:A,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,a,e,i,o,u,f])}var Ew=0,Tw=()=>`__${String(++Ew)}__`;function Sw(){let{router:i}=j0("useSubmit"),{basename:e}=K.useContext(Xr),n=VA();return K.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=ZA(a,e);if(o.navigate===!1){let E=o.fetcherKey||Tw();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function bw(i,{relative:e}={}){let{basename:n}=K.useContext(Xr),a=K.useContext(br);Ye(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...eu(i||".",{relative:e})},f=Ts();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Fr([n,u.pathname])),Sa(u)}function Aw(i,e={}){let n=K.useContext(Rm);Ye(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=j0("useViewTransitionState"),o=eu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Sr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Sr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return qc(o.pathname,f)!=null||qc(o.pathname,u)!=null}new TextEncoder;var ww=b0();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rw(i){return K.createElement(zA,{flushSync:ww.flushSync,...i})}const Cw=()=>{};var Yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Dw=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,R=y&63;g||(R=64,f||(C=64)),a.push(n[E],n[A],n[C],n[R])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(B0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Dw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new Iw;const C=u<<2|m>>4;if(a.push(C),y!==64){const R=m<<4&240|y>>2;if(a.push(R),A!==64){const k=y<<6&192|A;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ow=function(i){const e=B0(i);return H0.encodeByteArray(e,!0)},Kc=function(i){return Ow(i).replace(/\./g,"")},q0=function(i){try{return H0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=()=>Nw().__FIREBASE_DEFAULTS__,xw=()=>{if(typeof process>"u"||typeof Yv>"u")return;const i=Yv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Vw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&q0(i[1]);return e&&JSON.parse(e)},hh=()=>{try{return Cw()||Mw()||xw()||Vw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},F0=i=>{var e,n;return(n=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Lw=i=>{const e=F0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},G0=()=>{var i;return(i=hh())===null||i===void 0?void 0:i.config},K0=i=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Kc(JSON.stringify(n)),Kc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function zw(){var i;const e=(i=hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Hw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qw(){const i=En();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Fw(){return!zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gw(){try{return typeof indexedDB=="object"}catch{return!1}}function Kw(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="FirebaseError";class Ii extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=Qw,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Yw(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ii(o,m,a)}}function Yw(i,e){return i.replace($w,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const $w=/\{\$([^}]+)}/g;function Xw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ps(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if($v(u)&&$v(f)){if(!ps(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function $v(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Zw(i,e){const n=new Jw(i,e);return n.subscribe.bind(n)}class Jw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Ww(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ww(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(i){return i&&i._delegate?i._delegate:i}class ys{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Pw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(i){return i===ls?void 0:i}function nR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ke||(Ke={}));const iR={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},aR=Ke.INFO,sR={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},oR=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=sR[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const lR=(i,e)=>e.some(n=>i instanceof n);let Xv,Zv;function uR(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return Zv||(Zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q0=new WeakMap,Qd=new WeakMap,Y0=new WeakMap,xd=new WeakMap,xm=new WeakMap;function hR(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(va(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,i)}).catch(()=>{}),xm.set(e,i),e}function fR(i){if(Qd.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Qd.set(i,e)}let Yd={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Qd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Y0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return va(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function dR(i){Yd=i(Yd)}function mR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Vd(this),e,...n);return Y0.set(a,e.sort?e.sort():[e]),va(a)}:cR().includes(i)?function(...e){return i.apply(Vd(this),e),va(Q0.get(this))}:function(...e){return va(i.apply(Vd(this),e))}}function gR(i){return typeof i=="function"?mR(i):(i instanceof IDBTransaction&&fR(i),lR(i,uR())?new Proxy(i,Yd):i)}function va(i){if(i instanceof IDBRequest)return hR(i);if(xd.has(i))return xd.get(i);const e=gR(i);return e!==i&&(xd.set(i,e),xm.set(e,i)),e}const Vd=i=>xm.get(i);function pR(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=va(f);return a&&f.addEventListener("upgradeneeded",g=>{a(va(f.result),g.oldVersion,g.newVersion,va(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yR=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],Ld=new Map;function Jv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=vR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||yR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Ld.set(e,u),u}dR(i=>({...i,get:(e,n,a)=>Jv(e,n)||i.get(e,n,a),has:(e,n)=>!!Jv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function ER(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $d="@firebase/app",Wv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Mm("@firebase/app"),TR="@firebase/app-compat",SR="@firebase/analytics-compat",bR="@firebase/analytics",AR="@firebase/app-check-compat",wR="@firebase/app-check",RR="@firebase/auth",CR="@firebase/auth-compat",DR="@firebase/database",IR="@firebase/data-connect",OR="@firebase/database-compat",NR="@firebase/functions",MR="@firebase/functions-compat",xR="@firebase/installations",VR="@firebase/installations-compat",LR="@firebase/messaging",PR="@firebase/messaging-compat",UR="@firebase/performance",kR="@firebase/performance-compat",zR="@firebase/remote-config",jR="@firebase/remote-config-compat",BR="@firebase/storage",HR="@firebase/storage-compat",qR="@firebase/firestore",FR="@firebase/vertexai",GR="@firebase/firestore-compat",KR="firebase",QR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",YR={[$d]:"fire-core",[TR]:"fire-core-compat",[bR]:"fire-analytics",[SR]:"fire-analytics-compat",[wR]:"fire-app-check",[AR]:"fire-app-check-compat",[RR]:"fire-auth",[CR]:"fire-auth-compat",[DR]:"fire-rtdb",[IR]:"fire-data-connect",[OR]:"fire-rtdb-compat",[NR]:"fire-fn",[MR]:"fire-fn-compat",[xR]:"fire-iid",[VR]:"fire-iid-compat",[LR]:"fire-fcm",[PR]:"fire-fcm-compat",[UR]:"fire-perf",[kR]:"fire-perf-compat",[zR]:"fire-rc",[jR]:"fire-rc-compat",[BR]:"fire-gcs",[HR]:"fire-gcs-compat",[qR]:"fire-fst",[GR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,$R=new Map,Zd=new Map;function e_(i,e){try{i.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function vo(i){const e=i.name;if(Zd.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,i);for(const n of Qc.values())e_(n,i);for(const n of $R.values())e_(n,i);return!0}function Vm(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Er(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_a=new tu("app","Firebase",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=QR;function $0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Xd,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw _a.create("bad-app-name",{appName:String(o)});if(n||(n=G0()),!n)throw _a.create("no-options");const u=Qc.get(o);if(u){if(ps(n,u.options)&&ps(a,u.config))return u;throw _a.create("duplicate-app",{appName:o})}const f=new rR(o);for(const g of Zd.values())f.addComponent(g);const m=new ZR(n,a,f);return Qc.set(o,m),m}function X0(i=Xd){const e=Qc.get(i);if(!e&&i===Xd&&G0())return $0();if(!e)throw _a.create("no-app",{appName:i});return e}function Ea(i,e,n){var a;let o=(a=YR[i])!==null&&a!==void 0?a:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(m.join(" "));return}vo(new ys(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",WR=1,Gl="firebase-heartbeat-store";let Pd=null;function Z0(){return Pd||(Pd=pR(JR,WR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Gl)}catch(n){console.warn(n)}}}}).catch(i=>{throw _a.create("idb-open",{originalErrorMessage:i.message})})),Pd}async function e1(i){try{const n=(await Z0()).transaction(Gl),a=await n.objectStore(Gl).get(J0(i));return await n.done,a}catch(e){if(e instanceof Ii)Ri.warn(e.message);else{const n=_a.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}async function t_(i,e){try{const a=(await Z0()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,J0(i)),await a.done}catch(n){if(n instanceof Ii)Ri.warn(n.message);else{const a=_a.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(a.message)}}}function J0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=1024,n1=30;class r1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=n_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>n1){const f=s1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Ri.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=n_(),{heartbeatsToSend:a,unsentEntries:o}=i1(this._heartbeatsCache.heartbeats),u=Kc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ri.warn(n),""}}}function n_(){return new Date().toISOString().substring(0,10)}function i1(i,e=t1){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),r_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),r_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class a1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gw()?Kw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function r_(i){return Kc(JSON.stringify({version:2,heartbeats:i})).length}function s1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(i){vo(new ys("platform-logger",e=>new _R(e),"PRIVATE")),vo(new ys("heartbeat",e=>new r1(e),"PRIVATE")),Ea($d,Wv,i),Ea($d,Wv,"esm2017"),Ea("fire-js","")}o1("");function Lm(i,e){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function W0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l1=W0,eE=new tu("auth","Firebase",W0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Mm("@firebase/auth");function u1(i,...e){Yc.logLevel<=Ke.WARN&&Yc.warn(`Auth (${Do}): ${i}`,...e)}function Vc(i,...e){Yc.logLevel<=Ke.ERROR&&Yc.error(`Auth (${Do}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i,...e){throw Um(i,...e)}function Tr(i,...e){return Um(i,...e)}function Pm(i,e,n){const a=Object.assign(Object.assign({},l1()),{[e]:n});return new tu("auth","Firebase",a).create(e,{appName:i.name})}function ds(i){return Pm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c1(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Qr(i,"argument-error"),Pm(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return eE.create(i,...e)}function xe(i,e,...n){if(!i)throw Um(e,...n)}function Si(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vc(e),new Error(e)}function Ci(i,e){i||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function h1(){return i_()==="http:"||i_()==="https:"}function i_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h1()||Bw()||"connection"in navigator)?navigator.onLine:!0}function d1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=kw()||Hw()}get(){return f1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(i,e){Ci(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new ru(3e4,6e4);function zm(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Io(i,e,n,a,o={}){return nE(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=nu(Object.assign({key:i.config.apiKey},f)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:g},u);return jw()||(y.referrerPolicy="no-referrer"),tE.fetch()(rE(i,i.config.apiHost,n,m),y)})}async function nE(i,e,n){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},m1),e);try{const o=new y1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw wc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw wc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw wc(i,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Pm(i,E,y);Qr(i,E)}}catch(o){if(o instanceof Ii)throw o;Qr(i,"network-request-failed",{message:String(o)})}}async function p1(i,e,n,a,o={}){const u=await Io(i,e,n,a,o);return"mfaPendingCredential"in u&&Qr(i,"multi-factor-auth-required",{_serverResponse:u}),u}function rE(i,e,n,a){const o=`${e}${n}?${a}`;return i.config.emulator?km(i.config,o):`${i.config.apiScheme}://${o}`}class y1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Tr(this.auth,"network-request-failed")),g1.get())})}}function wc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Tr(i,e,a);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(i,e){return Io(i,"POST","/v1/accounts:delete",e)}async function iE(i,e){return Io(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _1(i,e=!1){const n=Oi(i),a=await n.getIdToken(e),o=jm(a);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:kl(Ud(o.auth_time)),issuedAtTime:kl(Ud(o.iat)),expirationTime:kl(Ud(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ud(i){return Number(i)*1e3}function jm(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=q0(n);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function a_(i){const e=jm(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ii&&E1(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function E1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(i){var e;const n=i.auth,a=await i.getIdToken(),o=await Kl(i,iE(n,{idToken:a}));xe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?aE(u.providerUserInfo):[],m=b1(i.providerData,f),g=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function S1(i){const e=Oi(i);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b1(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function aE(i){return i.map(e=>{var{providerId:n}=e,a=Lm(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(i,e){const n=await nE(i,{},async()=>{const a=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=rE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",tE.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w1(i,e){return Io(i,"POST","/v2/accounts:revokeToken",zm(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await A1(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new fo;return a&&(xe(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(xe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=Lm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _1(this,e)}reload(){return S1(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await Kl(this,v1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,g,y,E;const A=(a=n.displayName)!==null&&a!==void 0?a:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,R=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:oe,emailVerified:ye,isAnonymous:ue,providerData:U,stsTokenManager:N}=n;xe(oe&&N,e,"internal-error");const w=fo.fromJSON(this.name,N);xe(typeof oe=="string",e,"internal-error"),ca(A,e.name),ca(C,e.name),xe(typeof ye=="boolean",e,"internal-error"),xe(typeof ue=="boolean",e,"internal-error"),ca(R,e.name),ca(k,e.name),ca(X,e.name),ca(q,e.name),ca($,e.name),ca(ee,e.name);const b=new bi({uid:oe,auth:e,email:C,emailVerified:ye,displayName:A,isAnonymous:ue,photoURL:k,phoneNumber:R,tenantId:X,stsTokenManager:w,createdAt:$,lastLoginAt:ee});return U&&Array.isArray(U)&&(b.providerData=U.map(I=>Object.assign({},I))),q&&(b._redirectEventId=q),b}static async _fromIdTokenResponse(e,n,a=!1){const o=new fo;o.updateFromServerResponse(n);const u=new bi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $c(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?aE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new fo;m.updateFromIdToken(a);const g=new bi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Map;function Ai(i){Ci(i instanceof Function,"Expected a class definition");let e=s_.get(i);return e?(Ci(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,s_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sE.type="NONE";const o_=sE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(i,e,n){return`firebase:${i}:${e}:${n}`}class mo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new mo(Ai(o_),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ai(o_);const f=Lc(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const A=bi._fromJSON(e,E);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new mo(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new mo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fE(e))return"Blackberry";if(dE(e))return"Webos";if(lE(e))return"Safari";if((e.includes("chrome/")||uE(e))&&!e.includes("edge/"))return"Chrome";if(hE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function oE(i=En()){return/firefox\//i.test(i)}function lE(i=En()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uE(i=En()){return/crios\//i.test(i)}function cE(i=En()){return/iemobile/i.test(i)}function hE(i=En()){return/android/i.test(i)}function fE(i=En()){return/blackberry/i.test(i)}function dE(i=En()){return/webos/i.test(i)}function Bm(i=En()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function R1(i=En()){var e;return Bm(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C1(){return qw()&&document.documentMode===10}function mE(i=En()){return Bm(i)||hE(i)||dE(i)||fE(i)||/windows phone/i.test(i)||cE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i,e=[]){let n;switch(i){case"Browser":n=l_(En());break;case"Worker":n=`${l_(En())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(i,e={}){return Io(i,"GET","/v2/passwordPolicy",zm(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=6;class N1{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:O1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u_(this),this.idTokenSubscription=new u_(this),this.beforeStateQueue=new D1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iE(this,{idToken:e}),a=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Er(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(ds(this));const n=e?Oi(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I1(this),n=new N1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await w1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fh(i){return Oi(i)}class u_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zw(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x1(i){Hm=i}function V1(i){return Hm.loadJS(i)}function L1(){return Hm.gapiScript}function P1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(i,e){const n=Vm(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ps(u,e??{}))return o;Qr(o,"already-initialized")}return n.initialize({options:e})}function k1(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ai);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function z1(i,e,n){const a=fh(i);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=pE(e),{host:f,port:m}=j1(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(ps(y,a.config.emulator)&&ps(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,B1()}function pE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function j1(i){const e=pE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:c_(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:c_(f)}}}function c_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function B1(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,e){return p1(i,"POST","/v1/accounts:signInWithIdp",zm(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="http://localhost";class vs extends yE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=Lm(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new vs(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,go(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:H1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends iu{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.FACEBOOK_SIGN_IN_METHOD="facebook.com";da.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ti.credential(n,a)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends iu{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.GITHUB_SIGN_IN_METHOD="github.com";ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends iu{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ga.credential(n,a)}catch{return null}}}ga.TWITTER_SIGN_IN_METHOD="twitter.com";ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await bi._fromIdTokenResponse(e,a,o),f=h_(a);return new _o({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=h_(a);return new _o({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function h_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Ii{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Xc(e,n,a,o)}}function vE(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(i,u,e,a):u})}async function q1(i,e,n=!1){const a=await Kl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return _o._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(i,e,n=!1){const{auth:a}=i;if(Er(a.app))return Promise.reject(ds(a));const o="reauthenticate";try{const u=await Kl(i,vE(a,o,e,i),n);xe(u.idToken,a,"internal-error");const f=jm(u.idToken);xe(f,a,"internal-error");const{sub:m}=f;return xe(i.uid===m,a,"user-mismatch"),_o._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(i,e,n=!1){if(Er(i.app))return Promise.reject(ds(i));const a="signIn",o=await vE(i,a,e),u=await _o._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}function K1(i,e,n,a){return Oi(i).onIdTokenChanged(e,n,a)}function Q1(i,e,n){return Oi(i).beforeAuthStateChanged(e,n)}function Y1(i,e,n,a){return Oi(i).onAuthStateChanged(e,n,a)}function $1(i){return Oi(i).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=1e3,Z1=10;class EE extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);C1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Z1):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},X1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}EE.type="LOCAL";const J1=EE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TE.type="SESSION";const SE=TE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await W1(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Fm("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(A){const C=A;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function tC(i){Gr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function nC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function iC(){return bE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firebaseLocalStorageDb",aC=1,Jc="firebaseLocalStorage",wE="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mh(i,e){return i.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function sC(){const i=indexedDB.deleteDatabase(AE);return new au(i).toPromise()}function em(){const i=indexedDB.open(AE,aC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Jc,{keyPath:wE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Jc)?e(a):(a.close(),await sC(),e(await em()))})})}async function f_(i,e,n){const a=mh(i,!0).put({[wE]:e,value:n});return new au(a).toPromise()}async function oC(i,e){const n=mh(i,!1).get(e),a=await new au(n).toPromise();return a===void 0?null:a.value}function d_(i,e){const n=mh(i,!0).delete(e);return new au(n).toPromise()}const lC=800,uC=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>uC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(iC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nC(),!this.activeServiceWorker)return;this.sender=new eC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await f_(e,Zc,"1"),await d_(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>f_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>oC(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=mh(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const cC=RE;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i,e){return e?Ai(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends yE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hC(i){return G1(i.auth,new Gm(i),i.bypassAuthState)}function fC(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),F1(n,new Gm(i),i.bypassAuthState)}async function dC(i){const{auth:e,user:n}=i;return xe(n,e,"internal-error"),q1(n,new Gm(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hC;case"linkViaPopup":case"linkViaRedirect":return dC;case"reauthViaPopup":case"reauthViaRedirect":return fC;default:Qr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new ru(2e3,1e4);async function gC(i,e,n){if(Er(i.app))return Promise.reject(Tr(i,"operation-not-supported-in-this-environment"));const a=fh(i);c1(i,e,qm);const o=CE(a,n);return new hs(a,"signInViaPopup",e,o).executeNotNull()}class hs extends DE{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,hs.currentPopupAction&&hs.currentPopupAction.cancel(),hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mC.get())};e()}}hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="pendingRedirect",Pc=new Map;class yC extends DE{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const a=await vC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vC(i,e){const n=TC(e),a=EC(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function _C(i,e){Pc.set(i._key(),e)}function EC(i){return Ai(i._redirectPersistence)}function TC(i){return Lc(pC,i.config.apiKey,i.name)}async function SC(i,e,n=!1){if(Er(i.app))return Promise.reject(ds(i));const a=fh(i),o=CE(a,e),f=await new yC(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=10*60*1e3;class AC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!IE(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bC&&this.cachedEventUids.clear(),this.cachedEventUids.has(m_(e))}saveEventToCache(e){this.cachedEventUids.add(m_(e)),this.lastProcessedEventTime=Date.now()}}function m_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function IE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(i,e={}){return Io(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DC=/^https?/;async function IC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await RC(i);for(const n of e)try{if(OC(n))return}catch{}Qr(i,"unauthorized-domain")}function OC(i){const e=Jd(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!DC.test(n))return!1;if(CC.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new ru(3e4,6e4);function g_(){const i=Gr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function MC(i){return new Promise((e,n)=>{var a,o,u;function f(){g_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g_(),n(Tr(i,"network-request-failed"))},timeout:NC.get()})}if(!((o=(a=Gr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Gr().gapi)===null||u===void 0)&&u.load)f();else{const m=P1("iframefcb");return Gr()[m]=()=>{gapi.load?f():n(Tr(i,"network-request-failed"))},V1(`${L1()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Uc=null,e})}let Uc=null;function xC(i){return Uc=Uc||MC(i),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new ru(5e3,15e3),LC="__/auth/iframe",PC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zC(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?km(e,PC):`https://${i.config.authDomain}/${LC}`,a={apiKey:e.apiKey,appName:i.name,v:Do},o=kC.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${nu(a).slice(1)}`}async function jC(i){const e=await xC(i),n=Gr().gapi;return xe(n,i,"internal-error"),e.open({where:document.body,url:zC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Tr(i,"network-request-failed"),m=Gr().setTimeout(()=>{u(f)},VC.get());function g(){Gr().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HC=500,qC=600,FC="_blank",GC="http://localhost";class p_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KC(i,e,n,a=HC,o=qC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},BC),{width:a.toString(),height:o.toString(),top:u,left:f}),y=En().toLowerCase();n&&(m=uE(y)?FC:n),oE(y)&&(e=e||GC,g.scrollbars="yes");const E=Object.entries(g).reduce((C,[R,k])=>`${C}${R}=${k},`,"");if(R1(y)&&m!=="_self")return QC(e||"",m),new p_(null);const A=window.open(e||"",m,E);xe(A,i,"popup-blocked");try{A.focus()}catch{}return new p_(A)}function QC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="__/auth/handler",$C="emulator/auth/handler",XC=encodeURIComponent("fac");async function y_(i,e,n,a,o,u){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Do,eventId:o};if(e instanceof qm){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Xw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof iu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),y=g?`#${XC}=${encodeURIComponent(g)}`:"";return`${ZC(i)}?${nu(m).slice(1)}${y}`}function ZC({config:i}){return i.emulator?km(i,$C):`https://${i.authDomain}/${YC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class JC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SE,this._completeRedirectFn=SC,this._overrideRedirectResult=_C}async _openPopup(e,n,a,o){var u;Ci((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await y_(e,n,a,Jd(),o);return KC(e,f,Fm())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await y_(e,n,a,Jd(),o);return tC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ci(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await jC(e),a=new AC(e);return n.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kd,{type:kd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[kd];f!==void 0&&n(!!f),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mE()||lE()||Bm()}}const WC=JC;var v_="@firebase/auth",__="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n2(i){vo(new ys("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;xe(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gE(i)},y=new M1(a,o,u,g);return k1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),vo(new ys("auth-internal",e=>{const n=fh(e.getProvider("auth").getImmediate());return(a=>new e2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ea(v_,__,t2(i)),Ea(v_,__,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=5*60,i2=K0("authIdTokenMaxAge")||r2;let E_=null;const a2=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>i2)return;const o=n==null?void 0:n.token;E_!==o&&(E_=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function s2(i=X0()){const e=Vm(i,"auth");if(e.isInitialized())return e.getImmediate();const n=U1(i,{popupRedirectResolver:WC,persistence:[cC,J1,SE]}),a=K0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=a2(u.toString());Q1(n,f,()=>f(n.currentUser)),K1(n,m=>f(m))}}const o=F0("auth");return o&&z1(n,`http://${o}`),n}function o2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}x1({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=Tr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",o2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n2("Browser");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,OE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function b(){}b.prototype=w.prototype,N.D=w.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(I,V,z){for(var O=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)O[ht-2]=arguments[ht];return w.prototype[V].apply(I,O)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,b){b||(b=0);var I=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)I[V]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(V=0;16>V;++V)I[V]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=N.g[0],b=N.g[1],V=N.g[2];var z=N.g[3],O=w+(z^b&(V^z))+I[0]+3614090360&4294967295;w=b+(O<<7&4294967295|O>>>25),O=z+(V^w&(b^V))+I[1]+3905402710&4294967295,z=w+(O<<12&4294967295|O>>>20),O=V+(b^z&(w^b))+I[2]+606105819&4294967295,V=z+(O<<17&4294967295|O>>>15),O=b+(w^V&(z^w))+I[3]+3250441966&4294967295,b=V+(O<<22&4294967295|O>>>10),O=w+(z^b&(V^z))+I[4]+4118548399&4294967295,w=b+(O<<7&4294967295|O>>>25),O=z+(V^w&(b^V))+I[5]+1200080426&4294967295,z=w+(O<<12&4294967295|O>>>20),O=V+(b^z&(w^b))+I[6]+2821735955&4294967295,V=z+(O<<17&4294967295|O>>>15),O=b+(w^V&(z^w))+I[7]+4249261313&4294967295,b=V+(O<<22&4294967295|O>>>10),O=w+(z^b&(V^z))+I[8]+1770035416&4294967295,w=b+(O<<7&4294967295|O>>>25),O=z+(V^w&(b^V))+I[9]+2336552879&4294967295,z=w+(O<<12&4294967295|O>>>20),O=V+(b^z&(w^b))+I[10]+4294925233&4294967295,V=z+(O<<17&4294967295|O>>>15),O=b+(w^V&(z^w))+I[11]+2304563134&4294967295,b=V+(O<<22&4294967295|O>>>10),O=w+(z^b&(V^z))+I[12]+1804603682&4294967295,w=b+(O<<7&4294967295|O>>>25),O=z+(V^w&(b^V))+I[13]+4254626195&4294967295,z=w+(O<<12&4294967295|O>>>20),O=V+(b^z&(w^b))+I[14]+2792965006&4294967295,V=z+(O<<17&4294967295|O>>>15),O=b+(w^V&(z^w))+I[15]+1236535329&4294967295,b=V+(O<<22&4294967295|O>>>10),O=w+(V^z&(b^V))+I[1]+4129170786&4294967295,w=b+(O<<5&4294967295|O>>>27),O=z+(b^V&(w^b))+I[6]+3225465664&4294967295,z=w+(O<<9&4294967295|O>>>23),O=V+(w^b&(z^w))+I[11]+643717713&4294967295,V=z+(O<<14&4294967295|O>>>18),O=b+(z^w&(V^z))+I[0]+3921069994&4294967295,b=V+(O<<20&4294967295|O>>>12),O=w+(V^z&(b^V))+I[5]+3593408605&4294967295,w=b+(O<<5&4294967295|O>>>27),O=z+(b^V&(w^b))+I[10]+38016083&4294967295,z=w+(O<<9&4294967295|O>>>23),O=V+(w^b&(z^w))+I[15]+3634488961&4294967295,V=z+(O<<14&4294967295|O>>>18),O=b+(z^w&(V^z))+I[4]+3889429448&4294967295,b=V+(O<<20&4294967295|O>>>12),O=w+(V^z&(b^V))+I[9]+568446438&4294967295,w=b+(O<<5&4294967295|O>>>27),O=z+(b^V&(w^b))+I[14]+3275163606&4294967295,z=w+(O<<9&4294967295|O>>>23),O=V+(w^b&(z^w))+I[3]+4107603335&4294967295,V=z+(O<<14&4294967295|O>>>18),O=b+(z^w&(V^z))+I[8]+1163531501&4294967295,b=V+(O<<20&4294967295|O>>>12),O=w+(V^z&(b^V))+I[13]+2850285829&4294967295,w=b+(O<<5&4294967295|O>>>27),O=z+(b^V&(w^b))+I[2]+4243563512&4294967295,z=w+(O<<9&4294967295|O>>>23),O=V+(w^b&(z^w))+I[7]+1735328473&4294967295,V=z+(O<<14&4294967295|O>>>18),O=b+(z^w&(V^z))+I[12]+2368359562&4294967295,b=V+(O<<20&4294967295|O>>>12),O=w+(b^V^z)+I[5]+4294588738&4294967295,w=b+(O<<4&4294967295|O>>>28),O=z+(w^b^V)+I[8]+2272392833&4294967295,z=w+(O<<11&4294967295|O>>>21),O=V+(z^w^b)+I[11]+1839030562&4294967295,V=z+(O<<16&4294967295|O>>>16),O=b+(V^z^w)+I[14]+4259657740&4294967295,b=V+(O<<23&4294967295|O>>>9),O=w+(b^V^z)+I[1]+2763975236&4294967295,w=b+(O<<4&4294967295|O>>>28),O=z+(w^b^V)+I[4]+1272893353&4294967295,z=w+(O<<11&4294967295|O>>>21),O=V+(z^w^b)+I[7]+4139469664&4294967295,V=z+(O<<16&4294967295|O>>>16),O=b+(V^z^w)+I[10]+3200236656&4294967295,b=V+(O<<23&4294967295|O>>>9),O=w+(b^V^z)+I[13]+681279174&4294967295,w=b+(O<<4&4294967295|O>>>28),O=z+(w^b^V)+I[0]+3936430074&4294967295,z=w+(O<<11&4294967295|O>>>21),O=V+(z^w^b)+I[3]+3572445317&4294967295,V=z+(O<<16&4294967295|O>>>16),O=b+(V^z^w)+I[6]+76029189&4294967295,b=V+(O<<23&4294967295|O>>>9),O=w+(b^V^z)+I[9]+3654602809&4294967295,w=b+(O<<4&4294967295|O>>>28),O=z+(w^b^V)+I[12]+3873151461&4294967295,z=w+(O<<11&4294967295|O>>>21),O=V+(z^w^b)+I[15]+530742520&4294967295,V=z+(O<<16&4294967295|O>>>16),O=b+(V^z^w)+I[2]+3299628645&4294967295,b=V+(O<<23&4294967295|O>>>9),O=w+(V^(b|~z))+I[0]+4096336452&4294967295,w=b+(O<<6&4294967295|O>>>26),O=z+(b^(w|~V))+I[7]+1126891415&4294967295,z=w+(O<<10&4294967295|O>>>22),O=V+(w^(z|~b))+I[14]+2878612391&4294967295,V=z+(O<<15&4294967295|O>>>17),O=b+(z^(V|~w))+I[5]+4237533241&4294967295,b=V+(O<<21&4294967295|O>>>11),O=w+(V^(b|~z))+I[12]+1700485571&4294967295,w=b+(O<<6&4294967295|O>>>26),O=z+(b^(w|~V))+I[3]+2399980690&4294967295,z=w+(O<<10&4294967295|O>>>22),O=V+(w^(z|~b))+I[10]+4293915773&4294967295,V=z+(O<<15&4294967295|O>>>17),O=b+(z^(V|~w))+I[1]+2240044497&4294967295,b=V+(O<<21&4294967295|O>>>11),O=w+(V^(b|~z))+I[8]+1873313359&4294967295,w=b+(O<<6&4294967295|O>>>26),O=z+(b^(w|~V))+I[15]+4264355552&4294967295,z=w+(O<<10&4294967295|O>>>22),O=V+(w^(z|~b))+I[6]+2734768916&4294967295,V=z+(O<<15&4294967295|O>>>17),O=b+(z^(V|~w))+I[13]+1309151649&4294967295,b=V+(O<<21&4294967295|O>>>11),O=w+(V^(b|~z))+I[4]+4149444226&4294967295,w=b+(O<<6&4294967295|O>>>26),O=z+(b^(w|~V))+I[11]+3174756917&4294967295,z=w+(O<<10&4294967295|O>>>22),O=V+(w^(z|~b))+I[2]+718787259&4294967295,V=z+(O<<15&4294967295|O>>>17),O=b+(z^(V|~w))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+z&4294967295}a.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var b=w-this.blockSize,I=this.B,V=this.h,z=0;z<w;){if(V==0)for(;z<=b;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<w;)if(I[V++]=N.charCodeAt(z++),V==this.blockSize){o(this,I),V=0;break}}else for(;z<w;)if(I[V++]=N[z++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=w},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var b=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=b&255,b/=256;for(this.u(N),N=Array(16),w=b=0;4>w;++w)for(var I=0;32>I;I+=8)N[b++]=this.g[w]>>>I&255;return N};function u(N,w){var b=m;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=w(N)}function f(N,w){this.h=w;for(var b=[],I=!0,V=N.length-1;0<=V;V--){var z=N[V]|0;I&&z==w||(b[V]=z,I=!1)}this.g=b}var m={};function g(N){return-128<=N&&128>N?u(N,function(w){return new f([w|0],0>w?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return q(y(-N));for(var w=[],b=1,I=0;N>=b;I++)w[I]=N/b|0,b*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return q(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(w,8)),I=A,V=0;V<N.length;V+=8){var z=Math.min(8,N.length-V),O=parseInt(N.substring(V,V+z),w);8>z?(z=y(Math.pow(w,z)),I=I.j(z).add(y(O))):(I=I.j(b),I=I.add(y(O)))}return I}var A=g(0),C=g(1),R=g(16777216);i=f.prototype,i.m=function(){if(X(this))return-q(this).m();for(var N=0,w=1,b=0;b<this.g.length;b++){var I=this.i(b);N+=(0<=I?I:4294967296+I)*w,w*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(X(this))return"-"+q(this).toString(N);for(var w=y(Math.pow(N,6)),b=this,I="";;){var V=ye(b,w).g;b=$(b,V.j(w));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=V,k(b))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function X(N){return N.h==-1}i.l=function(N){return N=$(this,N),X(N)?-1:k(N)?0:1};function q(N){for(var w=N.g.length,b=[],I=0;I<w;I++)b[I]=~N.g[I];return new f(b,~N.h).add(C)}i.abs=function(){return X(this)?q(this):this},i.add=function(N){for(var w=Math.max(this.g.length,N.g.length),b=[],I=0,V=0;V<=w;V++){var z=I+(this.i(V)&65535)+(N.i(V)&65535),O=(z>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);I=O>>>16,z&=65535,O&=65535,b[V]=O<<16|z}return new f(b,b[b.length-1]&-2147483648?-1:0)};function $(N,w){return N.add(q(w))}i.j=function(N){if(k(this)||k(N))return A;if(X(this))return X(N)?q(this).j(q(N)):q(q(this).j(N));if(X(N))return q(this.j(q(N)));if(0>this.l(R)&&0>N.l(R))return y(this.m()*N.m());for(var w=this.g.length+N.g.length,b=[],I=0;I<2*w;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<N.g.length;V++){var z=this.i(I)>>>16,O=this.i(I)&65535,ht=N.i(V)>>>16,pt=N.i(V)&65535;b[2*I+2*V]+=O*pt,ee(b,2*I+2*V),b[2*I+2*V+1]+=z*pt,ee(b,2*I+2*V+1),b[2*I+2*V+1]+=O*ht,ee(b,2*I+2*V+1),b[2*I+2*V+2]+=z*ht,ee(b,2*I+2*V+2)}for(I=0;I<w;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=w;I<2*w;I++)b[I]=0;return new f(b,0)};function ee(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function oe(N,w){this.g=N,this.h=w}function ye(N,w){if(k(w))throw Error("division by zero");if(k(N))return new oe(A,A);if(X(N))return w=ye(q(N),w),new oe(q(w.g),q(w.h));if(X(w))return w=ye(N,q(w)),new oe(q(w.g),w.h);if(30<N.g.length){if(X(N)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var b=C,I=w;0>=I.l(N);)b=ue(b),I=ue(I);var V=U(b,1),z=U(I,1);for(I=U(I,2),b=U(b,2);!k(I);){var O=z.add(I);0>=O.l(N)&&(V=V.add(b),z=O),I=U(I,1),b=U(b,1)}return w=$(N,V.j(w)),new oe(V,w)}for(V=A;0<=N.l(w);){for(b=Math.max(1,Math.floor(N.m()/w.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=y(b),O=z.j(w);X(O)||0<O.l(N);)b-=I,z=y(b),O=z.j(w);k(z)&&(z=C),V=V.add(z),N=$(N,O)}return new oe(V,N)}i.A=function(N){return ye(this,N).h},i.and=function(N){for(var w=Math.max(this.g.length,N.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)&N.i(I);return new f(b,this.h&N.h)},i.or=function(N){for(var w=Math.max(this.g.length,N.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)|N.i(I);return new f(b,this.h|N.h)},i.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)^N.i(I);return new f(b,this.h^N.h)};function ue(N){for(var w=N.g.length+1,b=[],I=0;I<w;I++)b[I]=N.i(I)<<1|N.i(I-1)>>>31;return new f(b,N.h)}function U(N,w){var b=w>>5;w%=32;for(var I=N.g.length-b,V=[],z=0;z<I;z++)V[z]=0<w?N.i(z+b)>>>w|N.i(z+b+1)<<32-w:N.i(z+b);return new f(V,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,OE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ta=f}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NE,Ll,ME,kc,tm,xE,VE,LE;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,p){if(p)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in v))break e;v=v[H]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,H={next:function(){if(!S&&v<c.length){var Y=v++;return{value:p(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function A(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(p,H)}}return function(){return c.apply(p,arguments)}}function C(c,p,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,C.apply(null,arguments)}function R(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,H,Y){for(var ce=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)ce[Ze-2]=arguments[Ze];return p.prototype[H].apply(S,ce)}}function X(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function q(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const H=c.length||0,Y=S.length||0;c.length=H+Y;for(let ce=0;ce<Y;ce++)c[H+ce]=S[ce]}else c.push(S)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){return/^[\s\xa0]*$/.test(c)}function oe(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var ue=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function U(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function N(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function w(c){const p={};for(const v in c)p[v]=c[v];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let v,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(v in S)c[v]=S[v];for(let Y=0;Y<b.length;Y++)v=b[Y],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function O(){var c=He;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ht{constructor(){this.h=this.g=null}add(p,v){const S=pt.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new $(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,He=new ht,x=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){z(v)}var p=pt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}pe=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function Ve(c,p){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ue){e:{try{ye(p.nodeName);var H=!0;break e}catch{}H=!1}H||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}k(Ve,fe);var Me={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),$e=0;function bt(c,p,v,S,H){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=H,this.key=++$e,this.da=this.fa=!1}function Le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dt(c){this.src=c,this.g={},this.h=0}Dt.prototype.add=function(c,p,v,S,H){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ce=Cn(c,p,S,H);return-1<ce?(p=c[ce],v||(p.fa=!1)):(p=new bt(p,this.src,Y,!!S,H),p.fa=v,c.push(p)),p};function qn(c,p){var v=p.type;if(v in c.g){var S=c.g[v],H=Array.prototype.indexOf.call(S,p,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(S,H,1),Y&&(Le(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Cn(c,p,v,S){for(var H=0;H<c.length;++H){var Y=c[H];if(!Y.da&&Y.listener==p&&Y.capture==!!v&&Y.ha==S)return H}return-1}var mn="closure_lm_"+(1e6*Math.random()|0),Ar={};function cr(c,p,v,S,H){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)cr(c,p[Y],v,S,H);return null}return v=Li(v),c&&c[Ct]?c.K(p,v,y(S)?!!S.capture:!1,H):Ni(c,p,v,!1,S,H)}function Ni(c,p,v,S,H,Y){if(!p)throw Error("Invalid event type");var ce=y(H)?!!H.capture:!!H,Ze=fr(c);if(Ze||(c[mn]=Ze=new Dt(c)),v=Ze.add(p,v,S,ce,Y),v.proxy)return v;if(S=Mi(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)de||(H=ce),H===void 0&&(H=!1),c.addEventListener(p.toString(),S,H);else if(c.attachEvent)c.attachEvent(Vi(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Mi(){function c(v){return p.call(c.src,c.listener,v)}const p=hr;return c}function xi(c,p,v,S,H){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)xi(c,p[Y],v,S,H);else S=y(S)?!!S.capture:!!S,v=Li(v),c&&c[Ct]?(c=c.i,p=String(p).toString(),p in c.g&&(Y=c.g[p],v=Cn(Y,v,S,H),-1<v&&(Le(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[p],c.h--)))):c&&(c=fr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Cn(p,v,S,H)),(v=-1<c?p[c]:null)&&Zr(v))}function Zr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ct])qn(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Vi(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=fr(p))?(qn(v,c),v.h==0&&(v.src=null,p[mn]=null)):Le(c)}}}function Vi(c){return c in Ar?Ar[c]:Ar[c]="on"+c}function hr(c,p){if(c.da)c=!0;else{p=new Ve(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&Zr(c),c=v.call(S,p)}return c}function fr(c){return c=c[mn],c instanceof Dt?c:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function Li(c){return typeof c=="function"?c:(c[an]||(c[an]=function(p){return c.handleEvent(p)}),c[an])}function ft(){Te.call(this),this.i=new Dt(this),this.M=this,this.F=null}k(ft,Te),ft.prototype[Ct]=!0,ft.prototype.removeEventListener=function(c,p,v,S){xi(this,c,p,v,S)};function dt(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new fe(p,c);else if(p instanceof fe)p.target=p.target||c;else{var H=p;p=new fe(S,c),I(p,H)}if(H=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ce=p.g=v[Y];H=Fn(ce,S,!0,p)&&H}if(ce=p.g=c,H=Fn(ce,S,!0,p)&&H,H=Fn(ce,S,!1,p)&&H,v)for(Y=0;Y<v.length;Y++)ce=p.g=v[Y],H=Fn(ce,S,!1,p)&&H}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)Le(v[S]);delete c.g[p],c.h--}}this.F=null},ft.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},ft.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function Fn(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var H=!0,Y=0;Y<p.length;++Y){var ce=p[Y];if(ce&&!ce.da&&ce.capture==v){var Ze=ce.listener,Gt=ce.ha||ce.src;ce.fa&&qn(c.i,ce),H=Ze.call(Gt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Pi(c,p,v){if(typeof c=="function")v&&(c=C(c,v));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Oa(c){c.g=Pi(()=>{c.g=null,c.i&&(c.i=!1,Oa(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Gn extends Te{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Oa(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(c){Te.call(this),this.h=c,this.g={}}k(wr,Te);var dr=[];function Ft(c){U(c.g,function(p,v){this.g.hasOwnProperty(v)&&Zr(p)},c),c.g={}}wr.prototype.N=function(){wr.aa.N.call(this),Ft(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=m.JSON.stringify,xn=m.JSON.parse,kt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ui(){}Ui.prototype.h=null;function ki(c){return c.h||(c.h=c.i())}function bs(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){fe.call(this,"d")}k(Rr,fe);function Dn(){fe.call(this,"c")}k(Dn,fe);var sn={},Ln=null;function zi(){return Ln=Ln||new ft}sn.La="serverreachability";function Ma(c){fe.call(this,sn.La,c)}k(Ma,fe);function M(c){const p=zi();dt(p,new Ma(p))}sn.STAT_EVENT="statevent";function j(c,p){fe.call(this,sn.STAT_EVENT,c),this.stat=p}k(j,fe);function F(c){const p=zi();dt(p,new j(p,c))}sn.Ma="timingevent";function ae(c,p){fe.call(this,sn.Ma,c),this.size=p}k(ae,fe);function me(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function De(c,p,v,S,H,Y){c.info(function(){if(c.g)if(Y)for(var ce="",Ze=Y.split("&"),Gt=0;Gt<Ze.length;Gt++){var Je=Ze[Gt].split("=");if(1<Je.length){var Wt=Je[0];Je=Je[1];var Kt=Wt.split("_");ce=2<=Kt.length&&Kt[1]=="type"?ce+(Wt+"="+Je+"&"):ce+(Wt+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+p+`
`+v+`
`+ce})}function ve(c,p,v,S,H,Y,ce){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+p+`
`+v+`
`+Y+" "+ce})}function _e(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ae(c,v)+(S?" "+S:"")})}function he(c,p){c.info(function(){return"TIMEOUT: "+p})}Se.prototype.info=function(){};function Ae(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<H.length;ce++)H[ce]=""}}}}return Na(v)}catch{return p}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tt;function ut(){}k(ut,Ui),ut.prototype.g=function(){return new XMLHttpRequest},ut.prototype.i=function(){return{}},Tt=new ut;function Ge(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Tn={},Pn={};function Vt(c,p,v){c.L=1,c.v=Pa(It(p)),c.m=v,c.P=!0,zt(c,null)}function zt(c,p){c.F=Date.now(),ot(c),c.A=It(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ti(v.i,"t",S),c.C=0,v=c.j.J,c.h=new St,c.g=Su(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Gn(C(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(dr[0]=H.toString()),H=dr);for(var Y=0;Y<H.length;Y++){var ce=cr(v,H[Y],S||p.handleEvent,!1,p.h||p);if(!ce)break;p.g[ce.key]=ce}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),M(),De(c.i,c.u,c.A,c.l,c.R,c.m)}Ge.prototype.ca=function(c){c=c.target;const p=this.M;p&&Jn(c)==3?p.j():this.Y(c)},Ge.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=Jn(this.g);var p=this.g.Ba();const ai=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Kt!=4||p==7||(p==8||0>=ai?M(3):M(2)),mr(this);var v=this.g.Z();this.X=v;t:if(Kn(this)){var S=mu(this.g);c="";var H=S.length,Y=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),je(this);var ce="";break t}this.h.i=new m.TextDecoder}for(p=0;p<H;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(Y&&p==H-1)});S.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,ve(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Gt=this.g;if((Ze=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Ze)){var Je=Ze;break t}}Je=null}if(v=Je)_e(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zt(this,v);else{this.o=!1,this.s=3,F(12),lt(this),je(this);break e}}if(this.P){v=!0;let on;for(;!this.J&&this.C<ce.length;)if(on=In(this,ce),on==Pn){Kt==4&&(this.s=4,F(14),v=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Tn){this.s=4,F(15),_e(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else _e(this.i,this.l,on,null),Zt(this,on);if(Kn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ce.length!=0||this.h.h||(this.s=1,F(16),v=!1),this.o=this.o&&v,!v)_e(this.i,this.l,ce,"[Invalid Chunked Response]"),lt(this),je(this);else if(0<ce.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),qa(Wt),Wt.M=!0,F(11))}}else _e(this.i,this.l,ce,null),Zt(this,ce);Kt==4&&lt(this),this.o&&!this.J&&(Kt==4?_u(this.j,this):(this.o=!1,ot(this)))}else Oh(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,F(12)):(this.s=0,F(13)),lt(this),je(this)}}}catch{}finally{}};function Kn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function In(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Pn:(v=Number(p.substring(v,S)),isNaN(v)?Tn:(S+=1,S+v>p.length?Pn:(p=p.slice(S,S+v),c.C=S+v,p)))}Ge.prototype.cancel=function(){this.J=!0,lt(this)};function ot(c){c.S=Date.now()+c.I,Cr(c,c.I)}function Cr(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=me(C(c.ba,c),p)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ge.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(he(this.i,this.A),this.L!=2&&(M(),F(17)),lt(this),this.s=2,je(this)):Cr(this,this.S-c)};function je(c){c.j.G==0||c.J||_u(c.j,c)}function lt(c){mr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Ft(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Zt(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||Dr(v.h,c))){if(!c.K&&Dr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)xs(v),Ns(v);else break e;Bo(v),F(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(C(v.Za,v),6e3));if(1>=xa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ii(v,11)}else if((c.K||v.g==c)&&xs(v),!ee(p))for(H=v.Da.g.parse(p),p=0;p<H.length;p++){let Je=H[p];if(v.T=Je[0],Je=Je[1],v.G==2)if(Je[0]=="c"){v.K=Je[1],v.ia=Je[2];const Wt=Je[3];Wt!=null&&(v.la=Wt,v.j.info("VER="+v.la));const Kt=Je[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const ai=Je[5];ai!=null&&typeof ai=="number"&&0<ai&&(S=1.5*ai,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const on=c.g;if(on){const Lr=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var Y=S.h;Y.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ji(Y,Y.h),Y.h=null))}if(S.D){const qo=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(S.ya=qo,it(S.I,S.D,qo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ce=c;if(S.qa=Tu(S,S.J?S.ia:null,S.W),ce.K){Yn(S.h,ce);var Ze=ce,Gt=S.L;Gt&&(Ze.I=Gt),Ze.B&&(mr(Ze),ot(Ze)),S.g=ce}else yu(S);0<v.i.length&&Ms(v)}else Je[0]!="stop"&&Je[0]!="close"||ii(v,7);else v.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ii(v,7):zo(v):Je[0]!="noop"&&v.l&&v.l.ta(Je),v.v=0)}}M(4)}catch{}}var Jr=class{constructor(c,p){this.g=c,this.map=p}};function vt(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xa(c){return c.h?1:c.g?c.g.size:0}function Dr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ji(c,p){c.g?c.g.add(p):c.h=p}function Yn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}vt.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return X(c.i)}function cu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function Rh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function Va(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=Rh(c),S=cu(c),H=S.length,Y=0;Y<H;Y++)p.call(void 0,S[Y],v&&v[Y],c)}var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function As(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),H=null;if(0<=S){var Y=c[v].substring(0,S);H=c[v].substring(S+1)}else Y=c[v];p(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Wr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Wr){this.h=c.h,Bi(this,c.j),this.o=c.o,this.g=c.g,La(this,c.s),this.l=c.l;var p=c.i,v=new Ir;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),ws(this,v),this.m=c.m}else c&&(p=String(c).match(xo))?(this.h=!1,Bi(this,p[1]||"",!0),this.o=Hi(p[2]||""),this.g=Hi(p[3]||"",!0),La(this,p[4]),this.l=Hi(p[5]||"",!0),ws(this,p[6]||"",!0),this.m=Hi(p[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}Wr.prototype.toString=function(){var c=[],p=this.j;p&&c.push($n(p,Vo,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push($n(p,Vo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push($n(v,v.charAt(0)=="/"?Lo:hu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",$n(v,Ih)),c.join("")};function It(c){return new Wr(c)}function Bi(c,p,v){c.j=v?Hi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function La(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function ws(c,p,v){p instanceof Ir?(c.i=p,Po(c.i,c.h)):(v||(p=$n(p,Dh)),c.i=new Ir(p,c.h))}function it(c,p,v){c.i.set(p,v)}function Pa(c){return it(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Hi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $n(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Ch),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ch(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,hu=/[#\?:]/g,Lo=/[#\?]/g,Dh=/[#\?@]/g,Ih=/#/g;function Ir(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Xn(c){c.g||(c.g=new Map,c.h=0,c.i&&As(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=Ir.prototype,i.add=function(c,p){Xn(this),this.i=null,c=ni(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Rs(c,p){Xn(c),p=ni(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ei(c,p){return Xn(c),p=ni(c,p),c.g.has(p)}i.forEach=function(c,p){Xn(this),this.g.forEach(function(v,S){v.forEach(function(H){c.call(p,H,S,this)},this)},this)},i.na=function(){Xn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const H=c[S];for(let Y=0;Y<H.length;Y++)v.push(p[S])}return v},i.V=function(c){Xn(this);let p=[];if(typeof c=="string")ei(this,c)&&(p=p.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return Xn(this),this.i=null,c=ni(this,c),ei(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ti(c,p,v){Rs(c,p),0<v.length&&(c.i=null,c.g.set(ni(c,p),X(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const Y=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var H=Y;ce[S]!==""&&(H+="="+encodeURIComponent(String(ce[S]))),c.push(H)}}return this.i=c.join("&")};function ni(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Po(c,p){p&&!c.j&&(Xn(c),c.i=null,c.g.forEach(function(v,S){var H=S.toLowerCase();S!=H&&(Rs(this,S),ti(this,H,v))},c)),c.j=p}function fu(c,p){const v=new Se;if(m.Image){const S=new Image;S.onload=R(Zn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=R(Zn,v,"TestLoadImage: error",!1,p,S),S.onabort=R(Zn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=R(Zn,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Ua(c,p){const v=new Se,S=new AbortController,H=setTimeout(()=>{S.abort(),Zn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(H),Y.ok?Zn(v,"TestPingServer: ok",!0,p):Zn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(H),Zn(v,"TestPingServer: error",!1,p)})}function Zn(c,p,v,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(v)}catch{}}function ka(){this.g=new kt}function Or(c,p,v){const S=v||"";try{Va(c,function(H,Y){let ce=H;y(H)&&(ce=Na(H)),p.push(S+Y+"="+encodeURIComponent(ce))})}catch(H){throw p.push(S+"type="+encodeURIComponent("_badmap")),H}}function qi(c){this.l=c.Ub||null,this.j=c.eb||!1}k(qi,Ui),qi.prototype.g=function(){return new ri(this.l,this.j)},qi.prototype.i=function(c){return function(){return c}}({});function ri(c,p){ft.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ri,ft),i=ri.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Mr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Nr(this):Mr(this),this.readyState==3&&Uo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},i.Qa=function(c){this.g&&(this.response=c,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ko(c){let p="";return U(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Jt(c,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=ko(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):it(c,p,v))}function ct(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ct,ft);var Cs=/^https?$/i,za=["POST","PUT"];i=ct.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tt.g(),this.v=this.o?ki(this.o):ki(Tt),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){du(this,Y);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)v.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(za,p,void 0))||S||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of v)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){du(this,Y)}};function du(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ds(c),xr(c)}function Ds(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),xr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),ct.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Is(this):this.bb())},i.bb=function(){Is(this)};function Is(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Jn(c)!=4||c.Z()!=2)){if(c.u&&Jn(c)==4)Pi(c.Ea,0,c);else if(dt(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=ce===0){var H=String(c.D).match(xo)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!Cs.test(H?H.toLowerCase():"")}v=S}if(v)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var Y=2<Jn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ds(c)}}finally{xr(c)}}}}function xr(c,p){if(c.g){ja(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||dt(c,"ready");try{v.onreadystatechange=S}catch{}}}function ja(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),xn(p)}};function mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(c){const p={};c=(c.g&&2<=Jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ee(c[S]))continue;var v=V(c[S]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=p[H]||[];p[H]=Y,Y.push(v)}N(p,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Os(c){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,c),this.cb=Ba("retryDelaySeedMs",1e4,c),this.Wa=Ba("forwardChannelMaxRetries",2,c),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vt(c&&c.concurrentRequestLimit),this.Da=new ka,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Os.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,S){F(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Tu(this,null,this.W),Ms(this)};function zo(c){if(gu(c),c.G==3){var p=c.U++,v=It(c.I);if(it(v,"SID",c.K),it(v,"RID",p),it(v,"TYPE","terminate"),Ha(c,v),p=new Ge(c,c.j,p),p.L=2,p.v=Pa(It(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Su(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ot(p)}Eu(c)}function Ns(c){c.g&&(qa(c),c.g.cancel(),c.g=null)}function gu(c){Ns(c),c.u&&(m.clearTimeout(c.u),c.u=null),xs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ms(c){if(!Qn(c.h)&&!c.s){c.s=!0;var p=c.Ga;le||x(),pe||(le(),pe=!0),He.add(p,c),c.B=0}}function Nh(c,p){return xa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=me(C(c.Ga,c,p),Ho(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Ge(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=pu(this,H,p),v=It(this.I),it(v,"RID",c),it(v,"CVER",22),this.D&&it(v,"X-HTTP-Session-Id",this.D),Ha(this,v),Y&&(this.O?p="headers="+encodeURIComponent(String(ko(Y)))+"&"+p:this.m&&Jt(v,this.m,Y)),ji(this.h,H),this.Ua&&it(v,"TYPE","init"),this.P?(it(v,"$req",p),it(v,"SID","null"),H.T=!0,Vt(H,v,null)):Vt(H,v,p),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||Qn(this.h)||jo(this))};function jo(c,p){var v;p?v=p.l:v=c.U++;const S=It(c.I);it(S,"SID",c.K),it(S,"RID",v),it(S,"AID",c.T),Ha(c,S),c.m&&c.o&&Jt(S,c.m,c.o),v=new Ge(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=pu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ji(c.h,v),Vt(v,S,p)}function Ha(c,p){c.H&&U(c.H,function(v,S){it(p,S,v)}),c.l&&Va({},function(v,S){it(p,S,v)})}function pu(c,p,v){v=Math.min(c.i.length,v);var S=c.l?C(c.l.Na,c.l,c):null;e:{var H=c.i;let Y=-1;for(;;){const ce=["count="+v];Y==-1?0<v?(Y=H[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let Ze=!0;for(let Gt=0;Gt<v;Gt++){let Je=H[Gt].g;const Wt=H[Gt].map;if(Je-=Y,0>Je)Y=Math.max(0,H[Gt].g-100),Ze=!1;else try{Or(Wt,ce,"req"+Je+"_")}catch{S&&S(Wt)}}if(Ze){S=ce.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,S}function yu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;le||x(),pe||(le(),pe=!0),He.add(p,c),c.v=0}}function Bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=me(C(c.Fa,c),Ho(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=me(C(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,F(10),Ns(this),vu(this))};function qa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function vu(c){c.g=new Ge(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=It(c.qa);it(p,"RID","rpc"),it(p,"SID",c.K),it(p,"AID",c.T),it(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&it(p,"TO",c.ja),it(p,"TYPE","xmlhttp"),Ha(c,p),c.m&&c.o&&Jt(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Pa(It(p)),v.m=null,v.P=!0,zt(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ns(this),Bo(this),F(19))};function xs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function _u(c,p){var v=null;if(c.g==p){xs(c),qa(c),c.g=null;var S=2}else if(Dr(c.h,p))v=p.D,Yn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var H=c.B;S=zi(),dt(S,new ae(S,v)),Ms(c)}else yu(c);else if(H=p.s,H==3||H==0&&0<p.X||!(S==1&&Nh(c,p)||S==2&&Bo(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),H){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function Ho(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function ii(c,p){if(c.j.info("Error code "+p),p==2){var v=C(c.fb,c),S=c.Xa;const H=!S;S=new Wr(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Bi(S,"https"),Pa(S),H?fu(S.toString(),v):Ua(S.toString(),v)}else F(2);c.G=0,c.l&&c.l.sa(p),Eu(c),gu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),F(2)):(this.j.info("Failed to ping google.com"),F(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const p=Sn(c.h);(p.length!=0||c.i.length!=0)&&(q(c.ka,p),q(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Tu(c,p,v){var S=v instanceof Wr?It(v):new Wr(v);if(S.g!="")p&&(S.g=p+"."+S.g),La(S,S.s);else{var H=m.location;S=H.protocol,p=p?p+"."+H.hostname:H.hostname,H=+H.port;var Y=new Wr(null);S&&Bi(Y,S),p&&(Y.g=p),H&&La(Y,H),v&&(Y.l=v),S=Y}return v=c.D,p=c.ya,v&&p&&it(S,v,p),it(S,"VER",c.la),Ha(c,S),S}function Su(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new ct(new qi({eb:v})):new ct(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}i=bu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Vs(){}Vs.prototype.g=function(c,p){return new bn(c,p)};function bn(c,p){ft.call(this),this.g=new Os(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ee(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Vr(this)}k(bn,ft),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){zo(this.g)},bn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Na(c),c=v);p.i.push(new Jr(p.Ya++,c)),p.G==3&&Ms(p)},bn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,bn.aa.N.call(this)};function Au(c){Rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}k(Au,Rr);function wu(){Dn.call(this),this.status=1}k(wu,Dn);function Vr(c){this.g=c}k(Vr,bu),Vr.prototype.ua=function(){dt(this.g,"a")},Vr.prototype.ta=function(c){dt(this.g,new Au(c))},Vr.prototype.sa=function(c){dt(this.g,new wu)},Vr.prototype.ra=function(){dt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,LE=function(){return new Vs},VE=function(){return zi()},xE=sn,tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,kc=Re,Xe.COMPLETE="complete",ME=Xe,bs.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ll=bs,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,NE=ct}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore",b_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Mm("@firebase/firestore");function lo(){return _s.logLevel}function Ee(i,...e){if(_s.logLevel<=Ke.DEBUG){const n=e.map(Km);_s.debug(`Firestore (${Oo}): ${i}`,...n)}}function Di(i,...e){if(_s.logLevel<=Ke.ERROR){const n=e.map(Km);_s.error(`Firestore (${Oo}): ${i}`,...n)}}function Eo(i,...e){if(_s.logLevel<=Ke.WARN){const n=e.map(Km);_s.warn(`Firestore (${Oo}): ${i}`,...n)}}function Km(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(i="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+i;throw Di(e),new Error(e)}function Rt(i,e){i||ze()}function nt(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class u2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class c2{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ms,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ms)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Rt(typeof a.accessToken=="string"),new PE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new vn(e)}}class h2{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class f2{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new h2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Er(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Rt(this.o===void 0);const a=u=>{u.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new A_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt(typeof n.token=="string"),this.R=n.token,new A_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=m2(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function tt(i,e){return i<e?-1:i>e?1:0}function To(i,e,n){return i.length===e.length&&i.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-62135596800,R_=1e6;class Mn{static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*R_);return new Mn(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w_)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Mn(0,0))}static max(){return new Ue(new Mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="__name__";class Br{constructor(e,n,a){n===void 0?n=0:n>e.length&&ze(),a===void 0?a=e.length-n:a>e.length-n&&ze(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Br.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=Br.isNumericId(e),o=Br.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Br.extractNumericId(e).compare(Br.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ta.fromString(e.substring(4,e.length-2))}}class xt extends Br{construct(e,n,a){return new xt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new xt(n)}static emptyPath(){return new xt([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Br{construct(e,n,a){return new Rn(e,n,a)}static isValidIdentifier(e){return g2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new Rn([C_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Oe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Oe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new Oe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(xt.fromString(e))}static fromName(e){return new Ne(xt.fromString(e).popFirst(5))}static empty(){return new Ne(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function p2(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(a===1e9?new Mn(n+1,0):new Mn(n,a));return new ba(o,Ne.empty(),e)}function y2(i){return new ba(i.readTime,i.key,Ql)}class ba{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ba(Ue.min(),Ne.empty(),Ql)}static max(){return new ba(Ue.max(),Ne.empty(),Ql)}}function v2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(i.documentKey,e.documentKey),n!==0?n:tt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(i){if(i.code!==ge.FAILED_PRECONDITION||i.message!==_2)throw i;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,a)=>{n(e)})}static reject(e){return new ne((n,a)=>{a(e)})}static waitFor(e){return new ne((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>a(g))}),f=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next(o=>o?ne.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ne((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new ne((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function T2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ph.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=-1;function yh(i){return i==null}function nm(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="";function b2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=D_(e)),e=A2(i.get(n),e);return D_(e)}function A2(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case kE:n+="";break;default:n+=u}}return n}function D_(i){return i+kE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function su(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function w2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new hn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,n,a,o,u){return this}insert(e,n,a){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(e){return new O_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class O_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new pa([])}unionWith(e){let n=new Xt(Rn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new pa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zE("Invalid base64 string: "+u):u}}(e);return new dn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(i){if(Rt(!!i),typeof i=="string"){let e=0;const n=R2.exec(i);if(Rt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pt(i.seconds),nanos:Pt(i.nanos)}}function Pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function wa(i){return typeof i=="string"?dn.fromBase64String(i):dn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="server_timestamp",BE="__type__",HE="__previous_value__",qE="__local_write_time__";function Qm(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[BE])===null||n===void 0?void 0:n.stringValue)===jE}function vh(i){const e=i.mapValue.fields[HE];return Qm(e)?vh(e):e}function Yl(i){const e=Aa(i.mapValue.fields[qE].timestampValue);return new Mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,a,o,u,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Wc="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||Wc}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="__type__",I2="__max__",Dc={mapValue:{}},O2="__vector__",rm="value";function Ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qm(i)?4:M2(i)?9007199254740991:N2(i)?10:11:ze()}function Yr(i,e){if(i===e)return!0;const n=Ra(i);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Yl(i).isEqual(Yl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Aa(o.timestampValue),m=Aa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return wa(o.bytesValue).isEqual(wa(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Pt(o.doubleValue),m=Pt(u.doubleValue);return f===m?nm(f)===nm(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return To(i.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(I_(f)!==I_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Yr(f[g],m[g])))return!1;return!0}(i,e);default:return ze()}}function Xl(i,e){return(i.values||[]).find(n=>Yr(n,e))!==void 0}function So(i,e){if(i===e)return 0;const n=Ra(i),a=Ra(e);if(n!==a)return tt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Pt(u.integerValue||u.doubleValue),g=Pt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return N_(i.timestampValue,e.timestampValue);case 4:return N_(Yl(i),Yl(e));case 5:return tt(i.stringValue,e.stringValue);case 6:return function(u,f){const m=wa(u),g=wa(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=tt(m[y],g[y]);if(E!==0)return E}return tt(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=tt(Pt(u.latitude),Pt(f.latitude));return m!==0?m:tt(Pt(u.longitude),Pt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return M_(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,E;const A=u.fields||{},C=f.fields||{},R=(m=A[rm])===null||m===void 0?void 0:m.arrayValue,k=(g=C[rm])===null||g===void 0?void 0:g.arrayValue,X=tt(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:M_(R,k)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Dc.mapValue&&f===Dc.mapValue)return 0;if(u===Dc.mapValue)return 1;if(f===Dc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const C=tt(g[A],E[A]);if(C!==0)return C;const R=So(m[g[A]],y[E[A]]);if(R!==0)return R}return tt(g.length,E.length)}(i.mapValue,e.mapValue);default:throw ze()}}function N_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return tt(i,e);const n=Aa(i),a=Aa(e),o=tt(n.seconds,a.seconds);return o!==0?o:tt(n.nanos,a.nanos)}function M_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=So(n[o],a[o]);if(u)return u}return tt(n.length,a.length)}function bo(i){return im(i)}function im(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const a=Aa(n);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return wa(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ne.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=im(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${im(n.fields[f])}`;return o+"}"}(i.mapValue):ze()}function zc(i){switch(Ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(i);return e?16+zc(e):16;case 5:return 2*i.stringValue.length;case 6:return wa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+zc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let o=0;return su(a.fields,(u,f)=>{o+=u.length+zc(f)}),o}(i.mapValue);default:throw ze()}}function am(i){return!!i&&"integerValue"in i}function Ym(i){return!!i&&"arrayValue"in i}function x_(i){return!!i&&"nullValue"in i}function V_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zd(i){return!!i&&"mapValue"in i}function N2(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[D2])===null||n===void 0?void 0:n.stringValue)===O2}function zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return su(i.mapValue.fields,(n,a)=>e.mapValue.fields[n]=zl(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function M2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===I2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Rn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];zd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){su(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new Hr(zl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new _n(e,0,Ue.min(),Ue.min(),Ue.min(),Hr.empty(),0)}static newFoundDocument(e,n,a,o){return new _n(e,1,n,Ue.min(),a,o,0)}static newNoDocument(e,n){return new _n(e,2,n,Ue.min(),Ue.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Ue.min(),Ue.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.position=e,this.inclusive=n}}function L_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=Ne.comparator(Ne.fromName(f.referenceValue),n.key):a=So(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function P_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n="asc"){this.field=e,this.dir=n}}function x2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{}class $t extends FE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new L2(e,n,a):n==="array-contains"?new k2(e,a):n==="in"?new z2(e,a):n==="not-in"?new j2(e,a):n==="array-contains-any"?new B2(e,a):new $t(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new P2(e,a):new U2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(So(n,this.value)):n!==null&&Ra(this.value)===Ra(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends FE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new $r(e,n)}matches(e){return GE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function GE(i){return i.op==="and"}function KE(i){return V2(i)&&GE(i)}function V2(i){for(const e of i.filters)if(e instanceof $r)return!1;return!0}function sm(i){if(i instanceof $t)return i.field.canonicalString()+i.op.toString()+bo(i.value);if(KE(i))return i.filters.map(e=>sm(e)).join(",");{const e=i.filters.map(n=>sm(n)).join(",");return`${i.op}(${e})`}}function QE(i,e){return i instanceof $t?function(a,o){return o instanceof $t&&a.op===o.op&&a.field.isEqual(o.field)&&Yr(a.value,o.value)}(i,e):i instanceof $r?function(a,o){return o instanceof $r&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&QE(f,o.filters[m]),!0):!1}(i,e):void ze()}function YE(i){return i instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(i):i instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(YE).join(" ,")+"}"}(i):"Filter"}class L2 extends $t{constructor(e,n,a){super(e,n,a),this.key=Ne.fromName(a.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class P2 extends $t{constructor(e,n){super(e,"in",n),this.keys=$E("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U2 extends $t{constructor(e,n){super(e,"not-in",n),this.keys=$E("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $E(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ne.fromName(a.referenceValue))}class k2 extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&Xl(n.arrayValue,this.value)}}class z2 extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class j2 extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class B2 extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Xl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function U_(i,e=null,n=[],a=[],o=null,u=null,f=null){return new H2(i,e,n,a,o,u,f)}function $m(i){const e=nt(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>sm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>bo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>bo(a)).join(",")),e.le=n}return e.le}function Xm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!x2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!QE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!P_(i.startAt,e.startAt)&&P_(i.endAt,e.endAt)}function om(i){return Ne.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function q2(i,e,n,a,o,u,f,m){return new _h(i,e,n,a,o,u,f,m)}function Zm(i){return new _h(i)}function k_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function F2(i){return i.collectionGroup!==null}function jl(i){const e=nt(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xt(Rn.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new th(u,a))}),n.has(Rn.keyField().canonicalString())||e.he.push(new th(Rn.keyField(),a))}return e.he}function Kr(i){const e=nt(i);return e.Pe||(e.Pe=G2(e,jl(i))),e.Pe}function G2(i,e){if(i.limitType==="F")return U_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new th(o.field,u)});const n=i.endAt?new eh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new eh(i.startAt.position,i.startAt.inclusive):null;return U_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function lm(i,e,n){return new _h(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Eh(i,e){return Xm(Kr(i),Kr(e))&&i.limitType===e.limitType}function XE(i){return`${$m(Kr(i))}|lt:${i.limitType}`}function uo(i){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>YE(o)).join(", ")}]`),yh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>bo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>bo(o)).join(",")),`Target(${a})`}(Kr(i))}; limitType=${i.limitType})`}function Th(i,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ne.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,e)&&function(a,o){for(const u of jl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(a,o){return!(a.startAt&&!function(f,m,g){const y=L_(f,m,g);return f.inclusive?y<=0:y<0}(a.startAt,jl(a),o)||a.endAt&&!function(f,m,g){const y=L_(f,m,g);return f.inclusive?y>=0:y>0}(a.endAt,jl(a),o))}(i,e)}function K2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZE(i){return(e,n)=>{let a=!1;for(const o of jl(i)){const u=Q2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function Q2(i,e,n){const a=i.field.isKeyField()?Ne.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?So(g,y):ze()}(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return w2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Ut(Ne.comparator);function Ca(){return Y2}const JE=new Ut(Ne.comparator);function Pl(...i){let e=JE;for(const n of i)e=e.insert(n.key,n);return e}function $2(i){let e=JE;return i.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function fs(){return Bl()}function WE(){return Bl()}function Bl(){return new Ss(i=>i.toString(),(i,e)=>i.isEqual(e))}const X2=new Xt(Ne.comparator);function rt(...i){let e=X2;for(const n of i)e=e.add(n);return e}const Z2=new Xt(tt);function J2(){return Z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nm(e)?"-0":e}}function eD(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function tD(i,e,n){return i instanceof um?function(o,u){const f={fields:{[BE]:{stringValue:jE},[qE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qm(u)&&(u=vh(u)),u&&(f.fields[HE]=u),{mapValue:f}}(n,e):i instanceof nh?eT(i,e):i instanceof rh?tT(i,e):function(o,u){const f=rD(o,u),m=z_(f)+z_(o.Ie);return am(f)&&am(o.Ie)?eD(m):W2(o.serializer,m)}(i,e)}function nD(i,e,n){return i instanceof nh?eT(i,e):i instanceof rh?tT(i,e):n}function rD(i,e){return i instanceof cm?function(a){return am(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class um extends Sh{}class nh extends Sh{constructor(e){super(),this.elements=e}}function eT(i,e){const n=nT(e);for(const a of i.elements)n.some(o=>Yr(o,a))||n.push(a);return{arrayValue:{values:n}}}class rh extends Sh{constructor(e){super(),this.elements=e}}function tT(i,e){let n=nT(e);for(const a of i.elements)n=n.filter(o=>!Yr(o,a));return{arrayValue:{values:n}}}class cm extends Sh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function z_(i){return Pt(i.integerValue||i.doubleValue)}function nT(i){return Ym(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function iD(i,e){return i.field.isEqual(e.field)&&function(a,o){return a instanceof nh&&o instanceof nh||a instanceof rh&&o instanceof rh?To(a.elements,o.elements,Yr):a instanceof cm&&o instanceof cm?Yr(a.Ie,o.Ie):a instanceof um&&o instanceof um}(i.transform,e.transform)}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Jm{}function rT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new sD(i.key,gs.none()):new Wm(i.key,i.data,gs.none());{const n=i.data,a=Hr.empty();let o=new Xt(Rn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new bh(i.key,a,new pa(o.toArray()),gs.none())}}function aD(i,e,n){i instanceof Wm?function(o,u,f){const m=o.value.clone(),g=B_(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof bh?function(o,u,f){if(!jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=B_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(iT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Hl(i,e,n,a){return i instanceof Wm?function(u,f,m,g){if(!jc(u.precondition,f))return m;const y=u.value.clone(),E=H_(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,a):i instanceof bh?function(u,f,m,g){if(!jc(u.precondition,f))return m;const y=H_(u.fieldTransforms,g,f),E=f.data;return E.setAll(iT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,a):function(u,f,m){return jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function j_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&To(a,o,(u,f)=>iD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Wm extends Jm{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bh extends Jm{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function iT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}}),e}function B_(i,e,n){const a=new Map;Rt(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,nD(f,m,n[o]))}return a}function H_(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,tD(u,f,e))}return a}class sD extends Jm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&aD(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Hl(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Hl(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=WE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=rT(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ue.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,a)=>j_(n,a))&&To(this.baseMutations,e.baseMutations,(n,a)=>j_(n,a))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,et;function aT(i){if(i===void 0)return Di("GRPC error has no .code"),ge.UNKNOWN;switch(i){case qt.OK:return ge.OK;case qt.CANCELLED:return ge.CANCELLED;case qt.UNKNOWN:return ge.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ge.INTERNAL;case qt.UNAVAILABLE:return ge.UNAVAILABLE;case qt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case qt.NOT_FOUND:return ge.NOT_FOUND;case qt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case qt.ABORTED:return ge.ABORTED;case qt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case qt.DATA_LOSS:return ge.DATA_LOSS;default:return ze()}}(et=qt||(qt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new Ta([4294967295,4294967295],0);function q_(i){const e=cD().encode(i),n=new OE;return n.update(e),new Uint8Array(n.digest())}function F_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ta([n,a],0),new Ta([o,u],0)]}class eg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ta.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(Ta.fromNumber(a)));return o.compare(hD)===1&&(o=new Ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=q_(e),[a,o]=F_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new eg(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=q_(e),[a,o]=F_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Ah(Ue.min(),o,new Ut(tt),Ca(),rt())}}class ou{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new ou(a,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class sT{constructor(e,n){this.targetId=e,this.ge=n}}class oT{constructor(e,n,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class G_{constructor(){this.pe=0,this.ye=K_(),this.we=dn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=rt(),n=rt(),a=rt();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:ze()}}),new ou(this.we,this.be,e,n,a)}Me(){this.Se=!1,this.ye=K_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Rt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class fD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ca(),this.$e=Ic(),this.Ke=Ic(),this.Ue=new Ut(tt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(om(u))if(a===0){const f=new Ne(u.path);this.ze(n,f,_n.newNoDocument(f,Ue.min()))}else Rt(a===1);else{const f=this.et(n);if(f!==a){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=wa(a).toUint8Array()}catch(g){if(g instanceof zE)return Eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new eg(f,o,u)}catch(g){return Eo(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&om(m.target)){const g=new Ne(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,_n.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=rt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Ah(e,n,this.Ue,this.Qe,a);return this.Qe=Ca(),this.$e=Ic(),this.Ke=Ic(),this.Ue=new Ut(tt),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new G_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Xt(tt),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xt(tt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new G_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ic(){return new Ut(Ne.comparator)}function K_(){return new Ut(Ne.comparator)}const dD={asc:"ASCENDING",desc:"DESCENDING"},mD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gD={and:"AND",or:"OR"};class pD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hm(i,e){return i.useProto3Json||yh(e)?e:{value:e}}function yD(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vD(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function po(i){return Rt(!!i),Ue.fromTimestamp(function(n){const a=Aa(n);return new Mn(a.seconds,a.nanos)}(i))}function _D(i,e){return fm(i,e).canonicalString()}function fm(i,e){const n=function(o){return new xt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function lT(i){const e=xt.fromString(i);return Rt(dT(e)),e}function jd(i,e){const n=lT(e);if(n.get(1)!==i.databaseId.projectId)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ne(cT(n))}function uT(i,e){return _D(i.databaseId,e)}function ED(i){const e=lT(i);return e.length===4?xt.emptyPath():cT(e)}function Q_(i){return new xt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cT(i){return Rt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function TD(i,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Rt(E===void 0||typeof E=="string"),dn.fromBase64String(E||"")):(Rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),dn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ge.UNKNOWN:aT(y.code);return new Oe(E,y.message||"")}(f);n=new oT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=jd(i,a.document.name),u=po(a.document.updateTime),f=a.document.createTime?po(a.document.createTime):Ue.min(),m=new Hr({mapValue:{fields:a.document.fields}}),g=_n.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new Bc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=jd(i,a.document),u=a.readTime?po(a.readTime):Ue.min(),f=_n.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Bc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=jd(i,a.document),u=a.removedTargetIds||[];n=new Bc([],u,o,null)}else{if(!("filter"in e))return ze();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new uD(o,u),m=a.targetId;n=new sT(m,f)}}return n}function SD(i,e){return{documents:[uT(i,e.path)]}}function bD(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=uT(i,o);const u=function(y){if(y.length!==0)return fT($r.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:co(C.field),direction:RD(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=hm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function AD(i){let e=ED(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Rt(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const C=hT(A);return C instanceof $r&&KE(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(C=>function(k){return new th(ho(k.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(A){let C;return C=typeof A=="object"?A.value:A,yh(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(A){const C=!!A.before,R=A.values||[];return new eh(R,C)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const C=!A.before,R=A.values||[];return new eh(R,C)}(n.endAt)),q2(e,o,f,u,m,"F",g,y)}function wD(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ho(n.unaryFilter.field);return $t.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(n.unaryFilter.field);return $t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ho(n.unaryFilter.field);return $t.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(i):i.fieldFilter!==void 0?function(n){return $t.create(ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(a=>hT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ze()}}(n.compositeFilter.op))}(i):ze()}function RD(i){return dD[i]}function CD(i){return mD[i]}function DD(i){return gD[i]}function co(i){return{fieldPath:i.canonicalString()}}function ho(i){return Rn.fromServerFormat(i.fieldPath)}function fT(i){return i instanceof $t?function(n){if(n.op==="=="){if(V_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:CD(n.op),value:n.value}}}(i):i instanceof $r?function(n){const a=n.getFilters().map(o=>fT(o));return a.length===1?a[0]:{compositeFilter:{op:DD(n.op),filters:a}}}(i):ze()}function dT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,a,o,u=Ue.min(),f=Ue.min(),m=dn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.Tt=e}}function OD(i){const e=AD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Tn=new MD}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ba.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class MD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Xt(xt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(mT,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ao(0)}static Un(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",xD=1048576;function X_([i,e],[n,a]){const o=tt(i,n);return o===0?tt(e,a):o}class VD{constructor(e){this.Hn=e,this.buffer=new Xt(X_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();X_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ee($_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?Ee($_,"Ignoring IndexedDB error during garbage collection: ",n):await gh(n)}await this.er(3e5)})}}class PD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(ph.ae);const a=new VD(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Y_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(a=A,m=Date.now(),this.removeTargets(e,a,n))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(y=Date.now(),lo()<=Ke.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function UD(i,e){return new PD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Hl(a.mutation,o,pa.empty(),Mn.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,rt()).next(()=>a))}getLocalViewOfDocuments(e,n,a=rt()){const o=fs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Pl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=fs();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,rt()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=Ca();const f=Bl(),m=function(){return Bl()}();return n.forEach((g,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof bh)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Hl(E.mutation,y,E.mutation.getFieldMask(),Mn.now())):f.set(y.key,pa.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var A;return m.set(y,new zD(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Bl();let o=new Ut((f,m)=>f-m),u=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=a.get(g)||pa.empty();E=m.applyToLocalView(y,E),a.set(g,E);const A=(o.get(m.batchId)||rt()).add(g);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=WE();E.forEach(C=>{if(!u.has(C)){const R=rT(n.get(C),a.get(C));R!==null&&A.set(C,R),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ne.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Ne.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ne.resolve(fs());let m=Ql,g=u;return f.next(y=>ne.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{g=g.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,rt())).next(E=>({batchId:m,changes:$2(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(a=>{let o=Pl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,g=>{const y=function(A,C){return new _h(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(E=>{E.forEach((A,C)=>{f=f.insert(A,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,_n.newInvalidDocument(E)))});let m=Pl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Hl(E.mutation,y,pa.empty(),Mn.now()),Th(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:po(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:OD(o.bundledQuery),readTime:po(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.overlays=new Ut(Ne.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=fs();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const o=fs(),u=n.length+1,f=new Ne(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Ut((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=fs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=fs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ne.resolve(m)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new lD(n,a));let u=this.Rr.get(n);u===void 0&&(u=rt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Vr=new Xt(rn.mr),this.gr=new Xt(rn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new rn(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new rn(e,n))}br(e,n){e.forEach(a=>this.removeReference(a,n))}Sr(e){const n=new Ne(new xt([])),a=new rn(n,e),o=new rn(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ne(new xt([])),a=new rn(n,e),o=new rn(n,e+1);let u=rt();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new rn(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ne.comparator(e.key,n.key)||tt(e.Cr,n.Cr)}static pr(e,n){return tt(e.Cr,n.Cr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(rn.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new oD(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?S2:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(tt);return n.forEach(o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),ne.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ne.isDocumentKey(u)||(u=u.child(""));const f=new rn(new Ne(u),0);let m=new Xt(tt);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),ne.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Rt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ne.forEach(n.mutations,o=>{const u=new rn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new rn(n,0),o=this.Mr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.kr=e,this.docs=function(){return new Ut(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let a=Ca();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Ca();const f=n.path,m=new Ne(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||v2(y2(E),a)<=0||(o.has(E.key)||Th(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,a,o){ze()}qr(e,n){return ne.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new KD(this)}getSize(e){return ne.resolve(this.size)}}class KD extends kD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.persistence=e,this.Qr=new Ss(n=>$m(n),Xm),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.$r=0,this.Kr=new tg,this.targetCount=0,this.Ur=Ao.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.Kr.br(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ph(0),this.zr=!1,this.zr=!0,this.jr=new qD,this.referenceDelegate=e(this),this.Hr=new QD(this),this.indexManager=new ND,this.remoteDocumentCache=function(o){return new GD(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new ID(n),this.Yr=new BD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new FD(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){Ee("MemoryPersistence","Starting transaction:",e);const o=new YD(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ne.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class YD extends E2{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.ti=new tg,this.ni=null}static ri(e){return new ng(e)}get ii(){if(this.ni)return this.ni;throw ze()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,a=>{const o=Ne.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ue.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.oi=new Ss(a=>b2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=UD(this,n)}static ri(e,n){return new ih(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Ue.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zc(e.data.value)),n}ar(e,n,a){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=rt(),o=rt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Fw()?8:T2(En())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new $D;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(lo()<=Ke.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(lo()<=Ke.DEBUG&&Ee("QueryEngine","Query:",uo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(lo()<=Ke.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):ne.resolve())}rs(e,n){if(k_(n))return ne.resolve(null);let a=Kr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lm(n,null,"F"),a=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=rt(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(e,lm(n,null,"F")):this.hs(e,y,n,g)}))})))}ss(e,n,a,o){return k_(n)||o.isEqual(Ue.min())?ne.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?ne.resolve(null):(lo()<=Ke.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.hs(e,f,n,p2(o,Ql)).next(m=>m))})}cs(e,n){let a=new Xt(ZE(e));return n.forEach((o,u)=>{Th(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return lo()<=Ke.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",uo(n)),this.ns.getDocumentsMatchingQuery(e,n,ba.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",ZD=3e8;class JD{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new Ut(tt),this.Is=new Ss(u=>$m(u),Xm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function WD(i,e,n,a){return new JD(i,e,n,a)}async function pT(i,e){const n=nt(i);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=rt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function yT(i){const e=nt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function eI(i,e){const n=nt(i),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,A)=>{const C=o.get(A);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let R=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?R=R.withResumeToken(dn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):E.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(E.resumeToken,a)),o=o.insert(A,R),function(X,q,$){return X.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=ZD?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(C,R,E)&&m.push(n.Hr.updateTargetData(u,R))});let g=Ca(),y=rt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(tI(u,f,e.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!a.isEqual(Ue.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return ne.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function tI(i,e,n){let a=rt(),o=rt();return n.forEach(u=>a=a.add(u)),e.getEntries(i,a).next(u=>{let f=Ca();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ue.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):Ee(ig,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function nI(i,e){const n=nt(i);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,ne.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new ya(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function dm(i,e,n){const a=nt(i),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!No(f))throw f;Ee(ig,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function Z_(i,e,n){const a=nt(i);let o=Ue.min(),u=rt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const A=nt(g),C=A.Is.get(E);return C!==void 0?ne.resolve(A.Ts.get(C)):A.Hr.getTargetData(y,E)}(a,f,Kr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:Ue.min(),n?u:rt())).next(m=>(rI(a,K2(e),m),{documents:m,gs:u})))}function rI(i,e,n){let a=i.Es.get(e)||Ue.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(e,a)}class J_{constructor(){this.activeTargetIds=J2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iI{constructor(){this.ho=new J_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new J_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="ConnectivityMonitor";class e0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ee(W_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ee(W_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function mm(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",sI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(e,n,a,o,u){const f=mm(),m=this.So(e,n.toUriEncodedString());Ee(Bd,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,a).then(y=>(Ee(Bd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Eo(Bd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Co(e,n,a,o,u,f){return this.bo(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}So(e,n){const a=sI[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class uI extends oI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=mm();return new Promise((f,m)=>{const g=new NE;g.setWithCredentials(!0),g.listenOnce(ME.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case kc.NO_ERROR:const E=g.getResponseJson();Ee(yn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case kc.TIMEOUT:Ee(yn,`RPC '${e}' ${u} timed out`),m(new Oe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const A=g.getStatus();if(Ee(yn,`RPC '${e}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C==null?void 0:C.error;if(R&&R.status&&R.message){const k=function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf($)>=0?$:ge.UNKNOWN}(R.status);m(new Oe(k,R.message))}else m(new Oe(ge.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Oe(ge.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Ee(yn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);Ee(yn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",y,a,15)})}Wo(e,n,a){const o=mm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=LE(),m=VE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");Ee(yn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);let C=!1,R=!1;const k=new lI({Fo:q=>{R?Ee(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(C||(Ee(yn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),C=!0),Ee(yn,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Mo:()=>A.close()}),X=(q,$,ee)=>{q.listen($,oe=>{try{ee(oe)}catch(ye){setTimeout(()=>{throw ye},0)}})};return X(A,Ll.EventType.OPEN,()=>{R||(Ee(yn,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),X(A,Ll.EventType.CLOSE,()=>{R||(R=!0,Ee(yn,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),X(A,Ll.EventType.ERROR,q=>{R||(R=!0,Eo(yn,`RPC '${e}' stream ${o} transport errored:`,q),k.Ko(new Oe(ge.UNAVAILABLE,"The operation could not be completed")))}),X(A,Ll.EventType.MESSAGE,q=>{var $;if(!R){const ee=q.data[0];Rt(!!ee);const oe=ee,ye=(oe==null?void 0:oe.error)||(($=oe[0])===null||$===void 0?void 0:$.error);if(ye){Ee(yn,`RPC '${e}' stream ${o} received error:`,ye);const ue=ye.status;let U=function(b){const I=qt[b];if(I!==void 0)return aT(I)}(ue),N=ye.message;U===void 0&&(U=ge.INTERNAL,N="Unknown error status: "+ue+" with message "+ye.message),R=!0,k.Ko(new Oe(U,N)),A.close()}else Ee(yn,`RPC '${e}' stream ${o} received:`,ee),k.Uo(ee)}}),X(m,xE.STAT_EVENT,q=>{q.stat===tm.PROXY?Ee(yn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===tm.NOPROXY&&Ee(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(i){return new pD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="PersistentStream";class cI{constructor(e,n,a,o,u,f,m,g){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _T(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new Oe(ge.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ee(t0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ee(t0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hI extends cI{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=TD(this.serializer,e),a=function(u){if(!("targetChange"in u))return Ue.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ue.min():f.readTime?po(f.readTime):Ue.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Q_(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=om(g)?{documents:SD(u,g)}:{query:bD(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=vD(u,f.resumeToken);const y=hm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ue.min())>0){m.readTime=yD(u,f.snapshotVersion.toTimestamp());const y=hm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=wD(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Q_(this.serializer),n.removeTarget=e,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{}class dI extends fI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,fm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(ge.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,fm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Oe(ge.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Di(n),this.N_=!1):Ee("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class gI{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{uu(this)&&(Ee(wo,"Restarting streams for network reachability change."),await async function(g){const y=nt(g);y.W_.add(4),await lu(y),y.j_.set("Unknown"),y.W_.delete(4),await wh(y)}(this))})}),this.j_=new mI(a,o)}}async function wh(i){if(uu(i))for(const e of i.G_)await e(!0)}async function lu(i){for(const e of i.G_)await e(!1)}function ET(i,e){const n=nt(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),lg(n)?og(n):Mo(n).c_()&&sg(n,e))}function ag(i,e){const n=nt(i),a=Mo(n);n.U_.delete(e),a.c_()&&TT(n,e),n.U_.size===0&&(a.c_()?a.P_():uu(n)&&n.j_.set("Unknown"))}function sg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(i).y_(e)}function TT(i,e){i.H_.Ne(e),Mo(i).w_(e)}function og(i){i.H_=new fD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Mo(i).start(),i.j_.B_()}function lg(i){return uu(i)&&!Mo(i).u_()&&i.U_.size>0}function uu(i){return nt(i).W_.size===0}function ST(i){i.H_=void 0}async function pI(i){i.j_.set("Online")}async function yI(i){i.U_.forEach((e,n)=>{sg(i,e)})}async function vI(i,e){ST(i),lg(i)?(i.j_.q_(e),og(i)):i.j_.set("Unknown")}async function _I(i,e,n){if(i.j_.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(a){Ee(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await n0(i,a)}else if(e instanceof Bc?i.H_.We(e):e instanceof sT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ue.min()))try{const a=await yT(i.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(dn.EMPTY_BYTE_STRING,E.snapshotVersion)),TT(u,g);const A=new ya(E.target,g,y,E.sequenceNumber);sg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(a){Ee(wo,"Failed to raise snapshot:",a),await n0(i,a)}}async function n0(i,e,n){if(!No(e))throw e;i.W_.add(1),await lu(i),i.j_.set("Offline"),n||(n=()=>yT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Ee(wo,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await wh(i)})}async function r0(i,e){const n=nt(i);n.asyncQueue.verifyOperationInProgress(),Ee(wo,"RemoteStore received new credentials");const a=uu(n);n.W_.add(3),await lu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await wh(n)}async function EI(i,e){const n=nt(i);e?(n.W_.delete(2),await wh(n)):e||(n.W_.add(2),await lu(n),n.j_.set("Unknown"))}function Mo(i){return i.J_||(i.J_=function(n,a,o){const u=nt(n);return u.M_(),new hI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:pI.bind(null,i),No:yI.bind(null,i),Lo:vI.bind(null,i),p_:_I.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),lg(i)?og(i):i.j_.set("Unknown")):(await i.J_.stop(),ST(i))})),i.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new ug(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bT(i,e){if(Di("AsyncQueue",`${e}: ${i}`),No(i))return new Oe(ge.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ne.comparator(n.key,a.key):(n,a)=>Ne.comparator(n.key,a.key),this.keyedMap=Pl(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new yo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.Z_=new Ut(Ne.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ze():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class Ro{constructor(e,n,a,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ro(e,n,yo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class SI{constructor(){this.queries=a0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=nt(n),u=o.queries;o.queries=a0(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(a)})})(this,new Oe(ge.ABORTED,"Firestore shutting down"))}}function a0(){return new Ss(i=>XE(i),Eh)}async function bI(i,e){const n=nt(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new TI,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=bT(f,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&cg(n)}async function AI(i,e){const n=nt(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function wI(i,e){const n=nt(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&cg(n)}function RI(i,e,n){const a=nt(i),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function cg(i){i.ia.forEach(e=>{e.next()})}var gm,s0;(s0=gm||(gm={}))._a="default",s0.Cache="cache";class CI{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ro(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.key=e}}class wT{constructor(e){this.key=e}}class DI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=rt(),this.mutatedKeys=rt(),this.ya=ZE(e),this.wa=new yo(this.ya)}get ba(){return this.fa}Sa(e,n){const a=n?n.Da:new i0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const C=o.get(E),R=Th(this.query,A)?A:null,k=!!C&&this.mutatedKeys.has(C.key),X=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let q=!1;C&&R?C.data.isEqual(R.data)?k!==X&&(a.track({type:3,doc:R}),q=!0):this.va(C,R)||(a.track({type:2,doc:R}),q=!0,(g&&this.ya(R,g)>0||y&&this.ya(R,y)<0)&&(m=!0)):!C&&R?(a.track({type:0,doc:R}),q=!0):C&&!R&&(a.track({type:1,doc:C}),q=!0,(g||y)&&(m=!0)),q&&(R?(f=f.add(R),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,A)=>function(R,k){const X=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return X(R)-X(k)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Ro(this.query,e.wa,u,f,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new i0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=rt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new wT(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new AT(a))}),n}Oa(e){this.fa=e.gs,this.pa=rt();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hg="SyncEngine";class II{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class OI{constructor(e){this.key=e,this.Ba=!1}}class NI{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ss(m=>XE(m),Eh),this.qa=new Map,this.Qa=new Set,this.$a=new Ut(Ne.comparator),this.Ka=new Map,this.Ua=new tg,this.Wa={},this.Ga=new Map,this.za=Ao.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MI(i,e,n=!0){const a=OT(i);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await RT(a,e,n,!0),o}async function xI(i,e){const n=OT(i);await RT(n,e,!0,!1)}async function RT(i,e,n,a){const o=await nI(i.localStore,Kr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await VI(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&ET(i.remoteStore,o),m}async function VI(i,e,n,a,o){i.Ha=(A,C,R)=>async function(X,q,$,ee){let oe=q.view.Sa($);oe.ls&&(oe=await Z_(X.localStore,q.query,!1).then(({documents:N})=>q.view.Sa(N,oe)));const ye=ee&&ee.targetChanges.get(q.targetId),ue=ee&&ee.targetMismatches.get(q.targetId)!=null,U=q.view.applyChanges(oe,X.isPrimaryClient,ye,ue);return l0(X,q.targetId,U.Ma),U.snapshot}(i,A,C,R);const u=await Z_(i.localStore,e,!0),f=new DI(e,u.gs),m=f.Sa(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);l0(i,n,y.Ma);const E=new II(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),y.snapshot}async function LI(i,e,n){const a=nt(i),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!Eh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await dm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&ag(a.remoteStore,o.targetId),pm(a,o.targetId)}).catch(gh)):(pm(a,o.targetId),await dm(a.localStore,o.targetId,!0))}async function PI(i,e){const n=nt(i),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),ag(n.remoteStore,a.targetId))}async function CT(i,e){const n=nt(i);try{const a=await eI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Rt(f.Ba):o.removedDocuments.size>0&&(Rt(f.Ba),f.Ba=!1))}),await IT(n,a,e)}catch(a){await gh(a)}}function o0(i,e,n){const a=nt(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=nt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,A)=>{for(const C of A.ta)C.sa(m)&&(y=!0)}),y&&cg(g)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function UI(i,e,n){const a=nt(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ka.get(e),u=o&&o.key;if(u){let f=new Ut(Ne.comparator);f=f.insert(u,_n.newNoDocument(u,Ue.min()));const m=rt().add(u),g=new Ah(Ue.min(),new Map,new Ut(tt),f,m);await CT(a,g),a.$a=a.$a.remove(u),a.Ka.delete(e),fg(a)}else await dm(a.localStore,e,!1).then(()=>pm(a,e,n)).catch(gh)}function pm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.qa.get(e))i.ka.delete(a),n&&i.La.Ja(a,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(a=>{i.Ua.containsKey(a)||DT(i,a)})}function DT(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(ag(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),fg(i))}function l0(i,e,n){for(const a of n)a instanceof AT?(i.Ua.addReference(a.key,e),kI(i,a)):a instanceof wT?(Ee(hg,"Document no longer in limbo: "+a.key),i.Ua.removeReference(a.key,e),i.Ua.containsKey(a.key)||DT(i,a.key)):ze()}function kI(i,e){const n=e.key,a=n.path.canonicalString();i.$a.get(n)||i.Qa.has(a)||(Ee(hg,"New document in limbo: "+n),i.Qa.add(a),fg(i))}function fg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Ne(xt.fromString(e)),a=i.za.next();i.Ka.set(a,new OI(n)),i.$a=i.$a.insert(n,a),ET(i.remoteStore,new ya(Kr(Zm(n.path)),a,"TargetPurposeLimboResolution",ph.ae))}}async function IT(i,e,n){const a=nt(i),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,g)=>{f.push(a.Ha(g,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const A=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){o.push(y);const A=rg.Yi(g.targetId,y);u.push(A)}}))}),await Promise.all(f),a.La.p_(o),await async function(g,y){const E=nt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ne.forEach(y,C=>ne.forEach(C.Hi,R=>E.persistence.referenceDelegate.addReference(A,C.targetId,R)).next(()=>ne.forEach(C.Ji,R=>E.persistence.referenceDelegate.removeReference(A,C.targetId,R)))))}catch(A){if(!No(A))throw A;Ee(ig,"Failed to update sequence numbers: "+A)}for(const A of y){const C=A.targetId;if(!A.fromCache){const R=E.Ts.get(C),k=R.snapshotVersion,X=R.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(C,X)}}}(a.localStore,u))}async function zI(i,e){const n=nt(i);if(!n.currentUser.isEqual(e)){Ee(hg,"User change. New user:",e.toKey());const a=await pT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new Oe(ge.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await IT(n,a.Rs)}}function jI(i,e){const n=nt(i),a=n.Ka.get(e);if(a&&a.Ba)return rt().add(a.key);{let o=rt();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function OT(i){const e=nt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UI.bind(null,e),e.La.p_=wI.bind(null,e.eventManager),e.La.Ja=RI.bind(null,e.eventManager),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vT(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return WD(this.persistence,new XD,e.initialUser,this.serializer)}Xa(e){return new gT(ng.ri,this.serializer)}Za(e){return new iI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class BI extends ah{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Rt(this.persistence.referenceDelegate instanceof ih);const a=this.persistence.referenceDelegate.garbageCollector;return new LD(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new gT(a=>ih.ri(a,n),this.serializer)}}class ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>o0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zI.bind(null,this.syncEngine),await EI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SI}()}createDatastore(e){const n=vT(e.databaseInfo.databaseId),a=function(u){return new uI(u)}(e.databaseInfo);return function(u,f,m,g){return new dI(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new gI(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return e0.D()?new e0:new aI}())}createSyncEngine(e,n){return function(o,u,f,m,g,y,E){const A=new NI(o,u,f,m,g,y);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=nt(o);Ee(wo,"RemoteStore shutting down."),u.W_.add(5),await lu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class qI{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=UE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{Ee(Da,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(Ee(Da,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=bT(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function qd(i,e){i.asyncQueue.verifyOperationInProgress(),Ee(Da,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener(async o=>{a.isEqual(o)||(await pT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function u0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await FI(i);Ee(Da,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(a=>r0(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,o)=>r0(e.remoteStore,o)),i._onlineComponents=e}async function FI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ee(Da,"Using user provided OfflineComponentProvider");try{await qd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ge.FAILED_PRECONDITION||o.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await qd(i,new ah)}}else Ee(Da,"Using default OfflineComponentProvider"),await qd(i,new BI(void 0));return i._offlineComponents}async function GI(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ee(Da,"Using user provided OnlineComponentProvider"),await u0(i,i._uninitializedComponentsProvider._online)):(Ee(Da,"Using default OnlineComponentProvider"),await u0(i,new ym))),i._onlineComponents}async function KI(i){const e=await GI(i),n=e.eventManager;return n.onListen=MI.bind(null,e.syncEngine),n.onUnlisten=LI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PI.bind(null,e.syncEngine),n}function QI(i,e,n={}){const a=new ms;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new HI({next:C=>{E.su(),f.enqueueAndForget(()=>AI(u,A));const R=C.docs.has(m);!R&&C.fromCache?y.reject(new Oe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&C.fromCache&&g&&g.source==="server"?y.reject(new Oe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),A=new CI(Zm(m.path),E,{includeMetadataChanges:!0,Ta:!0});return bI(u,A)}(await KI(i),i.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i,e,n){if(!n)throw new Oe(ge.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $I(i,e,n,a){if(e===!0&&a===!0)throw new Oe(ge.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function h0(i){if(!Ne.isDocumentKey(i))throw new Oe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function XI(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ze()}function vm(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Oe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=XI(i);throw new Oe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firestore.googleapis.com",f0=!0;class d0{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=f0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:f0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xD)throw new Oe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new l2;switch(a.type){case"firstParty":return new f2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Oe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=c0.get(n);a&&(Ee("ComponentProvider","Removing Datastore"),c0.delete(n),a.terminate())}(this),Promise.resolve()}}function ZI(i,e,n,a={}){var o;const u=(i=vm(i,dg))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==MT&&u.host!==m&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!ps(g,f)&&(i._setSettings(g),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=vn.MOCK_USER;else{y=Uw(a.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new Oe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new vn(A)}i._authCredentials=new u2(new PE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new mg(this.firestore,e,this._query)}}class wi{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wi(this.firestore,e,this._key)}}class Zl extends mg{constructor(e,n,a){super(e,n,Zm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wi(this.firestore,null,new Ne(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function m0(i,e,...n){if(i=Oi(i),arguments.length===1&&(e=UE.newId()),YI("doc","path",e),i instanceof dg){const a=xt.fromString(e,...n);return h0(a),new wi(i,null,new Ne(a))}{if(!(i instanceof wi||i instanceof Zl))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(xt.fromString(e,...n));return h0(a),new wi(i.firestore,i instanceof Zl?i.converter:null,new Ne(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _T(this,"async_queue_retry"),this.bu=()=>{const a=Hd();a&&Ee(g0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const n=Hd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ms;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!No(e))throw e;Ee(g0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw Di("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=ug.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&ze()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class xT extends dg{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new p0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function JI(i,e){const n=typeof i=="object"?i:X0(),a=typeof i=="string"?i:Wc,o=Vm(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Lw("firestore");u&&ZI(o,...u)}return o}function WI(i){if(i._terminated)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||eO(i),i._firestoreClient}function eO(i){var e,n,a;const o=i._freezeSettings(),u=function(m,g,y,E){return new C2(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,NT(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new qI(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sh(dn.fromBase64String(e))}catch(n){throw new Oe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sh(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}const rO=new RegExp("[~\\*/\\[\\]]");function iO(i,e,n){if(e.search(rO)>=0)throw y0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new VT(...e.split("."))._internalPath}catch{throw y0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function y0(i,e,n,a,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new Oe(ge.INVALID_ARGUMENT,u+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aO extends LT{data(){return super.data()}}function PT(i,e){return typeof e=="string"?iO(i,e):e instanceof VT?e._internalPath:e._delegate._internalPath}class sO{convertValue(e,n="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return su(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[rm].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>Pt(f.doubleValue));return new nO(u)}convertGeoPoint(e){return new tO(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new Mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=xt.fromString(e);Rt(dT(a));const o=new $l(a.get(1),a.get(3)),u=new Ne(a.popFirst(5));return o.isEqual(n)||Di(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UT extends LT{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(PT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class lO extends UT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(i){i=vm(i,wi);const e=vm(i.firestore,xT);return QI(WI(e),i._key).then(n=>cO(e,i,n))}class uO extends sO{constructor(e){super(),this.firestore=e}convertBytes(e){return new sh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wi(this.firestore,null,n)}}function cO(i,e,n){const a=n.docs.get(e._key),o=new uO(i);return new UT(i,o,e._key,a,new oO(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Oo=o})(Do),vo(new ys("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new xT(new c2(a.getProvider("auth-internal")),new d2(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Oe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ea(S_,b_,e),Ea(S_,b_,"esm2017")})();var hO="firebase",fO="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ea(hO,fO,"app");const dO={apiKey:"AIzaSyAFBwhg-M1zNULUAXkZvWvQ5FQaZeYhOUg",authDomain:"boardgamecafe-dac23.firebaseapp.com",databaseURL:"https://boardgamecafe-dac23-default-rtdb.europe-west1.firebasedatabase.app",projectId:"boardgamecafe-dac23",storageBucket:"boardgamecafe-dac23.firebasestorage.app",messagingSenderId:"316696834650",appId:"1:316696834650:web:55c1c648df04acb9975e63"},kT=$0(dO),_m=s2(kT),_0=JI(kT),mO=new Ti;function gO(){const i=Co();async function e(){$1(_m).then(()=>{i("/googlelogin/")}).catch(n=>{alert("Error signing out: ",n)})}return W.jsx("p",{children:W.jsx("button",{className:"login-button",type:"button",onClick:e,children:"Logout"})})}function pO(){const i=Co(),e=async()=>{gC(_m,mO).then(n=>{console.log(n.user.displayName),console.log(n.user.email);const a=n.user;(async()=>{(await v0(m0(_0,"admins",a.uid))).exists()?(console.log("User is an admin"),i("/spilcafeen/home")):alert("You are not an admin!")})()}).catch(n=>{alert("You have not signed in: "+n)})};return K.useEffect(()=>{const n=async a=>{if(a){const o=a.uid;(await v0(m0(_0,"admins",o))).exists()?(console.log("User is an admin"),i("/spilcafeen/home")):alert("You are not an admin!")}};Y1(_m,a=>{n(a)})},[i]),W.jsxs("div",{className:"container",children:[W.jsx("h1",{children:"Admin Login"}),W.jsx("button",{type:"button",className:"login-button",onClick:e,children:"Login with Google"}),W.jsx(gO,{})," "]})}const Em="/spilcafeen/assets/img-placeholder-ipViEH7R.jpg";var zT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},E0=qr.createContext&&qr.createContext(zT),yO=["attr","size","title"];function vO(i,e){if(i==null)return{};var n=_O(i,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(n[a]=i[a])}return n}function _O(i,e){if(i==null)return{};var n={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;n[a]=i[a]}return n}function oh(){return oh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},oh.apply(this,arguments)}function T0(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function lh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T0(Object(n),!0).forEach(function(a){EO(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}function EO(i,e,n){return e=TO(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function TO(i){var e=SO(i,"string");return typeof e=="symbol"?e:e+""}function SO(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function jT(i){return i&&i.map((e,n)=>qr.createElement(e.tag,lh({key:n},e.attr),jT(e.child)))}function gg(i){return e=>qr.createElement(bO,oh({attr:lh({},i.attr)},e),jT(i.child))}function bO(i){var e=n=>{var{attr:a,size:o,title:u}=i,f=vO(i,yO),m=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),qr.createElement("svg",oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:g,style:lh(lh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&qr.createElement("title",null,u),i.children)};return E0!==void 0?qr.createElement(E0.Consumer,null,n=>e(n)):e(zT)}function AO(i){return gg({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M120 72c0-39.765 32.235-72 72-72s72 32.235 72 72c0 39.764-32.235 72-72 72s-72-32.236-72-72zm254.627 1.373c-12.496-12.497-32.758-12.497-45.254 0L242.745 160H141.254L54.627 73.373c-12.496-12.497-32.758-12.497-45.254 0-12.497 12.497-12.497 32.758 0 45.255L104 213.254V480c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V368h16v112c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V213.254l94.627-94.627c12.497-12.497 12.497-32.757 0-45.254z"},child:[]}]})(i)}function wO(i){return gg({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(i)}function RO(i){return gg({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(i)}function CO({post:i}){const e=Co();function n(){e(`posts/${i.id}`)}return W.jsxs("article",{className:"post-card",onClick:n,children:[i.image.includes("undefined")?W.jsx("img",{className:"post-card-image",src:Em,alt:"Placeholder image"}):W.jsx("img",{className:"post-card-image",src:i.image,alt:i.title}),W.jsx("p",{className:"post-card-category",children:i.genre}),W.jsxs("div",{className:"post-card-details",children:[W.jsxs("div",{className:"post-card-stats",children:[W.jsxs("div",{className:"post-card-stat",children:[W.jsx(RO,{className:"post-card-icon"}),W.jsxs("span",{children:[i.minPlayers," - ",i.maxPlayers," Players"]})]}),W.jsxs("div",{className:"post-card-stat",children:[W.jsx(wO,{className:"post-card-icon"}),W.jsxs("span",{children:[i.duration," min"]})]}),W.jsxs("div",{className:"post-card-stat",children:[W.jsx(AO,{className:"post-card-icon"}),W.jsxs("span",{children:[i.age," +"]})]})]}),W.jsx("h2",{className:"post-card-title",children:i.title}),W.jsx("p",{className:"post-card-description",children:i.description}),W.jsxs("p",{className:"post-card-complexity",children:[W.jsx("strong",{children:"Complexity Level:"})," ",i.complexity]}),W.jsxs("div",{className:"post-card-placement",children:[W.jsx("strong",{children:"Placement in: "}),W.jsxs("span",{children:[i.placementVestergade&&`Vestergade: ${i.placementVestergade}`,i.placementFredensgade&&i.placementVestergade&&` | Fredensgade: ${i.placementFredensgade}`,i.placementAalborg&&(i.placementVestergade||i.placementFredensgade)&&` | Aalborg: ${i.placementAalborg}`,i.placementKolding&&(i.placementVestergade||i.placementFredensgade||i.placementAalborg)&&` | Kolding: ${i.placementKolding}`]})]})]})]})}function DO(){const[i,e]=K.useState([]),[n,a]=K.useState(""),[o,u]=K.useState(""),[f,m]=K.useState(2),[g,y]=K.useState(120);K.useEffect(()=>{async function R(){const q=await(await fetch("https://boardgamecafe-dac23-default-rtdb.europe-west1.firebasedatabase.app/posts.json")).json();if(q){const $=Object.keys(q).map(ee=>({id:ee,...q[ee]}));e($)}}R()},[]);const E=[...new Set(i.map(R=>R.genre))],A=i.filter(R=>{const k=R.title.toLowerCase().includes(n.toLowerCase()),X=o===""||R.genre===o,q=f===""||R.minPlayers<=f&&R.maxPlayers>=f,$=R.duration<=g;return k&&X&&q&&$}),C=R=>{y(Number(R.target.value))};return W.jsxs("section",{className:"main-content",children:[W.jsxs("section",{className:"search-and-filter",children:[W.jsxs("div",{className:"search-container",children:[W.jsx("input",{type:"text",placeholder:"Search for a game...",value:n,onChange:R=>a(R.target.value),className:"search-bar"}),W.jsx("span",{className:"search-icon",children:"🔍"})]}),W.jsxs("div",{className:"filters",children:[W.jsx("strong",{children:"Filter by"}),W.jsxs("div",{className:"filter-group",children:[W.jsx("label",{children:"Category:"}),W.jsxs("select",{value:o,onChange:R=>u(R.target.value),className:"filter",children:[W.jsx("option",{value:"",children:"All Categories"}),E.map(R=>W.jsx("option",{value:R,children:R},R))]})]}),W.jsxs("div",{className:"filter-group",children:[W.jsx("label",{children:"Players:"}),W.jsxs("div",{className:"player-filter",children:[W.jsx("button",{className:"counter-btn",onClick:()=>m(R=>Math.max(1,R-1)),children:"-"}),W.jsx("input",{type:"number",className:"player-input",value:f,min:"1",onChange:R=>m(Number(R.target.value))}),W.jsx("button",{className:"counter-btn",onClick:()=>m(R=>R+1),children:"+"})]})]}),W.jsxs("div",{className:"filter-group",children:[W.jsx("label",{children:"Max Duration:"}),W.jsxs("div",{className:"range-slider",children:[W.jsx("input",{type:"range",min:"0",max:"120",value:g,onChange:C,className:"range-input"}),W.jsx("input",{type:"number",value:g,min:"0",max:"120",onChange:R=>y(Number(R.target.value)),className:"duration-input"})]})]})]})]}),W.jsx("section",{className:"page",children:A.length>0?W.jsx("section",{className:"grid-container",children:A.map(R=>W.jsx(CO,{post:R},R.id))}):W.jsx("p",{className:"no-results-message",children:"No matching results"})})]})}function BT({savePost:i,post:e}){const[n,a]=K.useState(""),[o,u]=K.useState(""),[f,m]=K.useState(""),[g,y]=K.useState(""),[E,A]=K.useState(""),[C,R]=K.useState(""),[k,X]=K.useState(""),[q,$]=K.useState(""),[ee,oe]=K.useState(""),[ye,ue]=K.useState(""),[U,N]=K.useState(""),[w,b]=K.useState(""),[I,V]=K.useState(""),[z,O]=K.useState(""),[ht,pt]=K.useState("");K.useEffect(()=>{e&&(a(e.gameId),u(e.title),m(e.description),y(e.image),A(e.minPlayers),R(e.maxPlayers),X(e.duration),$(e.age),oe(e.complexity),ue(e.genre),N(e.placementVestergade),b(e.placementFredensgade),V(e.placementAalborg),O(e.placementKolding))},[e]);function se(le){le.preventDefault();const pe={gameId:n,title:o,image:g,description:f,minPlayers:E,maxPlayers:C,duration:k,age:q,complexity:ee,genre:ye,placementVestergade:U,placementFredensgade:w,placementAalborg:I,placementKolding:z};pe.gameId&&pe.title&&pe.description&&pe.image&&pe.minPlayers&&pe.maxPlayers&&pe.duration&&pe.age&&pe.complexity&&pe.genre?i(pe):pt("Please, fill in all fields.")}return W.jsxs("form",{onSubmit:se,children:[W.jsxs("label",{children:["Game ID",W.jsx("input",{className:"form-input",type:"number",value:n,placeholder:"Set a unique Game ID",onChange:le=>a(le.target.value)})]}),W.jsxs("label",{children:["Title",W.jsx("input",{className:"form-input",type:"text",value:o,placeholder:"Type a title",onChange:le=>u(le.target.value)})]}),W.jsxs("label",{children:["Description",W.jsx("input",{className:"form-input",type:"text",value:f,placeholder:"Type a body text",onChange:le=>m(le.target.value)})]}),W.jsxs("label",{children:["Image URL",W.jsx("input",{className:"form-input",type:"text",value:g,placeholder:"https://exampleforimage.jpg",onChange:le=>y(le.target.value)}),W.jsx("img",{className:"image-preview",src:g||Em,alt:"Preview",onError:le=>{le.target.onerror=null,le.target.src=Em}})]}),W.jsxs("label",{children:["Recommended Age",W.jsx("input",{className:"form-input",type:"number",value:q,placeholder:"Set the recommended age",onChange:le=>$(le.target.value)})]}),W.jsxs("label",{children:["Min. Players",W.jsx("input",{className:"form-input",type:"number",value:E,placeholder:"Type the minimum of players",onChange:le=>A(le.target.value)})]}),W.jsxs("label",{children:["Max. Players",W.jsx("input",{className:"form-input",type:"number",value:C,placeholder:"Type the maximum of players",onChange:le=>R(le.target.value)})]}),W.jsxs("label",{children:["Average Duration (in min)",W.jsx("input",{className:"form-input",type:"text",value:k,placeholder:"Type the duration of the game",onChange:le=>X(le.target.value)})]}),W.jsxs("div",{className:"difficulty-selector",children:[W.jsx("label",{children:"Difficulty Level (out of 5)"}),W.jsxs("select",{id:"difficulty-level",value:ee,onChange:le=>oe(le.target.value),children:[W.jsx("option",{value:"",children:"Select difficulty"}),W.jsx("option",{value:"1",children:"1"}),W.jsx("option",{value:"2",children:"2"}),W.jsx("option",{value:"3",children:"3"}),W.jsx("option",{value:"4",children:"4"}),W.jsx("option",{value:"5",children:"5"})]})]}),W.jsxs("label",{children:["Category",W.jsx("input",{className:"form-input",type:"text",value:ye,placeholder:"Set the Category",onChange:le=>ue(le.target.value)})]}),W.jsxs("label",{children:["Placement in Vestergade",W.jsx("input",{className:"form-input",type:"text",value:U,placeholder:"Type the Shelf Placement",onChange:le=>N(le.target.value)})]}),W.jsxs("label",{children:["Placement in Fredensgade",W.jsx("input",{className:"form-input",type:"text",value:w,placeholder:"Type the Shelf Placement",onChange:le=>b(le.target.value)})]}),W.jsxs("label",{children:["Placement in Aalborg",W.jsx("input",{className:"form-input",type:"text",value:I,placeholder:"Type the Shelf Placement",onChange:le=>V(le.target.value)})]}),W.jsxs("label",{children:["Placement in Kolding",W.jsx("input",{className:"form-input",type:"text",value:z,placeholder:"Type the Shelf Placement",onChange:le=>O(le.target.value)})]}),W.jsx("p",{className:"text-error",children:ht}),W.jsx("button",{type:"submit",children:"Save"})]})}function IO(){const i=Co();async function e(n){const o=await fetch("https://boardgamecafe-dac23-default-rtdb.europe-west1.firebasedatabase.app/posts.json",{method:"POST",body:JSON.stringify(n)});if(o.ok){const u=await o.json();console.log("New post created: ",u),i("/spilcafeen/")}else console.log("Sorry, something went wrong")}return W.jsxs("section",{className:"page",children:[W.jsx("h1",{children:"Create New Post"}),W.jsx(BT,{savePost:e})]})}function OO(){const[i,e]=K.useState(),n=AA(),a=Co(),o=`https://boardgamecafe-dac23-default-rtdb.europe-west1.firebasedatabase.app/posts/${n.postId}.json`;K.useEffect(()=>{async function m(){const y=await(await fetch(o)).json();e(y)}m()},[o]);async function u(m){(await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok&&a("/spilcafeen/")}async function f(){window.confirm(`Do you want to delete post, ${i==null?void 0:i.title}?`)&&(await fetch(o,{method:"DELETE"})).ok&&a("/spilcafeen/")}return W.jsxs("section",{className:"page",children:[W.jsx("h1",{children:"Update Post"}),W.jsx(BT,{post:i,savePost:u}),W.jsx("button",{className:"btn-delete",onClick:f,children:"Delete Post"})]})}const NO="/spilcafeen/assets/logo-Dr2I5K8-.svg";function MO(){return W.jsxs("nav",{children:[W.jsx("img",{src:NO,alt:"Logo",className:"logo"}),W.jsxs("div",{className:"nav-links",children:[W.jsx(Gc,{to:"",className:"nav-link",children:"Posts"}),W.jsx(Gc,{to:"create",className:"nav-link",children:"Create"})]})]})}function xO(){return W.jsxs(W.Fragment,{children:[W.jsx(MO,{}),W.jsx("main",{children:W.jsx(HA,{})})]})}const VO=({element:i,adminOnly:e})=>{const n=localStorage.getItem("user"),[a,o]=qr.useState(null);return qr.useEffect(()=>{n&&(async()=>{const f=await getDoc(doc(db,"admins",n.uid));o(f.exists())})()},[n]),a===null?W.jsx("div",{children:"Loading..."}):e&&!a?W.jsx(Redirect,{to:"/spilcafeen/"}):i},LO=dw([{path:"/spilcafeen/",element:W.jsx(xO,{}),children:[{index:!0,element:W.jsx(pO,{})},{path:"home",element:W.jsx(DO,{})},{path:"create",element:W.jsx(VO,{element:W.jsx(IO,{}),adminOnly:!0})},{path:"posts/:postId",element:W.jsx(OO,{})}]}]);function PO(){return W.jsx(Rw,{router:LO})}Sb.createRoot(document.getElementById("root")).render(W.jsx(qr.StrictMode,{children:W.jsx(PO,{})}));
